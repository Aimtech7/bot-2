function _0x1c5f(_0x4be904,_0x8d8f0f){const _0x432e0e=_0x5a66();return _0x1c5f=function(_0x2d4732,_0x2fb6d2){_0x2d4732=_0x2d4732-(-0x6*0x5ce+0x1958+0x86*0x14);let _0x4ac7ed=_0x432e0e[_0x2d4732];return _0x4ac7ed;},_0x1c5f(_0x4be904,_0x8d8f0f);}const _0x48be12=_0x1c5f;(function(_0x34c7cf,_0x5e94aa){const _0x22993f=_0x1c5f,_0x2264a8=_0x34c7cf();while(!![]){try{const _0x59bfc5=parseInt(_0x22993f(0x1cd))/(-0x1*-0x719+-0x41*0x17+-0x141)+-parseInt(_0x22993f(0x15e))/(0xad8*-0x1+0x1*0x2210+-0x1736)+parseInt(_0x22993f(0x11e))/(-0x17*-0x18b+-0x2569+-0xb*-0x2d)*(-parseInt(_0x22993f(0x103))/(0x7b*-0x1+-0xcf1+0xa*0x158))+-parseInt(_0x22993f(0x140))/(0x1844+0xf16+-0x2755)*(-parseInt(_0x22993f(0x1cc))/(-0xfe1+0x1a57+-0xa70*0x1))+-parseInt(_0x22993f(0x125))/(-0x1*-0xdb7+-0x81d+0x1*-0x593)*(-parseInt(_0x22993f(0x1be))/(0x3ed*-0x1+-0x1af+0x2d2*0x2))+-parseInt(_0x22993f(0x182))/(-0x3a7*-0x8+0x417*-0x4+-0xcd3)+parseInt(_0x22993f(0x104))/(-0x1*-0x61b+-0xc4+0x54d*-0x1);if(_0x59bfc5===_0x5e94aa)break;else _0x2264a8['push'](_0x2264a8['shift']());}catch(_0x7b3689){_0x2264a8['push'](_0x2264a8['shift']());}}}(_0x5a66,-0x3d*0x2fab+0x1*-0xb03e3+0x1ed778));import{info,warn}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isSudo}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isJidGroup}from'@whiskeysockets/baileys';export const name=_0x48be12(0x1c0)+_0x48be12(0x138);export const version='1.2.0';export const priority=-0xfd*0x2+0x5+0x244;export const configKeys=[_0x48be12(0x130)+_0x48be12(0x12c)];export const commands=[_0x48be12(0x1b9)];const FALLBACKS={'MIN_INTERVAL_MS':0x1388,'REACTIONS':['ðŸš€','ðŸŒŽ','â™»ï¸'],'IGNORE_BOT_USER':![]};let botRef=null,shuttingDown=![],lastReactionTime=-0x1f*-0x48+-0x2019+0x1761,messageHandler=null;const CFG={'MIN_INTERVAL_MS':FALLBACKS[_0x48be12(0x10d)+_0x48be12(0x18f)],'REACTIONS':FALLBACKS[_0x48be12(0x183)][_0x48be12(0x193)](),'IGNORE_BOT_USER':FALLBACKS[_0x48be12(0x1a2)+'_USER']};function refreshConfig(){const _0x191745=_0x48be12;try{const _0x35c84f=getConfig()||{},_0x311986=_0x35c84f&&_0x35c84f[_0x191745(0x130)+_0x191745(0x12c)]?_0x35c84f[_0x191745(0x130)+_0x191745(0x12c)]:{};CFG[_0x191745(0x10d)+_0x191745(0x18f)]=Number(_0x311986['MIN_INTERV'+_0x191745(0x18f)])||CFG[_0x191745(0x10d)+_0x191745(0x18f)],CFG[_0x191745(0x1a2)+'_USER']=typeof _0x311986[_0x191745(0x1a2)+'_USER']==='boolean'?_0x311986[_0x191745(0x1a2)+_0x191745(0x15a)]:CFG['IGNORE_BOT'+_0x191745(0x15a)];if(Array['isArray'](_0x311986[_0x191745(0x183)])&&_0x311986[_0x191745(0x183)][_0x191745(0x17c)]>0x1*0x25fd+-0x10*0x7a+0x1*-0x1e5d)CFG['REACTIONS']=_0x311986[_0x191745(0x183)][_0x191745(0x193)]();else typeof _0x311986[_0x191745(0x183)]===_0x191745(0x196)&&_0x311986[_0x191745(0x183)][_0x191745(0x1dd)]()['length']>-0x9*-0x194+0x1*-0x1eb5+-0xa9*-0x19&&(CFG[_0x191745(0x183)]=_0x311986[_0x191745(0x183)][_0x191745(0x1b2)](',')[_0x191745(0x191)](_0xc82bc6=>_0xc82bc6['trim']())[_0x191745(0x122)](Boolean));}catch(_0x5dbe48){warn('['+name+(']\x20refreshC'+_0x191745(0x113)+_0x191745(0x14f))+(_0x5dbe48?.[_0x191745(0x159)]||_0x5dbe48));}}try{hotReloadConfig&&hotReloadConfig(()=>{const _0xb37038=_0x48be12;refreshConfig(),info('['+name+(_0xb37038(0x109)+_0xb37038(0x12a)+'g.'));});}catch(_0x1b9407){warn('['+name+(_0x48be12(0x14e)+_0x48be12(0x129)+_0x48be12(0x1d2)+_0x48be12(0x1a3))+(_0x1b9407?.[_0x48be12(0x159)]||_0x1b9407));}refreshConfig();async function ensureTable(){const _0x1216b3=_0x48be12;try{let _0x4739b5=[];try{const _0x146dcb=await db[_0x1216b3(0x110)](_0x1216b3(0x14a)+'le_info(\x27a'+_0x1216b3(0x12d)+_0x1216b3(0x15c));_0x4739b5=(_0x146dcb||[])['map'](_0x294b31=>_0x294b31[_0x1216b3(0x172)]);}catch(_0xe86779){_0x4739b5=[];}if(!_0x4739b5[_0x1216b3(0x17c)])await db[_0x1216b3(0x186)](_0x1216b3(0x152)+_0x1216b3(0x13a)+_0x1216b3(0x144)+_0x1216b3(0x1c6)+'fs\x20(\x0a\x20\x20\x20\x20\x20'+_0x1216b3(0x156)+_0x1216b3(0x174)+_0x1216b3(0x100)+_0x1216b3(0x194)+_0x1216b3(0x1d9)+_0x1216b3(0x12e)+_0x1216b3(0x1bb)+_0x1216b3(0x115)+'\x20DEFAULT\x200'+_0x1216b3(0x10a)),info('['+name+(_0x1216b3(0x11c)+_0x1216b3(0x179)+'react_pref'+_0x1216b3(0x1e1)+_0x1216b3(0x14b))),_0x4739b5=['key',_0x1216b3(0x106),_0x1216b3(0x18b)];else{if(!_0x4739b5[_0x1216b3(0x118)](_0x1216b3(0x18b)))try{await db['run'](_0x1216b3(0x1d3)+_0x1216b3(0x17e)+_0x1216b3(0x170)+_0x1216b3(0x1cb)+_0x1216b3(0x197)+_0x1216b3(0x185)+_0x1216b3(0x116)),info('['+name+(_0x1216b3(0x192)+_0x1216b3(0x119)+_0x1216b3(0x16b)+_0x1216b3(0x1c1)+_0x1216b3(0x1a5)+'t.'));}catch(_0x177bed){warn('['+name+(_0x1216b3(0x13d)+'o\x20add\x20upda'+'ted_at\x20col'+_0x1216b3(0x13f)+_0x1216b3(0x146)+'\x20')+(_0x177bed?.[_0x1216b3(0x159)]||_0x177bed));}}try{const _0x51d7e7=await db[_0x1216b3(0x135)](_0x1216b3(0x18d)+'ue\x20FROM\x20au'+_0x1216b3(0x137)+_0x1216b3(0x127)+'key=\x27enabl'+_0x1216b3(0x1e0));if(!_0x51d7e7){const _0x23c9d4=Math[_0x1216b3(0x142)](Date[_0x1216b3(0x14c)]()/(-0x78*0x30+0x24bf+0xa57*-0x1));await db[_0x1216b3(0x199)](_0x1216b3(0x1c3)+_0x1216b3(0x124)+_0x1216b3(0x1af)+_0x1216b3(0x1de)+_0x1216b3(0x1a5)+'t)\x20VALUES\x20'+_0x1216b3(0x1b3)+_0x1216b3(0x11d)+'?)',[_0x23c9d4]),info('['+name+(']\x20created\x20'+_0x1216b3(0x141)+_0x1216b3(0x160)+'e'));}}catch(_0x1b93ea){const _0x4bfa19=String(_0x1b93ea?.[_0x1216b3(0x159)]||'')[_0x1216b3(0x175)+'e']();if(_0x4bfa19[_0x1216b3(0x118)](_0x1216b3(0x112))||_0x4bfa19['includes']('has\x20no\x20col'+_0x1216b3(0x1c2)))try{const _0x242f6d=Math[_0x1216b3(0x142)](Date[_0x1216b3(0x14c)]()/(0x235f+0x39*0xac+-0x45c3));await db[_0x1216b3(0x199)]('INSERT\x20OR\x20'+_0x1216b3(0x147)+_0x1216b3(0x1b4)+_0x1216b3(0x177)+_0x1216b3(0x145)+_0x1216b3(0x154)+'\x27enabled\x27,'+'\x27false\x27)'),info('['+name+(']\x20created\x20'+_0x1216b3(0x141)+'abled=fals'+_0x1216b3(0x117)+_0x1216b3(0x1c5)));}catch(_0xa74612){warn('['+name+(']\x20fallback'+'\x20insert\x20fa'+_0x1216b3(0x190))+(_0xa74612?.[_0x1216b3(0x159)]||_0xa74612));}else warn('['+name+(_0x1216b3(0x188)+'efault\x20ena'+_0x1216b3(0x16f)+_0x1216b3(0x1b1))+(_0x1b93ea?.[_0x1216b3(0x159)]||_0x1b93ea));}}catch(_0x9d0675){warn('['+name+(_0x1216b3(0x107)+'ble\x20error:'+'\x20')+(_0x9d0675?.[_0x1216b3(0x159)]||_0x9d0675));throw _0x9d0675;}}async function readEnabledFromDb(){const _0x43b689=_0x48be12;try{const _0x4b98d5=await db[_0x43b689(0x135)](_0x43b689(0x18d)+_0x43b689(0x1bf)+_0x43b689(0x137)+'efs\x20WHERE\x20'+_0x43b689(0x19e)+_0x43b689(0x1ad)+'1');if(!_0x4b98d5)return![];const _0x35e80f=String(_0x4b98d5['value'])[_0x43b689(0x175)+'e']();return _0x35e80f===_0x43b689(0x1d1)||_0x35e80f==='1';}catch(_0x3e28dc){return warn('['+name+(']\x20readEnab'+_0x43b689(0x19a)+_0x43b689(0x19c))+(_0x3e28dc?.[_0x43b689(0x159)]||_0x3e28dc)),![];}}function _0x5a66(){const _0x5e66e1=['\x20from\x20','true','gistration','ALTER\x20TABL','irmation\x20f','participan',']\x20initiali','eactions:\x20','adcast','EXT\x20NOT\x20NU','sendMessag','eply\x20to\x20ow','\x0aIgnore\x20bo','trim','ey,\x20value,','o\x20disable\x20','ed\x27','s\x20(with\x20up','\x20\x20\x20\x20ON\x20CON','\x20available','extendedTe','ndler\x20erro','KEY,\x0a\x20\x20\x20\x20\x20','=excluded.',',\x20reaction','81820SCxpGt','1807900NRXiav','te:\x20*','value',']\x20ensureTa','DB\x20error).',']\x20hot-relo','\x0a\x20\x20\x20\x20\x20\x20);','listRespon','ble\x20to\x20sen','MIN_INTERV',']\x20Cannot\x20r','messages.u','all','tatus.init','no\x20column','onfig\x20erro','\x20for\x20statu','at\x20INTEGER','FAULT\x200','e\x20(fallbac','includes','\x20autoreact',']\x20sendStat','statusJidL',']\x20created\x20',',\x27false\x27,\x20','9RWNGUe','false','has','imageMessa','filter','catch','O\x20autoreac','270697NIUlkk',']\x20saveEnab','efs\x20WHERE\x20',']\x20messages','dConfig\x20re','aded\x20confi','\x20?)','STATUS','utoreact_p','LL,\x0a\x20\x20\x20\x20\x20\x20','alization\x20','AUTOREACT_','\x20status\x20\x20\x20','usReaction','delete','pdated_at)','get','tuses\x0a','toreact_pr','tatus','ner\x20becaus','LE\x20IF\x20NOT\x20',']\x20saved\x20en','\x20(fallback',']\x20failed\x20t',']\x20onMessag','umn\x20(will\x20','2160RXyZVZ','default\x20en','floor','*\x0aMin\x20Inte','EXISTS\x20aut','key,\x20value','continue):','REPLACE\x20IN','ttonId','isCommand','PRAGMA\x20tab','dated_at).','now','t\x20user:\x20',']\x20hotReloa','r:\x20','essage\x20met','videoMessa','CREATE\x20TAB','(DB\x20error)',')\x20VALUES\x20(','is\x20not\x20ava','\x20\x20\x20key\x20TEX','key','\x20without\x20u','message','_USER','\x20to\x20status','refs\x27)','w\x20current\x20','1531316jQMFFI','selectedBu','abled=fals','s\x20reaction','ialize\x20req','isArray','DISABLED','llback\x20fai','[autoreact','Usage\x20(PM\x20',']\x20no\x20sendM','join','random','_prefs:\x20ad','psert','fromMe','ctReply','bled\x20row\x20f','t_prefs\x20AD','caption','name','xtMessage','T\x20PRIMARY\x20','toLowerCas','only):\x0a','ct_prefs\x20(','.upsert\x20ha','table\x20auto','t)\x20VALUES\x20',']\x20Failed\x20t','length','state/conf','E\x20autoreac',',\x20MinInter','ist','sock','2796309ilMjfU','REACTIONS','value,\x20upd','INTEGER\x20DE','exec',']\x20reacted\x20',']\x20ensure\x20d','hod\x20availa','ing\x20to\x20sta','updated_at',']\x20cleanup\x20','SELECT\x20val','uses\x0a','AL_MS','iled:\x20','map',']\x20migrated','slice','\x20\x20\x20value\x20T','ilable.','string','pdated_at\x20','remoteJid','run','ledFromDb\x20','\x20\x20\x20\x20->\x20sho','error:\x20','singleSele','key=\x27enabl','ENABLED','selectedRo','has\x20no\x20col','IGNORE_BOT','\x20failed:\x20','seMessage','\x20updated_a','le\x20\x20->\x20dis','function','zed\x20(DB-ba','essage\x20API','\x20DO\x20UPDATE','o\x20enable\x20(','e\x20error:\x20','ed\x27\x20LIMIT\x20','conversati','t_prefs\x20(k','-only)*\x0a\x0aC','ailed:\x20','split','(\x27enabled\x27','TO\x20autorea','enable','instance','disable','abled=','autoreact','wId','\x20\x20updated_','\x20on|enable','status@bro','24XVbjkc','ue\x20FROM\x20au','autoReactS','ded\x20column','umn','INSERT\x20INT','text','k\x20insert).','oreact_pre','valMs=',',\x20?,\x20?)\x0a\x20\x20','[unknown]','ng\x20to\x20stat','D\x20COLUMN\x20u','9498nTBryP','712031WgJFov','\x20SET\x20value','e\x20bot\x20JID\x20'];_0x5a66=function(){return _0x5e66e1;};return _0x5a66();}async function saveEnabledToDb(_0x36eb17){const _0x5d1853=_0x48be12;try{const _0xf1ff9d=_0x36eb17?_0x5d1853(0x1d1):'false',_0x16ce52=Math['floor'](Date[_0x5d1853(0x14c)]()/(0x2*-0x10d4+-0x118d*0x1+0x371d));return await db[_0x5d1853(0x199)](_0x5d1853(0x1c3)+_0x5d1853(0x124)+_0x5d1853(0x1af)+'ey,\x20value,'+_0x5d1853(0x1a5)+_0x5d1853(0x17a)+_0x5d1853(0x1b3)+_0x5d1853(0x1c8)+_0x5d1853(0xfc)+'FLICT(key)'+_0x5d1853(0x1aa)+_0x5d1853(0x1ce)+_0x5d1853(0x101)+_0x5d1853(0x184)+'ated_at=ex'+'cluded.upd'+'ated_at',[_0xf1ff9d,_0x16ce52]),info('['+name+(_0x5d1853(0x13b)+_0x5d1853(0x1b8))+_0xf1ff9d),!![];}catch(_0x4c93b8){const _0x5e3ef3=String(_0x4c93b8?.[_0x5d1853(0x159)]||'')[_0x5d1853(0x175)+'e']();if(_0x5e3ef3[_0x5d1853(0x118)](_0x5d1853(0x1a1)+_0x5d1853(0x1c2))||_0x5e3ef3[_0x5d1853(0x118)](_0x5d1853(0x112)))try{return await db['run']('INSERT\x20OR\x20'+_0x5d1853(0x147)+'TO\x20autorea'+'ct_prefs\x20('+_0x5d1853(0x145)+_0x5d1853(0x154)+'\x27enabled\x27,'+_0x5d1853(0x12b),[val]),info('['+name+(_0x5d1853(0x13b)+_0x5d1853(0x1b8))+val+(_0x5d1853(0x13c)+_0x5d1853(0x158)+_0x5d1853(0x134))),!![];}catch(_0x247b35){return warn('['+name+(_0x5d1853(0x126)+'ledToDb\x20fa'+_0x5d1853(0x165)+'led:\x20')+(_0x247b35?.[_0x5d1853(0x159)]||_0x247b35)),![];}return warn('['+name+(_0x5d1853(0x126)+'ledToDb\x20er'+'ror:\x20')+(_0x4c93b8?.[_0x5d1853(0x159)]||_0x4c93b8)),![];}}function pickReactionEmoji(){const _0x1dbeeb=_0x48be12;if(!Array[_0x1dbeeb(0x163)](CFG[_0x1dbeeb(0x183)])||CFG[_0x1dbeeb(0x183)][_0x1dbeeb(0x17c)]===-0x847*0x1+-0x3*0x330+0x1*0x11d7)return null;return CFG[_0x1dbeeb(0x183)][Math['floor'](Math[_0x1dbeeb(0x16a)]()*CFG[_0x1dbeeb(0x183)][_0x1dbeeb(0x17c)])];}async function sendStatusReaction(_0x3f369c,_0x335147,_0x118fba){const _0x1b55bc=_0x48be12;if(!_0x3f369c||!_0x3f369c[_0x1b55bc(0x157)]||!_0x335147)return![];const _0x16fca3=_0x3f369c[_0x1b55bc(0x157)]['remoteJid'],_0x45413e=_0x3f369c['key'][_0x1b55bc(0x1d5)+'t'];try{const _0x1483f7={};if(_0x45413e||_0x118fba)_0x1483f7[_0x1b55bc(0x11b)+_0x1b55bc(0x180)]=[_0x45413e,_0x118fba][_0x1b55bc(0x122)](Boolean);if(botRef&&botRef[_0x1b55bc(0x181)]&&typeof botRef['sock'][_0x1b55bc(0x1da)+'e']===_0x1b55bc(0x1a7))return await botRef[_0x1b55bc(0x181)][_0x1b55bc(0x1da)+'e'](_0x16fca3,{'react':{'key':_0x3f369c['key'],'text':_0x335147}},_0x1483f7),!![];else return botRef&&typeof botRef[_0x1b55bc(0x1da)+'e']===_0x1b55bc(0x1a7)?(await botRef['sendMessag'+'e'](_0x16fca3,{'react':{'key':_0x3f369c[_0x1b55bc(0x157)],'text':_0x335147}},_0x1483f7),!![]):(warn('['+name+(_0x1b55bc(0x168)+_0x1b55bc(0x1a9)+_0x1b55bc(0xfd)+_0x1b55bc(0x114)+_0x1b55bc(0x161))),![]);}catch(_0x5231c5){return warn('['+name+(_0x1b55bc(0x11a)+_0x1b55bc(0x132)+_0x1b55bc(0x1a3))+(_0x5231c5?.[_0x1b55bc(0x159)]||_0x5231c5)),![];}}function createMessageHandler(){return async function _0x1cbec7(_0x1c3fea){const _0x1a88b2=_0x1c5f;try{if(shuttingDown)return;refreshConfig();const _0x4512fd=await readEnabledFromDb();if(!_0x4512fd)return;const {messages:_0x4a91e9}=_0x1c3fea||{};if(!Array[_0x1a88b2(0x163)](_0x4a91e9)||_0x4a91e9['length']===0x128d*0x2+-0x257b+0x61*0x1)return;const _0x5d62a9=Date['now'](),_0x17d07c=getBotJid();if(!_0x17d07c&&CFG['IGNORE_BOT'+_0x1a88b2(0x15a)])return;for(const _0x8857f3 of _0x4a91e9){try{if(!_0x8857f3||!_0x8857f3['key'])continue;if(_0x8857f3['key']['remoteJid']!==_0x1a88b2(0x1bd)+_0x1a88b2(0x1d8))continue;if(_0x5d62a9-lastReactionTime<Number(CFG[_0x1a88b2(0x10d)+_0x1a88b2(0x18f)]||FALLBACKS[_0x1a88b2(0x10d)+_0x1a88b2(0x18f)]))continue;const _0x2ac565=pickReactionEmoji();if(!_0x2ac565)continue;const _0x3f7341=await sendStatusReaction(_0x8857f3,_0x2ac565,_0x17d07c);_0x3f7341&&(lastReactionTime=Date['now'](),info('['+name+_0x1a88b2(0x187)+_0x2ac565+(_0x1a88b2(0x15b)+_0x1a88b2(0x1d0))+(_0x8857f3['key']['participan'+'t']||_0x1a88b2(0x1c9))),await new Promise(_0x3a4eaf=>setTimeout(_0x3a4eaf,0x137*0x1+-0x19*0x3b+0x680)));}catch(_0xc3447a){warn('['+name+(']\x20inner\x20ha'+'ndler\x20erro'+'r:\x20')+(_0xc3447a?.[_0x1a88b2(0x159)]||_0xc3447a));}}}catch(_0x28721b){warn('['+name+(_0x1a88b2(0x128)+_0x1a88b2(0x178)+_0x1a88b2(0xff)+_0x1a88b2(0x14f))+(_0x28721b?.['message']||_0x28721b));}};}const processedCmdKeys=new Map(),CMD_DEDUPE_TTL_MS=(-0x1b4c+0x2*0x32+0x1b06)*(-0x3*0x202+0x2381*-0x1+0x2d6f);function markCmdProcessed(_0x3e1ef7){const _0x4865dc=_0x48be12;if(!_0x3e1ef7)return;if(processedCmdKeys[_0x4865dc(0x120)](_0x3e1ef7))try{clearTimeout(processedCmdKeys[_0x4865dc(0x135)](_0x3e1ef7));}catch(_0x4eb344){};const _0x27ce59=setTimeout(()=>processedCmdKeys[_0x4865dc(0x133)](_0x3e1ef7),CMD_DEDUPE_TTL_MS);processedCmdKeys['set'](_0x3e1ef7,_0x27ce59);}function isCmdProcessed(_0x1b53bc){const _0x194612=_0x48be12;return _0x1b53bc&&processedCmdKeys[_0x194612(0x120)](_0x1b53bc);}export async function onMessage(_0x138c3b){const _0x1c7b7c=_0x48be12;try{if(!_0x138c3b||!_0x138c3b[_0x1c7b7c(0x157)]||!_0x138c3b[_0x1c7b7c(0x159)]||!_0x138c3b[_0x1c7b7c(0x149)])return;if(isJidGroup(_0x138c3b[_0x1c7b7c(0x157)][_0x1c7b7c(0x198)]))return;const _0x382bee=_0x138c3b[_0x1c7b7c(0x157)][_0x1c7b7c(0x16d)],_0x440d16=await isSudo(botRef,_0x138c3b)[_0x1c7b7c(0x123)](()=>![]);if(!_0x382bee&&!_0x440d16)return;let _0x2202f1;if(_0x382bee){_0x2202f1=getBotJid();if(!_0x2202f1){warn('['+name+(_0x1c7b7c(0x10e)+_0x1c7b7c(0x1db)+_0x1c7b7c(0x139)+_0x1c7b7c(0x1cf)+_0x1c7b7c(0x155)+_0x1c7b7c(0x195)));return;}}else _0x2202f1=_0x138c3b['key']['remoteJid'];const _0x2b0b3d=String(_0x138c3b['key'][_0x1c7b7c(0x198)]||'')+'::'+String(_0x138c3b['key']['id']||_0x138c3b[_0x1c7b7c(0x157)][_0x1c7b7c(0x1d5)+'t']||'');if(isCmdProcessed(_0x2b0b3d))return;markCmdProcessed(_0x2b0b3d);const _0x209ef7=typeof _0x138c3b['text']==='string'&&_0x138c3b['text'][_0x1c7b7c(0x1dd)]()['length']?_0x138c3b[_0x1c7b7c(0x1c4)][_0x1c7b7c(0x1dd)]():function _0x5d49e4(_0x14e139){const _0x5a0171=_0x1c7b7c;if(!_0x14e139||!_0x14e139[_0x5a0171(0x159)])return'';const _0x24e073=_0x14e139[_0x5a0171(0x159)];if(_0x24e073[_0x5a0171(0x1ae)+'on'])return _0x24e073[_0x5a0171(0x1ae)+'on'];if(_0x24e073[_0x5a0171(0xfe)+'xtMessage']?.['text'])return _0x24e073[_0x5a0171(0xfe)+_0x5a0171(0x173)][_0x5a0171(0x1c4)];if(_0x24e073[_0x5a0171(0x121)+'ge']?.[_0x5a0171(0x171)])return _0x24e073[_0x5a0171(0x121)+'ge'][_0x5a0171(0x171)];if(_0x24e073[_0x5a0171(0x151)+'ge']?.[_0x5a0171(0x171)])return _0x24e073['videoMessa'+'ge']['caption'];if(_0x24e073['buttonsRes'+'ponseMessa'+'ge']?.[_0x5a0171(0x15f)+_0x5a0171(0x148)])return _0x24e073['buttonsRes'+'ponseMessa'+'ge'][_0x5a0171(0x15f)+_0x5a0171(0x148)];if(_0x24e073[_0x5a0171(0x10b)+'seMessage']?.['singleSele'+_0x5a0171(0x16e)]?.[_0x5a0171(0x1a0)+_0x5a0171(0x1ba)])return _0x24e073[_0x5a0171(0x10b)+_0x5a0171(0x1a4)][_0x5a0171(0x19d)+_0x5a0171(0x16e)]['selectedRo'+_0x5a0171(0x1ba)];return'';}(_0x138c3b)||'';if(!_0x209ef7)return;const _0x55c460=(_0x209ef7[_0x1c7b7c(0x1b2)](/\r?\n/)[0xb8f+-0x1a*-0xa9+-0x2b*0xab]||'')[_0x1c7b7c(0x1dd)](),_0x4f0c65=_0x55c460[_0x1c7b7c(0x1b2)](/\s+/),_0x33bf17=(_0x4f0c65[0x135*-0x1d+0x1*-0x29b+0x967*0x4]||'')[_0x1c7b7c(0x175)+'e']();if(!commands[_0x1c7b7c(0x118)](_0x33bf17))return;const _0x114e2f=(_0x4f0c65[-0x1058*-0x2+0x263f+-0x511*0xe]||'')[_0x1c7b7c(0x175)+'e']();if(['on',_0x1c7b7c(0x1b5),_0x1c7b7c(0x1d1),'1'][_0x1c7b7c(0x118)](_0x114e2f)){const _0x447ac6=await saveEnabledToDb(!![]);if(_0x447ac6)await sendConfirmation(_0x2202f1,_0x1c7b7c(0x166)+']\x20Enabled.');else await sendConfirmation(_0x2202f1,_0x1c7b7c(0x166)+_0x1c7b7c(0x17b)+_0x1c7b7c(0x1ab)+_0x1c7b7c(0x108));return;}if(['off',_0x1c7b7c(0x1b7),_0x1c7b7c(0x11f),'0']['includes'](_0x114e2f)){const _0x11b360=await saveEnabledToDb(![]);if(_0x11b360)await sendConfirmation(_0x2202f1,_0x1c7b7c(0x166)+']\x20Disabled'+'.');else await sendConfirmation(_0x2202f1,'[autoreact'+']\x20Failed\x20t'+_0x1c7b7c(0x1df)+_0x1c7b7c(0x153)+'.');return;}if(_0x114e2f==='status'||_0x114e2f==='state'||!_0x114e2f){const _0x2432be=await readEnabledFromDb(),_0x2b3c6e=_0x2432be?_0x1c7b7c(0x19f):_0x1c7b7c(0x164);await sendConfirmation(_0x2202f1,'*AutoReact'+'Status\x20(PM'+_0x1c7b7c(0x1b0)+'urrent\x20Sta'+_0x1c7b7c(0x105)+_0x2b3c6e+(_0x1c7b7c(0x143)+'rval\x20(ms):'+'\x20')+CFG[_0x1c7b7c(0x10d)+'AL_MS']+('\x0aTerminalR'+_0x1c7b7c(0x1d7))+CFG[_0x1c7b7c(0x183)][_0x1c7b7c(0x169)]('\x20')+(_0x1c7b7c(0x1dc)+_0x1c7b7c(0x14d))+CFG[_0x1c7b7c(0x1a2)+_0x1c7b7c(0x15a)]);return;}await sendConfirmation(_0x2202f1,_0x1c7b7c(0x167)+_0x1c7b7c(0x176)+(_0x1c7b7c(0x119)+_0x1c7b7c(0x1bc)+'\x20\x20\x20\x20->\x20ena'+'ble\x20reacti'+_0x1c7b7c(0x1ca)+_0x1c7b7c(0x18e))+(_0x1c7b7c(0x119)+'\x20off|disab'+_0x1c7b7c(0x1a6)+'able\x20react'+_0x1c7b7c(0x18a)+_0x1c7b7c(0x136))+(_0x1c7b7c(0x119)+_0x1c7b7c(0x131)+_0x1c7b7c(0x19b)+_0x1c7b7c(0x15d)+_0x1c7b7c(0x17d)+'ig'));}catch(_0x13cbe0){warn('['+name+(_0x1c7b7c(0x13e)+_0x1c7b7c(0x1ac))+(_0x13cbe0?.['message']||_0x13cbe0));}}async function sendConfirmation(_0x3c0129,_0x347702){const _0xf35871=_0x48be12;try{if(!_0x3c0129)return;if(botRef&&botRef[_0xf35871(0x181)]&&typeof botRef[_0xf35871(0x181)][_0xf35871(0x1da)+'e']===_0xf35871(0x1a7))await botRef[_0xf35871(0x181)][_0xf35871(0x1da)+'e'](_0x3c0129,{'text':_0x347702});else botRef&&typeof botRef[_0xf35871(0x1da)+'e']===_0xf35871(0x1a7)?await botRef[_0xf35871(0x1da)+'e'](_0x3c0129,{'text':_0x347702}):warn('['+name+(_0xf35871(0x168)+_0xf35871(0x150)+_0xf35871(0x189)+_0xf35871(0x10c)+'d\x20confirma'+'tion'));}catch(_0x50b20c){warn('['+name+(']\x20sendConf'+_0xf35871(0x1d4)+_0xf35871(0x1b1))+(_0x50b20c?.[_0xf35871(0x159)]||_0x50b20c));}}export async function initialize(_0xf06d04){const _0x4fed05=_0x48be12;if(!_0xf06d04)throw new Error(_0x4fed05(0x1c0)+_0x4fed05(0x111)+_0x4fed05(0x162)+'uires\x20bot\x20'+_0x4fed05(0x1b6));botRef=_0xf06d04,shuttingDown=![],refreshConfig(),await ensureTable()[_0x4fed05(0x123)](_0xfc3097=>{const _0x17c528=_0x4fed05;warn('['+name+(']\x20DB\x20initi'+_0x17c528(0x12f)+'failed\x20(en'+'sureTable)'+':\x20')+(_0xfc3097?.[_0x17c528(0x159)]||_0xfc3097));});const _0x85a735=await readEnabledFromDb();messageHandler=createMessageHandler(),startManagedListener({'botRef':botRef,'eventName':_0x4fed05(0x10f)+'psert','handler':messageHandler,'moduleName':name}),info('['+name+(_0x4fed05(0x1d6)+_0x4fed05(0x1a8)+'sed).\x20enab'+'led=')+(_0x85a735?_0x4fed05(0x1d1):_0x4fed05(0x11f))+(_0x4fed05(0x17f)+_0x4fed05(0x1c7))+CFG[_0x4fed05(0x10d)+_0x4fed05(0x18f)]+(_0x4fed05(0x102)+'s=')+CFG[_0x4fed05(0x183)]['join']('\x20'));}export async function cleanup(){const _0x3847de=_0x48be12;try{stopManagedListener(name,_0x3847de(0x10f)+_0x3847de(0x16c)),shuttingDown=!![],lastReactionTime=-0x14ac+-0x1fc*0x1+0x16a8,messageHandler=null;}catch(_0x236c7b){warn('['+name+(_0x3847de(0x18c)+_0x3847de(0x19c))+(_0x236c7b?.[_0x3847de(0x159)]||_0x236c7b));}finally{botRef=null,info('['+name+(']\x20cleaned\x20'+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};