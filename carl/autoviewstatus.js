const _0x1cb8cc=_0x63e9;(function(_0x5d45fa,_0x5d9a64){const _0x2796be=_0x63e9,_0x5cf106=_0x5d45fa();while(!![]){try{const _0x45fbf1=-parseInt(_0x2796be(0xaf))/(0x1*0x2683+-0x26e5+0x1*0x63)*(-parseInt(_0x2796be(0xfc))/(-0x2*0x864+0xec5*0x1+0x205*0x1))+parseInt(_0x2796be(0xc3))/(0x2*-0x6c4+0xe55+-0xca*0x1)*(-parseInt(_0x2796be(0xb6))/(0x92b+-0x14e3*-0x1+-0x1e0a))+-parseInt(_0x2796be(0x167))/(-0xab+-0x1257+0x1307)+parseInt(_0x2796be(0x15b))/(0x2309+0x24bb+-0x3*0x17ea)*(parseInt(_0x2796be(0xb5))/(0x15c+0xc75*0x3+-0x26b4))+-parseInt(_0x2796be(0x127))/(0x2175+0x1*-0x15b5+-0x96*0x14)*(-parseInt(_0x2796be(0xbf))/(0x94*-0x26+0x3*0x355+0xc02))+parseInt(_0x2796be(0x109))/(0x1*-0x1f8e+0xaf*-0x1+0x2047*0x1)*(-parseInt(_0x2796be(0x117))/(0x20b+-0x29d*0x7+-0x1*-0x104b))+parseInt(_0x2796be(0x11d))/(0x197d+0x1ca0+-0x3611);if(_0x45fbf1===_0x5d9a64)break;else _0x5cf106['push'](_0x5cf106['shift']());}catch(_0x491798){_0x5cf106['push'](_0x5cf106['shift']());}}}(_0x1db3,-0x2d*-0x5117+0x2*0xbf195+0x5ad*-0x43d));import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';function _0x1db3(){const _0x567691=['nable\x20\x20\x20\x20-',':\x20ensure\x20d','isCommand','caption','undefined','op\x20error:\x20','isArray','length','hod\x20availa','autoviewst','bled','atusview_p','44ZVnccV',')\x20DO\x20UPDAT','participan','O\x20statusvi','tusview_pr','[autoviews','43873560ZDwXbp','refs\x20WHERE','floor','now','ttonId','false','llback\x20fai',':\x20no\x20sendM','updated_at','at)\x20VALUES','1504kFgkjT','wer.initia','\x20INTEGER\x20D',',\x20updated_','\x20autoviews','error:\x20','(\x27enabled\x27','text','\x20key=\x27enab','\x20failed:\x20','remoteJid',':\x20inner\x20lo','robi','Africa/Nai','e=excluded','INSERT\x20INT','\x20at\x20','ED_WITH_SE',':\x20onMessag','string','efault\x20ena','NFLICT(key','tus\x20as\x20rea','ring',':\x20cannot\x20r','ailed:\x20','only):\x0a','key,\x20value',':\x20saveEnab','wId','bled\x20row:\x20','led\x27','efs\x20(\x0a\x20\x20\x20\x20','efsTable\x20e','state','TO\x20statusv','res\x20bot\x20in','value','listRespon','ew_prefs\x20A','SELECT\x20val','_at\x20INTEGE','CONDS',':\x20failed\x20t','DISABLED','>\x20enable\x0a',',\x20?)','true','get','ledToDb\x20fa','XT\x20PRIMARY','Status\x20Vie','64458abIXkX','e\x20error:\x20','buttonsRes','sock','0\x0a\x20\x20\x20\x20\x20\x20);','ponseMessa','umn:\x20',',\x27false\x27)','umn','ner\x20(bot\x20J','\x20\x20\x20\x20key\x20TE','1.0.4','6994240FebjRD','includes','tatus\x20on|e','DD\x20COLUMN\x20','split','REPLACE\x20IN','setZone','off','wer\x0a\x0aState','.upsert\x20ha','INSERT\x20OR\x20','seMessage','toLowerCas','d:\x20','tatus]\x20dis','e)\x20VALUES\x20','tatusview_','R\x20DEFAULT\x20','toLocaleSt','ENABLED','9qlzMzt','AUTOVIEWST','run','ALTER\x20TABL','ble\x20for\x20co','selectedBu','14zysZaT','12wsUyIB','function','r:\x20','singleSele','\x20\x20\x20\x20\x20ON\x20CO','wer','ATUS','all','EXISTS\x20sta','24444AsLfve','xtMessage','\x20\x20\x20\x20value\x20','ledFromDb\x20','1364709otDHBp','has\x20no\x20col','nfirmation','le_info(\x27s','catch','essage\x20met','message','ror:\x20','ctReply',':\x20readEnab','isValid','status-vie','abled','status','TEXT\x20NOT\x20N','irmation\x20f',':\x20cleanup\x20','\x20KEY,\x0a\x20\x20\x20\x20','iew_prefs\x20','\x27,\x27false\x27,','psert','set','delete','LE\x20IF\x20NOT\x20','PRAGMA\x20tab','ndler\x20erro','E\x20SET\x20valu','ledToDb\x20er','dConfig\x20re','fromMe','ULL,\x0a\x20\x20\x20\x20\x20','extendedTe',':\x20DB\x20init\x20','led\x20to\x20dis','videoMessa','readMessag',':\x20refreshC','exec','CREATE\x20TAB','.value,\x20up','tatus\x20off|','status@bro','E\x20statusvi','atus','trim','enable','ue\x20FROM\x20st','conversati','>\x20disable\x0a','tatus]\x20fai','selectedRo','imageMessa','o\x20add\x20upda','o\x20mark\x20sta','tatus\x20stat','\x20\x20\x20updated','sendMessag','68114skcRSf','>\x20show\x20sta','key','tatus\x20from','dated_at=e','prefs\x27)','disable','\x20(\x27enabled',':\x20ensurePr','(key,\x20valu','gistration','read','led\x20to\x20ena','2020120nEscOp','ted_at\x20col'];_0x1db3=function(){return _0x567691;};return _0x1db3();}import{isSudo}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isJidGroup}from'@whiskeysockets/baileys';export const name=_0x1cb8cc(0xce)+_0x1cb8cc(0xbb);export const version=_0x1cb8cc(0x166);export const priority=-0x15*0x94+-0x1*0x3ce+-0xff7*-0x1;export const configKeys=['AUTOVIEWST'+_0x1cb8cc(0xbc)];export const commands=[_0x1cb8cc(0x114)+_0x1cb8cc(0xee)];function _0x63e9(_0x5444ca,_0x25ac30){const _0x33a851=_0x1db3();return _0x63e9=function(_0x420efd,_0x20df08){_0x420efd=_0x420efd-(0xbfe+0x73f+-0x4a4*0x4);let _0x2b0ade=_0x33a851[_0x420efd];return _0x2b0ade;},_0x63e9(_0x5444ca,_0x25ac30);}let botRef=null,DEFAULT_TIMEZONE=_0x1cb8cc(0x134)+_0x1cb8cc(0x133),CFG={'AUTOVIEWSTATUS':![]},shuttingDown=![],messageHandler=null;function refreshConfig(){const _0x4c53f6=_0x1cb8cc;try{const _0x189831=typeof getConfig==='function'?getConfig()||{}:{};CFG[_0x4c53f6(0xb0)+_0x4c53f6(0xbc)]=typeof _0x189831[_0x4c53f6(0xb0)+'ATUS']!==_0x4c53f6(0x10f)?!!_0x189831[_0x4c53f6(0xb0)+'ATUS']:CFG[_0x4c53f6(0xb0)+'ATUS'];}catch(_0x30d44f){warn(name+(_0x4c53f6(0xe7)+'onfig\x20erro'+_0x4c53f6(0xb8))+(_0x30d44f?.[_0x4c53f6(0xc9)]||_0x30d44f));}}try{hotReloadConfig&&hotReloadConfig(()=>{refreshConfig();});}catch(_0xd209bd){warn(name+(':\x20hotReloa'+_0x1cb8cc(0xdf)+_0x1cb8cc(0x106)+_0x1cb8cc(0x130))+(_0xd209bd?.[_0x1cb8cc(0xc9)]||_0xd209bd));}refreshConfig();async function ensurePrefsTable(){const _0x36e8c8=_0x1cb8cc;try{let _0x25f358=[];try{const _0x3ee6d6=await db[_0x36e8c8(0xbd)](_0x36e8c8(0xdb)+_0x36e8c8(0xc6)+_0x36e8c8(0x177)+_0x36e8c8(0x101));_0x25f358=(_0x3ee6d6||[])['map'](_0x476abd=>_0x476abd['name']);}catch(_0x5b0d4b){_0x25f358=[];}if(!_0x25f358['length'])await db[_0x36e8c8(0xe8)](_0x36e8c8(0xe9)+_0x36e8c8(0xda)+_0x36e8c8(0xbe)+_0x36e8c8(0x11b)+_0x36e8c8(0x147)+_0x36e8c8(0x165)+_0x36e8c8(0x159)+_0x36e8c8(0xd4)+_0x36e8c8(0xc1)+_0x36e8c8(0xd1)+_0x36e8c8(0xe1)+_0x36e8c8(0xfa)+_0x36e8c8(0x150)+_0x36e8c8(0x178)+_0x36e8c8(0x15f)),_0x25f358=[_0x36e8c8(0xfe),_0x36e8c8(0x14c),'updated_at'];else{if(!_0x25f358['includes'](_0x36e8c8(0x125)))try{await db[_0x36e8c8(0xb1)](_0x36e8c8(0xb2)+_0x36e8c8(0xed)+_0x36e8c8(0x14e)+_0x36e8c8(0x16a)+_0x36e8c8(0x125)+_0x36e8c8(0x129)+'EFAULT\x200');}catch(_0xfc05be){warn(name+(_0x36e8c8(0x152)+_0x36e8c8(0xf7)+_0x36e8c8(0x10a)+_0x36e8c8(0x161))+(_0xfc05be?.[_0x36e8c8(0xc9)]||_0xfc05be));}}try{const _0x567505=await db[_0x36e8c8(0x157)](_0x36e8c8(0x14f)+_0x36e8c8(0xf1)+_0x36e8c8(0x116)+_0x36e8c8(0x11e)+_0x36e8c8(0x12f)+_0x36e8c8(0x146));if(!_0x567505){const _0x351e0c=Math[_0x36e8c8(0x11f)](Date[_0x36e8c8(0x120)]()/(-0x8c5+-0x8*-0x1d4+-0x1f3));try{await db[_0x36e8c8(0xb1)](_0x36e8c8(0x136)+_0x36e8c8(0x11a)+'ew_prefs\x20('+'key,\x20value'+_0x36e8c8(0x12a)+_0x36e8c8(0x126)+_0x36e8c8(0x103)+_0x36e8c8(0xd6)+'\x20?)',[_0x351e0c]);}catch(_0x2f1b3f){try{await db[_0x36e8c8(0xb1)]('INSERT\x20OR\x20'+_0x36e8c8(0x16c)+_0x36e8c8(0x14a)+_0x36e8c8(0xd5)+_0x36e8c8(0x105)+_0x36e8c8(0x176)+_0x36e8c8(0x12d)+_0x36e8c8(0x162));}catch(_0x406bbf){warn(name+(_0x36e8c8(0x152)+'o\x20insert\x20d'+_0x36e8c8(0x13b)+_0x36e8c8(0x145))+(_0x406bbf?.[_0x36e8c8(0xc9)]||_0x406bbf));}}}}catch(_0x4b9784){warn(name+(_0x36e8c8(0x10c)+_0x36e8c8(0x13b)+'bled\x20row\x20f'+_0x36e8c8(0x140))+(_0x4b9784?.[_0x36e8c8(0xc9)]||_0x4b9784));}}catch(_0x2ed8c5){warn(name+(_0x36e8c8(0x104)+_0x36e8c8(0x148)+'rror:\x20')+(_0x2ed8c5?.[_0x36e8c8(0xc9)]||_0x2ed8c5));throw _0x2ed8c5;}}async function readEnabledFromDb(){const _0x4d6161=_0x1cb8cc;try{const _0x4e0db9=await db['get'](_0x4d6161(0x14f)+_0x4d6161(0xf1)+'atusview_p'+_0x4d6161(0x11e)+'\x20key=\x27enab'+'led\x27\x20LIMIT'+'\x201');if(!_0x4e0db9)return![];const _0x537eba=String(_0x4e0db9['value'])[_0x4d6161(0x173)+'e']();return _0x537eba===_0x4d6161(0x156)||_0x537eba==='1';}catch(_0x27dfb1){return warn(name+(_0x4d6161(0xcc)+_0x4d6161(0xc2)+_0x4d6161(0x12c))+(_0x27dfb1?.[_0x4d6161(0xc9)]||_0x27dfb1)),![];}}async function saveEnabledToDb(_0x32af67){const _0x3459f7=_0x1cb8cc;try{const _0x26c504=_0x32af67?_0x3459f7(0x156):_0x3459f7(0x122),_0x343d93=Math[_0x3459f7(0x11f)](Date[_0x3459f7(0x120)]()/(-0x96c+-0x1*0x1ad5+0x2829*0x1));return await db['run'](_0x3459f7(0x136)+_0x3459f7(0x11a)+'ew_prefs\x20('+_0x3459f7(0x142)+_0x3459f7(0x12a)+'at)\x20VALUES'+'\x20(\x27enabled'+'\x27,\x20?,\x20?)\x0a\x20'+_0x3459f7(0xba)+_0x3459f7(0x13c)+_0x3459f7(0x118)+_0x3459f7(0xdd)+_0x3459f7(0x135)+_0x3459f7(0xea)+_0x3459f7(0x100)+'xcluded.up'+'dated_at',[_0x26c504,_0x343d93]),!![];}catch(_0x5edd46){const _0x4cec09=String(_0x5edd46?.[_0x3459f7(0xc9)]||'')['toLowerCas'+'e']();if(_0x4cec09['includes'](_0x3459f7(0xc4)+_0x3459f7(0x163))||_0x4cec09[_0x3459f7(0x168)]('no\x20column'))try{return await db['run'](_0x3459f7(0x171)+'REPLACE\x20IN'+'TO\x20statusv'+_0x3459f7(0xd5)+_0x3459f7(0x105)+'e)\x20VALUES\x20'+_0x3459f7(0x12d)+_0x3459f7(0x155),[_0x32af67?'true':'false']),!![];}catch(_0x164149){return warn(name+(_0x3459f7(0x143)+_0x3459f7(0x158)+_0x3459f7(0x123)+'led:\x20')+(_0x164149?.[_0x3459f7(0xc9)]||_0x164149)),![];}return warn(name+(':\x20saveEnab'+_0x3459f7(0xde)+_0x3459f7(0xca))+(_0x5edd46?.[_0x3459f7(0xc9)]||_0x5edd46)),![];}}function formatTimestamp(_0x38d1f0=Date[_0x1cb8cc(0x120)](),_0x1ab4c1=DEFAULT_TIMEZONE){const _0x4b3b56=_0x1cb8cc;try{const _0x3b2286=DateTime['fromMillis'](_0x38d1f0)[_0x4b3b56(0x16d)](_0x1ab4c1);if(!_0x3b2286[_0x4b3b56(0xcd)])return new Date(_0x38d1f0)[_0x4b3b56(0xad)+_0x4b3b56(0x13e)]();return _0x3b2286[_0x4b3b56(0xad)+_0x4b3b56(0x13e)](DateTime['DATETIME_M'+_0x4b3b56(0x138)+_0x4b3b56(0x151)])+'\x20('+_0x3b2286['zoneName']+')';}catch(_0x55fe34){return new Date(_0x38d1f0)[_0x4b3b56(0xad)+_0x4b3b56(0x13e)]();}}function createMessageHandler(){return async function _0x2631b2(_0x12bd2a){const _0x6acdc=_0x63e9;try{if(shuttingDown)return;refreshConfig();const _0x52a1e3=await readEnabledFromDb();if(!_0x52a1e3)return;const {messages:_0x36834d}=_0x12bd2a||{};if(!Array[_0x6acdc(0x111)](_0x36834d)||_0x36834d[_0x6acdc(0x112)]===-0xe91*0x2+0xda0+-0x1*-0xf82)return;for(const _0x268ecf of _0x36834d){try{if(!_0x268ecf||!_0x268ecf[_0x6acdc(0xfe)])continue;const _0x280efe=_0x268ecf[_0x6acdc(0xfe)][_0x6acdc(0x131)]||_0x268ecf['remoteJid']||'',_0x22bee0=_0x268ecf[_0x6acdc(0xfe)][_0x6acdc(0x119)+'t']||null;if(_0x280efe!==_0x6acdc(0xec)+'adcast'||!_0x22bee0)continue;const _0x4e99da=formatTimestamp(Date[_0x6acdc(0x120)](),DEFAULT_TIMEZONE);info(name+(':\x20viewed\x20s'+_0x6acdc(0xff)+'\x20')+_0x22bee0+_0x6acdc(0x137)+_0x4e99da);try{if(typeof botRef?.[_0x6acdc(0x15e)]?.[_0x6acdc(0xe6)+'es']===_0x6acdc(0xb7))await botRef['sock'][_0x6acdc(0xe6)+'es']([_0x268ecf['key']]);else{if(typeof botRef?.[_0x6acdc(0x15e)]?.[_0x6acdc(0x107)]===_0x6acdc(0xb7))await botRef['sock'][_0x6acdc(0x107)]([_0x268ecf[_0x6acdc(0xfe)]]);else typeof botRef?.['readMessag'+'es']===_0x6acdc(0xb7)&&await botRef['readMessag'+'es']([_0x268ecf['key']]);}}catch(_0x179746){warn(name+(_0x6acdc(0x152)+_0x6acdc(0xf8)+_0x6acdc(0x13d)+_0x6acdc(0x174))+(_0x179746?.[_0x6acdc(0xc9)]||_0x179746));}}catch(_0x496d64){warn(name+(_0x6acdc(0x132)+_0x6acdc(0x110))+(_0x496d64?.[_0x6acdc(0xc9)]||_0x496d64));}}}catch(_0x2ff3b7){warn(name+(':\x20messages'+_0x6acdc(0x170)+_0x6acdc(0xdc)+_0x6acdc(0xb8))+(_0x2ff3b7?.[_0x6acdc(0xc9)]||_0x2ff3b7));}};}const processedCmdKeys=new Map(),CMD_DEDUPE_TTL_MS=(-0x6a3+-0x4*-0x43d+-0xa33)*(-0x1efb+-0x194*-0x11+0x80f*0x1);function markCmdProcessed(_0x55488f){const _0x5c5d53=_0x1cb8cc;if(!_0x55488f)return;if(processedCmdKeys['has'](_0x55488f))try{clearTimeout(processedCmdKeys[_0x5c5d53(0x157)](_0x55488f));}catch(_0x496541){};const _0x45eae1=setTimeout(()=>processedCmdKeys[_0x5c5d53(0xd9)](_0x55488f),CMD_DEDUPE_TTL_MS);processedCmdKeys[_0x5c5d53(0xd8)](_0x55488f,_0x45eae1);}function isCmdProcessed(_0x39c2c0){return _0x39c2c0&&processedCmdKeys['has'](_0x39c2c0);}export async function onMessage(_0x5e7786){const _0x327ea6=_0x1cb8cc;try{if(!_0x5e7786||!_0x5e7786[_0x327ea6(0xfe)]||!_0x5e7786[_0x327ea6(0xc9)]||!_0x5e7786[_0x327ea6(0x10d)])return;if(isJidGroup(_0x5e7786[_0x327ea6(0xfe)][_0x327ea6(0x131)]))return;const _0x21c35c=_0x5e7786[_0x327ea6(0xfe)][_0x327ea6(0xe0)],_0xd43ba3=await isSudo(botRef,_0x5e7786)['catch'](()=>![]);if(!_0x21c35c&&!_0xd43ba3)return;let _0x184fbe;if(_0x21c35c){_0x184fbe=getBotJid();if(!_0x184fbe){warn(name+(_0x327ea6(0x13f)+'eply\x20to\x20ow'+_0x327ea6(0x164)+'ID\x20unavail'+'able).'));return;}}else _0x184fbe=_0x5e7786['key']['remoteJid'];const _0x378ca5=String(_0x5e7786[_0x327ea6(0xfe)][_0x327ea6(0x131)]||'')+'::'+String(_0x5e7786[_0x327ea6(0xfe)]['id']||_0x5e7786[_0x327ea6(0xfe)][_0x327ea6(0x119)+'t']||'');if(isCmdProcessed(_0x378ca5))return;markCmdProcessed(_0x378ca5);const _0x1bc889=typeof _0x5e7786[_0x327ea6(0x12e)]===_0x327ea6(0x13a)&&_0x5e7786[_0x327ea6(0x12e)]['trim']()['length']?_0x5e7786[_0x327ea6(0x12e)][_0x327ea6(0xef)]():function _0x2c7eb1(_0x3c374c){const _0x11ca93=_0x327ea6;if(!_0x3c374c||!_0x3c374c[_0x11ca93(0xc9)])return'';const _0x45da6c=_0x3c374c[_0x11ca93(0xc9)];if(_0x45da6c[_0x11ca93(0xf2)+'on'])return _0x45da6c[_0x11ca93(0xf2)+'on'];if(_0x45da6c[_0x11ca93(0xe2)+_0x11ca93(0xc0)]?.[_0x11ca93(0x12e)])return _0x45da6c[_0x11ca93(0xe2)+_0x11ca93(0xc0)]['text'];if(_0x45da6c[_0x11ca93(0xf6)+'ge']?.[_0x11ca93(0x10e)])return _0x45da6c[_0x11ca93(0xf6)+'ge'][_0x11ca93(0x10e)];if(_0x45da6c[_0x11ca93(0xe5)+'ge']?.[_0x11ca93(0x10e)])return _0x45da6c['videoMessa'+'ge'][_0x11ca93(0x10e)];if(_0x45da6c[_0x11ca93(0x15d)+_0x11ca93(0x160)+'ge']?.[_0x11ca93(0xb4)+_0x11ca93(0x121)])return _0x45da6c[_0x11ca93(0x15d)+_0x11ca93(0x160)+'ge'][_0x11ca93(0xb4)+_0x11ca93(0x121)];if(_0x45da6c[_0x11ca93(0x14d)+_0x11ca93(0x172)]?.[_0x11ca93(0xb9)+_0x11ca93(0xcb)]?.[_0x11ca93(0xf5)+_0x11ca93(0x144)])return _0x45da6c['listRespon'+_0x11ca93(0x172)][_0x11ca93(0xb9)+_0x11ca93(0xcb)][_0x11ca93(0xf5)+'wId'];return'';}(_0x5e7786)||'';if(!_0x1bc889)return;const _0x44422b=(_0x1bc889[_0x327ea6(0x16b)](/\r?\n/)[0x67*0x9+-0x165+0x26*-0xf]||'')[_0x327ea6(0xef)](),_0x1451ce=_0x44422b['split'](/\s+/),_0x546403=(_0x1451ce[-0x1d4a*-0x1+0x1*-0x54a+0x6*-0x400]||'')[_0x327ea6(0x173)+'e']();if(!commands[_0x327ea6(0x168)](_0x546403))return;const _0x31cd56=(_0x1451ce[0xcef+-0xfc4+-0x16*-0x21]||'')['toLowerCas'+'e']();if(['on',_0x327ea6(0xf0),'true','1']['includes'](_0x31cd56)){const _0x194816=await saveEnabledToDb(!![]);if(_0x194816)await sendConfirmation(_0x184fbe,_0x327ea6(0x11c)+'tatus]\x20ena'+_0x327ea6(0x115));else await sendConfirmation(_0x184fbe,_0x327ea6(0x11c)+'tatus]\x20fai'+_0x327ea6(0x108)+'ble');return;}if([_0x327ea6(0x16e),_0x327ea6(0x102),'false','0'][_0x327ea6(0x168)](_0x31cd56)){const _0x2092b2=await saveEnabledToDb(![]);if(_0x2092b2)await sendConfirmation(_0x184fbe,_0x327ea6(0x11c)+_0x327ea6(0x175)+_0x327ea6(0xcf));else await sendConfirmation(_0x184fbe,_0x327ea6(0x11c)+_0x327ea6(0xf4)+_0x327ea6(0xe4)+'able');return;}if(_0x31cd56===_0x327ea6(0xd0)||_0x31cd56===_0x327ea6(0x149)||!_0x31cd56){const _0x179f90=await readEnabledFromDb(),_0x26221e=_0x179f90?_0x327ea6(0xae):_0x327ea6(0x153);await sendConfirmation(_0x184fbe,_0x327ea6(0x15a)+_0x327ea6(0x16f)+':\x20'+_0x26221e+('\x0aTimezone:'+'\x20')+DEFAULT_TIMEZONE);return;}await sendConfirmation(_0x184fbe,'Usage\x20(PM\x20'+_0x327ea6(0x141)+(_0x327ea6(0x12b)+_0x327ea6(0x169)+_0x327ea6(0x10b)+_0x327ea6(0x154))+(_0x327ea6(0x12b)+_0x327ea6(0xeb)+'disable\x20\x20-'+_0x327ea6(0xf3))+(_0x327ea6(0x12b)+_0x327ea6(0xf9)+'us\x20\x20\x20\x20\x20\x20\x20-'+_0x327ea6(0xfd)+'te'));}catch(_0x18d209){warn(name+(_0x327ea6(0x139)+_0x327ea6(0x15c))+(_0x18d209?.[_0x327ea6(0xc9)]||_0x18d209));}}async function sendConfirmation(_0x2da2ae,_0x4e2660){const _0x2b0c5b=_0x1cb8cc;try{if(!_0x2da2ae)return;if(botRef&&botRef[_0x2b0c5b(0x15e)]&&typeof botRef[_0x2b0c5b(0x15e)][_0x2b0c5b(0xfb)+'e']==='function')await botRef['sock']['sendMessag'+'e'](_0x2da2ae,{'text':_0x4e2660});else botRef&&typeof botRef[_0x2b0c5b(0xfb)+'e']==='function'?await botRef[_0x2b0c5b(0xfb)+'e'](_0x2da2ae,{'text':_0x4e2660}):warn(name+(_0x2b0c5b(0x124)+_0x2b0c5b(0xc8)+_0x2b0c5b(0x113)+_0x2b0c5b(0xb3)+_0x2b0c5b(0xc5)));}catch(_0x325f60){warn(name+(':\x20sendConf'+_0x2b0c5b(0xd2)+_0x2b0c5b(0x140))+(_0x325f60?.[_0x2b0c5b(0xc9)]||_0x325f60));}}export async function initialize(_0x3491b7){const _0x532bc7=_0x1cb8cc;if(!_0x3491b7)throw new Error(_0x532bc7(0xce)+_0x532bc7(0x128)+'lize\x20requi'+_0x532bc7(0x14b)+'stance');botRef=_0x3491b7,shuttingDown=![],refreshConfig(),await ensurePrefsTable()[_0x532bc7(0xc7)](_0xbc6fd6=>{const _0x3ffdb1=_0x532bc7;warn(name+(_0x3ffdb1(0xe3)+'failed:\x20')+(_0xbc6fd6?.[_0x3ffdb1(0xc9)]||_0xbc6fd6));}),messageHandler=createMessageHandler(),startManagedListener({'botRef':botRef,'eventName':'messages.u'+_0x532bc7(0xd7),'handler':messageHandler,'moduleName':name}),info(name+(':\x20initiali'+'zed.'));}export async function cleanup(){const _0x3d7dea=_0x1cb8cc;try{stopManagedListener(name,'messages.u'+_0x3d7dea(0xd7)),shuttingDown=!![],messageHandler=null;}catch(_0x2e6bfa){warn(name+(_0x3d7dea(0xd3)+_0x3d7dea(0x12c))+(_0x2e6bfa?.[_0x3d7dea(0xc9)]||_0x2e6bfa));}finally{botRef=null,info(name+(':\x20cleaned\x20'+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};