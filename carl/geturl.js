function _0x321c(){const _0x560430=['trim','\x20an\x20image,','string','type.\x20Repl','contextInf','url','video','add','exists','zed.','arge\x20(max\x20','e\x20final\x20de','quotedMess','text','o\x20is\x20too\x20l','7knpvNS','ted\x20media\x20','t\x20URL\x20for\x20','fileLength','1.0.1','se\x20try\x20aga','ror:\x20','rror','âœ…\x20File\x20URL','mimetype','audioMessa','message','whatsapp_u','312054mtQlXx','ed\x20and\x20sen','fromMe','ocessing\x20m','documentMe',':\x20successf','ne.','unlink','bin','catch','edia.\x20Plea','audio','\x20cleaned\x20u','sendMessag','end','writeFile','980gamHUk','dirname','toLowerCas','concat','startsWith','ðŸ“„\x20Document','has','in.\x20add\x20cl','jid','quoted','nce\x20missin','xtMessage','map','328zvscZS','edMatch\x20er','t\x20determin','âš \x20Unsuppor','key',':\x20Could\x20no','extendedTe','pi\x20key\x20in\x20','auto','\x20video,\x20au','4338wBvFmL','ðŸ”Š\x20Audio\x20UR','error','\x20or\x20docume','y\x20with\x20an\x20','\x20to\x20','âŒ\x20Error\x20pr','\x20handler\x20e','ploads','12320KjAjzL','image,\x20vid','_API_KEY',':\x20botInsta','mp3','nt.','\x20smaller\x20o','age','Cloudinary','ssage','secure_url','stination\x20','dio,\x20or\x20do','580472ORGprg','50MB).\x20Ple','31460NBcMzV','for\x20messag','split','cument\x20to\x20',':\x20initiali','data','image','2LkteuO','rror:\x20','ase\x20send\x20a',':\x20findStor','videoMessa','eo,\x20audio,','383700dvzxbI','805242iPAoOo','CLOUDINARY','oudinary\x20a','ðŸ–¼ï¸\x20Image\x20UR','ðŸŽ¥\x20Video\x20UR'];_0x321c=function(){return _0x560430;};return _0x321c();}const _0x1bcbd3=_0x5c11;(function(_0x115f23,_0x192d84){const _0xf40dbd=_0x5c11,_0x53774f=_0x115f23();while(!![]){try{const _0x2afd0c=-parseInt(_0xf40dbd(0x11b))/(-0x143b*0x1+-0x1b*0x21+0x17b7)*(-parseInt(_0xf40dbd(0x105))/(0x1bc0+0x978+-0x2536))+-parseInt(_0xf40dbd(0x143))/(0x26bc+-0xec5+-0x17f4)+parseInt(_0xf40dbd(0x112))/(-0xa08+0x3*0xa63+0x5*-0x439)+-parseInt(_0xf40dbd(0x121))/(0xa04+0x12ff+0x1*-0x1cfe)+-parseInt(_0xf40dbd(0x122))/(-0x1*-0x2045+0x2113+-0x4152)*(parseInt(_0xf40dbd(0x136))/(0xc*0x211+-0x38b*-0x9+-0x4*0xe2a))+-parseInt(_0xf40dbd(0x160))/(-0x576*0x3+-0x2b7+-0x53*-0x3b)*(parseInt(_0xf40dbd(0xfc))/(0x13*-0xd1+-0xa7b+0x1a07*0x1))+-parseInt(_0xf40dbd(0x153))/(-0x203d+0x17ba*0x1+0x88d)*(-parseInt(_0xf40dbd(0x114))/(0x259*0xd+-0x9ed+-0x148d));if(_0x2afd0c===_0x192d84)break;else _0x53774f['push'](_0x53774f['shift']());}catch(_0x31d72c){_0x53774f['push'](_0x53774f['shift']());}}}(_0x321c,-0x1b7bd+-0x17e3f+0x4c84b));import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import{downloadContentFromMessage}from'@whiskeysockets/baileys';import _0xf73db1 from'fs-extra';import _0xf117d5 from'path';import{v2 as _0x3d084b}from'cloudinary';import{fileURLToPath}from'url';export const name=_0x1bcbd3(0x12c);export const version=_0x1bcbd3(0x13a);export const priority=0xc3b*0x1+0x271*0xe+0x1*-0x2e5f;let botInstance=null,respondedMsgIds=new Set();const __filename=fileURLToPath(import.meta['url']),__dirname=_0xf117d5[_0x1bcbd3(0x154)](__filename),config=getConfig();_0x3d084b['config']({'cloud_name':config['CLOUDINARY'+'_CLOUD_NAM'+'E'],'api_key':config[_0x1bcbd3(0x123)+_0x1bcbd3(0x107)],'api_secret':config[_0x1bcbd3(0x123)+'_API_SECRE'+'T'],'secure':!![]});async function streamToBuffer(_0x28088e){return new Promise((_0x18b2f3,_0x53f1ea)=>{const _0x43a9a3=_0x5c11,_0x16bdbf=[];_0x28088e['on'](_0x43a9a3(0x119),_0x16e669=>_0x16bdbf['push'](_0x16e669)),_0x28088e['on'](_0x43a9a3(0x151),()=>_0x18b2f3(Buffer[_0x43a9a3(0x156)](_0x16bdbf))),_0x28088e['on'](_0x43a9a3(0xfe),_0x53f1ea);});}async function downloadMedia(_0x2a52e3,_0x27f478){const _0xfb25c5=_0x1bcbd3,_0x1b7880=await downloadContentFromMessage(_0x2a52e3,_0x27f478),_0x4c0948=await streamToBuffer(_0x1b7880),_0x3924e1=_0x27f478===_0xfb25c5(0x14e)?_0xfb25c5(0x109):_0x2a52e3[_0xfb25c5(0x13f)]['split']('/')[0xc0c+0x9bc+-0x19*0xdf]?.[_0xfb25c5(0x116)](';')[-0xbe2+0x8*-0x190+0x1862]||_0xfb25c5(0x14b),_0x331310=_0xf117d5['join'](__dirname,'temp_'+Date['now']()+'.'+_0x3924e1);return await _0xf73db1[_0xfb25c5(0x152)](_0x331310,_0x4c0948),_0x331310;}async function uploadToCloudinary(_0x1cf9f6,_0x3e2cf7){const _0x45e6c0=_0x1bcbd3;try{const _0x4afceb={'resource_type':_0x3e2cf7===_0x45e6c0(0x12d)?'video':_0x45e6c0(0xfa),'folder':_0x45e6c0(0x142)+_0x45e6c0(0x104)},_0x349fa9=await _0x3d084b['uploader']['upload'](_0x1cf9f6,_0x4afceb);return _0x349fa9[_0x45e6c0(0x10f)]['replace'](/^https?:\/\//,'');}catch(_0x4123bf){throw new Error(_0x45e6c0(0x10d)+'\x20Upload\x20Er'+_0x45e6c0(0x13c)+_0x4123bf[_0x45e6c0(0x141)]);}}async function findStoredMatchFromFindings(_0x2e52d1=[]){const _0x20d176=_0x1bcbd3;try{const _0x4005ac=await listSudo(),_0x5e5402=new Set(_0x4005ac[_0x20d176(0x15f)](String));for(const _0x339dc8 of _0x2e52d1){if(!_0x339dc8||typeof _0x339dc8[_0x20d176(0x15b)]!==_0x20d176(0x129))continue;const _0x1fa389=normalizeToJid(_0x339dc8['jid']);if(_0x1fa389&&_0x5e5402[_0x20d176(0x159)](_0x1fa389))return _0x1fa389;if(_0x5e5402['has'](_0x339dc8['jid']))return _0x339dc8[_0x20d176(0x15b)];}return null;}catch(_0x2e69d3){return warn(name+(_0x20d176(0x11e)+_0x20d176(0x161)+_0x20d176(0x13c))+(_0x2e69d3?.[_0x20d176(0x141)]||_0x2e69d3)),null;}}export async function initialize(_0x3adf40){const _0x2cbd0a=_0x1bcbd3;botInstance=_0x3adf40,info(name+(_0x2cbd0a(0x118)+_0x2cbd0a(0x130)));}export async function onMessage(_0x353df6){const _0x311c13=_0x1bcbd3;if(!_0x353df6?.[_0x311c13(0x164)]||!_0x353df6['isCommand'])return;const _0x55714d=_0x353df6['key']['id'];if(_0x55714d&&respondedMsgIds['has'](_0x55714d))return;if(_0x55714d)respondedMsgIds[_0x311c13(0x12e)](_0x55714d);const _0x3e6d4e=(_0x353df6[_0x311c13(0x134)]||'')[_0x311c13(0x127)]();if(!_0x3e6d4e[_0x311c13(0x155)+'e']()[_0x311c13(0x157)](_0x311c13(0x12c)))return;if(!botInstance)botInstance=_0x353df6['bot']||_0x353df6['client'];if(!botInstance){warn(name+(_0x311c13(0x108)+_0x311c13(0x15d)+'g'));return;}const _0x1303f1=getBotJid();let _0x4e7287;if(_0x353df6['key'][_0x311c13(0x145)])_0x4e7287=_0x1303f1;else{const _0x913347=await isSudo(botInstance,_0x353df6)[_0x311c13(0x14c)](()=>![]);if(!_0x913347)return;const {findings:_0x3b096d}=userJidFromCtx(_0x353df6),_0x3deccf=await findStoredMatchFromFindings(_0x3b096d);if(!_0x3deccf)return;_0x4e7287=_0x3deccf;}if(!_0x4e7287){warn(name+(_0x311c13(0x165)+_0x311c13(0x162)+_0x311c13(0x132)+_0x311c13(0x110)+_0x311c13(0x115)+'e.'));return;}const _0x41b50a=_0x353df6[_0x311c13(0x141)]?.[_0x311c13(0x166)+_0x311c13(0x15e)]?.[_0x311c13(0x12b)+'o']?.[_0x311c13(0x133)+_0x311c13(0x10c)]||_0x353df6[_0x311c13(0x15c)]||null;if(!_0x41b50a){await botInstance['sendMessag'+'e'](_0x4e7287,{'text':'ðŸ“Œ\x20Reply\x20to'+_0x311c13(0x128)+_0x311c13(0xfb)+_0x311c13(0x111)+_0x311c13(0x117)+'get\x20a\x20URL.'});return;}let _0xe2256b,_0x54990e;try{if(_0x41b50a[_0x311c13(0x11f)+'ge']){const _0x406ee0=_0x41b50a['videoMessa'+'ge'][_0x311c13(0x139)];if(_0x406ee0>(0x1787+0x1665+-0x2dba)*(0xa99+0x8e4*0x2+-0x1861)*(0x2b*-0x2b+-0x427+0xf60)){await botInstance['sendMessag'+'e'](_0x4e7287,{'text':'ðŸš¨\x20The\x20vide'+_0x311c13(0x135)+_0x311c13(0x131)+_0x311c13(0x113)+_0x311c13(0x11d)+_0x311c13(0x10b)+_0x311c13(0x149)});return;}_0xe2256b=await downloadMedia(_0x41b50a[_0x311c13(0x11f)+'ge'],_0x311c13(0x12d)),_0x54990e=_0x311c13(0x12d);}else{if(_0x41b50a['imageMessa'+'ge'])_0xe2256b=await downloadMedia(_0x41b50a['imageMessa'+'ge'],_0x311c13(0x11a)),_0x54990e=_0x311c13(0x11a);else{if(_0x41b50a[_0x311c13(0x140)+'ge'])_0xe2256b=await downloadMedia(_0x41b50a[_0x311c13(0x140)+'ge'],_0x311c13(0x14e)),_0x54990e=_0x311c13(0x14e);else{if(_0x41b50a[_0x311c13(0x147)+_0x311c13(0x10e)])_0xe2256b=await downloadMedia(_0x41b50a[_0x311c13(0x147)+_0x311c13(0x10e)],'document'),_0x54990e='document';else{await botInstance[_0x311c13(0x150)+'e'](_0x4e7287,{'text':_0x311c13(0x163)+_0x311c13(0x137)+_0x311c13(0x12a)+_0x311c13(0x100)+_0x311c13(0x106)+_0x311c13(0x120)+_0x311c13(0xff)+_0x311c13(0x10a)});return;}}}}const _0x34c593=await uploadToCloudinary(_0xe2256b,_0x54990e);await _0xf73db1[_0x311c13(0x14a)](_0xe2256b);const _0x40c8af={'image':_0x311c13(0x125)+'L:\x0a'+_0x34c593,'video':_0x311c13(0x126)+'L:\x0a'+_0x34c593,'audio':_0x311c13(0xfd)+'L\x20(MP3):\x0a'+_0x34c593,'document':_0x311c13(0x158)+'\x20URL:\x0a'+_0x34c593},_0x2a85c8=_0x40c8af[_0x54990e]||_0x311c13(0x13e)+':\x0a'+_0x34c593;await botInstance[_0x311c13(0x150)+'e'](_0x4e7287,{'text':_0x2a85c8}),info(name+(_0x311c13(0x148)+'ully\x20creat'+_0x311c13(0x144)+_0x311c13(0x138)+'a\x20')+_0x54990e+_0x311c13(0x101)+_0x4e7287);}catch(_0x4f5239){error(_0x4f5239,name+(_0x311c13(0x103)+_0x311c13(0x13d))),_0xe2256b&&await _0xf73db1[_0x311c13(0x12f)](_0xe2256b)&&await _0xf73db1['unlink'](_0xe2256b),await botInstance[_0x311c13(0x150)+'e'](_0x4e7287,{'text':_0x311c13(0x102)+_0x311c13(0x146)+_0x311c13(0x14d)+_0x311c13(0x13b)+_0x311c13(0x15a)+_0x311c13(0x124)+_0x311c13(0x167)+'the\x20.env'});}}function _0x5c11(_0x321ffd,_0x306807){const _0x258c09=_0x321c();return _0x5c11=function(_0x3e9dfe,_0x596819){_0x3e9dfe=_0x3e9dfe-(0x12d7*0x2+0x1*-0x98+-0x241c);let _0x59b9a8=_0x258c09[_0x3e9dfe];return _0x59b9a8;},_0x5c11(_0x321ffd,_0x306807);}export async function cleanup(){const _0x29bac7=_0x1bcbd3;try{botInstance=null,respondedMsgIds['clear'](),info(name+(_0x29bac7(0x14f)+'p'));}catch(_0x30a641){warn(name+('\x20cleanup\x20e'+_0x29bac7(0x11c))+(_0x30a641?.[_0x29bac7(0x141)]||_0x30a641));}}