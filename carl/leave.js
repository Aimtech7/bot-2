const _0x3f07e0=_0x58bc;(function(_0x2bb9f1,_0x4caeab){const _0x10f5cb=_0x58bc,_0x4ab846=_0x2bb9f1();while(!![]){try{const _0x359bb8=-parseInt(_0x10f5cb(0x179))/(0x24e5+0x1174+-0x3658)*(-parseInt(_0x10f5cb(0x1e4))/(0xc95*0x1+0x8d*-0x27+-0x11d*-0x8))+parseInt(_0x10f5cb(0x20a))/(0xe78+-0x4*-0x7fa+-0x2e5d)*(-parseInt(_0x10f5cb(0x1dc))/(-0x1de*-0xa+0x14e+-0x92*0x23))+parseInt(_0x10f5cb(0x1e0))/(0xf8+-0x1*-0x24b+-0x33e)*(parseInt(_0x10f5cb(0x1aa))/(0x30b+-0x1821+-0x151c*-0x1))+-parseInt(_0x10f5cb(0x1e5))/(0x1499+0x1e70+-0x3302)*(parseInt(_0x10f5cb(0x19b))/(0x1b13+-0x3*0x493+-0x16*0x9b))+-parseInt(_0x10f5cb(0x209))/(0x1*-0x57b+0x266c+0x288*-0xd)+-parseInt(_0x10f5cb(0x19c))/(0x166a+-0x1763+-0x1*-0x103)*(-parseInt(_0x10f5cb(0x18a))/(0x21ce+0x1d18+0x3edb*-0x1))+parseInt(_0x10f5cb(0x177))/(0x161*-0xd+0xe*0xab+-0x1*-0x89f)*(parseInt(_0x10f5cb(0x18f))/(-0x72*0x31+0x2*0xa7b+-0x1*-0xe9));if(_0x359bb8===_0x4caeab)break;else _0x4ab846['push'](_0x4ab846['shift']());}catch(_0x50985c){_0x4ab846['push'](_0x4ab846['shift']());}}}(_0x1575,0x22*-0x4fec+-0x9823c+0x1c8cb4));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';import{getBotJid}from'../utils/bot-state.js';function _0x58bc(_0x39cf01,_0x374cbe){const _0x4571e2=_0x1575();return _0x58bc=function(_0x5f2abb,_0x252f16){_0x5f2abb=_0x5f2abb-(-0x1a74+0x693+0x2*0xaa9);let _0x24be21=_0x4571e2[_0x5f2abb];return _0x24be21;},_0x58bc(_0x39cf01,_0x374cbe);}import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import*as _0x1d5be from'../utils/groups.js';export const name=_0x3f07e0(0x189);export const version=_0x3f07e0(0x1b8);export const priority=0x1*-0x89b+-0x1c*0x52+0x11cf*0x1;export const commands=[_0x3f07e0(0x183),'dellvc'];let botRef=null,sendApi=null;const processedIds=new Set();function _0x1575(){const _0x54affe=['group','@g.us','\x20\x20\x20\x20\x20updat','romDb\x20fail','jid','Could\x20not\x20','resolveNam','enabled','DELETE\x20FRO','\x20\x20\x20\x20\x20\x20\x20\x20en','d\x20=\x20?','eaves\x20WHER','dings\x20erro','nopart','action','index','aryLeave\x20e','Unknown\x20gp','toLowerCas','E\x20group_ji','groupId','✅\x20Saved\x20','\x20message,\x20','group_jid,','\x20UPDATE\x20SE','slice','remove','object','\x0a\x20\x20\x20\x20\x20\x20\x20VA','ids','tLeaveFrom','the\x20group','eaned\x20up.','7293879SSzykd','3nVcmCS','nt\x20DM\x20to\x20','test','NFLICT(gro','LUES\x20(?,\x20?','join','[leave]\x20de','ated_at\x20IN','S\x20leaves\x20(','isArray','trim','e\x20gp:<alia','and\x20attach','endsWith','message','subject','\x20for\x20','message\x20bo','r:\x20','remoteJid','SELECT\x20mes','DEFAULT\x200,','add','ries.','T\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20gro','abled\x20=\x20ex','age\x20body','[leave]\x20cl','13833324cpewoY','NULL,\x0a\x20\x20\x20\x20','9iVymVZ','get','M\x20leaves\x20W','UPDATE\x20lea','equires\x20bo','getUniqueJ','\x20\x20enabled\x20','\x20\x20INTEGER\x20','now','\x0a\x20\x20\x20\x20CREAT','lvc','up_jid\x20TEX','ntary.leav','split','normalizeT','includes','leave','11nKAoKt','\x20TEXT\x20NOT\x20','all','pdated_at)','findings','13swlVHg','push','resolve\x20de','INSERT\x20INT','timestamp','cluded.upd','function','string','message,\x0a\x20','ated_at;','type','groupMetad','4808272ShiNNu','1300080GlTjSq','tLeaveEnab','itialize\x20r','[leave]\x20sa','ata','fromMe','leteLeaveF','ections','off','t_pn','\x20for\x20leavi','\x0a\x20\x20\x20\x20\x20\x20upd','ed\x20to\x20volu','ed\x20to\x20','12570pGHGrn','\x20excluded.','replace','match','has','fault\x20conn','participan','length','[leave]\x20in','key','led\x20failed','T\x20PRIMARY\x20','TEGER\x20DEFA',');\x0a\x20\x20','5.0.0','voluntary.','for\x20','ves\x20SET\x20en','\x20updated_a','oUserJid','ng\x20','[leave]\x20se','s|jid|all>','floor','PM:\x20empty\x20','up_jid)\x20DO','\x20message\x20=','t\x20=\x20?\x20WHER','ed_at\x20=\x20ex','PM:\x20includ','\x20connectio','text','sage,\x20enab','run','✅\x20Leave\x20','ndleVolunt','[leave]\x20ge','from','b\x20failed\x20f','sock','itialized\x20','sender','ULT\x200\x0a\x20\x20\x20\x20','\x20alias:\x20','catch','\x20message\x20\x20','exec','clear','No\x20default','\x20group\x20ent','558436ReIghL','disabled','removeList','ener','515cFVfnc','_jid\x20=\x20?','tchFromFin','sendMessag','134384iGaorI','7CHmYSh','ndApi\x20fail','enabled,\x20u'];_0x1575=function(){return _0x54affe;};return _0x1575();}function shortLocalFromJid(_0xf02777){const _0x4f5f26=_0x3f07e0;try{return String(_0xf02777||'')[_0x4f5f26(0x186)]('@')[-0xa25+-0x46a+0x1*0xe8f];}catch{return _0xf02777;}}function eventUniqueId(_0x127827){const _0x4a2ae7=_0x3f07e0;if(!_0x127827)return null;if(_0x127827['id'])return String(_0x127827['id']);return String(_0x127827[_0x4a2ae7(0x1fc)]||_0x127827[_0x4a2ae7(0x1e8)]||'nogroup')+':'+String(_0x127827[_0x4a2ae7(0x1b0)+'t_pn']||_0x127827[_0x4a2ae7(0x1b0)+'t']||_0x4a2ae7(0x1f5))+':'+String(_0x127827[_0x4a2ae7(0x193)]||_0x127827['ts']||Date[_0x4a2ae7(0x181)]());}function trimProcessedSet(){const _0x1d340a=_0x3f07e0;if(processedIds['size']>-0xee0+-0x1287+0x34ef*0x1){const _0x123bb4=Array[_0x1d340a(0x1cf)](processedIds);processedIds[_0x1d340a(0x1d9)]();for(const _0x5360a7 of _0x123bb4[_0x1d340a(0x201)](-(-0x1*0xeef+-0x1*-0x1ccf+-0x2e*0xc)))processedIds[_0x1d340a(0x220)](_0x5360a7);}}async function ensureSchema(){const _0x4090f3=_0x3f07e0;await db[_0x4090f3(0x1d8)](_0x4090f3(0x182)+'E\x20TABLE\x20IF'+'\x20NOT\x20EXIST'+_0x4090f3(0x212)+_0x4090f3(0x173)+_0x4090f3(0x184)+_0x4090f3(0x1b5)+'KEY,\x0a\x20\x20\x20\x20\x20'+_0x4090f3(0x1d7)+_0x4090f3(0x18b)+_0x4090f3(0x178)+_0x4090f3(0x17f)+_0x4090f3(0x180)+_0x4090f3(0x21f)+_0x4090f3(0x1a7)+_0x4090f3(0x211)+_0x4090f3(0x1b6)+_0x4090f3(0x1d4)+_0x4090f3(0x1b7)),info('[leave]\x20DB'+'\x20schema\x20en'+'sured');}async function saveLeaveToDb(_0x353d30,_0x4482e4,_0x4ff455=0x1*-0xd1+0x18f1*0x1+-0x1820){const _0xc095fb=_0x3f07e0;try{const _0x12bb93=Math[_0xc095fb(0x1c1)](Date['now']()/(-0x6a1*0x3+-0x811+0x1fdc*0x1));return await db[_0xc095fb(0x1cb)](_0xc095fb(0x192)+'O\x20leaves\x20('+_0xc095fb(0x1ff)+_0xc095fb(0x1fe)+_0xc095fb(0x1e7)+_0xc095fb(0x18d)+_0xc095fb(0x204)+_0xc095fb(0x20e)+',\x20?,\x20?)\x0a\x20\x20'+'\x20\x20\x20\x20\x20ON\x20CO'+_0xc095fb(0x20d)+_0xc095fb(0x1c3)+_0xc095fb(0x200)+_0xc095fb(0x172)+_0xc095fb(0x1c4)+_0xc095fb(0x1ab)+_0xc095fb(0x197)+_0xc095fb(0x1f1)+_0xc095fb(0x174)+'cluded.ena'+'bled,\x0a\x20\x20\x20\x20'+_0xc095fb(0x1ea)+_0xc095fb(0x1c6)+_0xc095fb(0x194)+_0xc095fb(0x198),[_0x353d30,String(_0x4482e4||''),Number(_0x4ff455?0x75c+0x1*-0x11b6+0x1*0xa5b:0x262c+-0x529*0x4+-0x11*0x108),_0x12bb93]),!![];}catch(_0x4a28e7){return warn(_0xc095fb(0x19f)+'veLeaveToD'+_0xc095fb(0x1d0)+'or\x20'+_0x353d30+':\x20'+(_0x4a28e7?.[_0xc095fb(0x218)]||_0x4a28e7)),![];}}async function deleteLeaveFromDb(_0x243d5a){const _0x2b8e29=_0x3f07e0;try{const _0x27dba7=await db[_0x2b8e29(0x1cb)](_0x2b8e29(0x1f0)+_0x2b8e29(0x17b)+'HERE\x20group'+_0x2b8e29(0x1e1),[_0x243d5a]);return _0x27dba7?.['changes']||0xb98+-0x21f+-0x979;}catch(_0x5e9e29){return warn(_0x2b8e29(0x210)+_0x2b8e29(0x1a2)+_0x2b8e29(0x1eb)+'ed\x20for\x20'+_0x243d5a+':\x20'+(_0x5e9e29?.[_0x2b8e29(0x218)]||_0x5e9e29)),0x1663+-0x17da+0x177;}}async function getLeaveFromDb(_0x279f6b){const _0x9d8303=_0x3f07e0;try{const _0x4fc31b=await db[_0x9d8303(0x17a)](_0x9d8303(0x21e)+_0x9d8303(0x1ca)+'led\x20FROM\x20l'+_0x9d8303(0x1f3)+_0x9d8303(0x1fb)+_0x9d8303(0x1f2),[_0x279f6b]);if(!_0x4fc31b)return null;return{'message':_0x4fc31b[_0x9d8303(0x218)],'enabled':Number(_0x4fc31b['enabled']||-0x20c0+0x1*-0x1d5b+0xd*0x4c7)===0x637*0x5+-0x228e+0x37c};}catch(_0x335340){return warn(_0x9d8303(0x1ce)+_0x9d8303(0x206)+'Db\x20failed\x20'+_0x9d8303(0x1ba)+_0x279f6b+':\x20'+(_0x335340?.[_0x9d8303(0x218)]||_0x335340)),null;}}async function setLeaveEnabled(_0x2ecceb,_0x4711bf){const _0x4c2530=_0x3f07e0;try{const _0x8c4ecb=Math[_0x4c2530(0x1c1)](Date['now']()/(-0x18fc+-0x351+0x2035)),_0x1026bb=await db['run'](_0x4c2530(0x17c)+_0x4c2530(0x1bb)+'abled\x20=\x20?,'+_0x4c2530(0x1bc)+_0x4c2530(0x1c5)+_0x4c2530(0x1fb)+_0x4c2530(0x1f2),[Number(_0x4711bf?-0x26b1+0xae5*0x3+-0x3*-0x201:0x89*0x16+0x1*-0x1073+0x85*0x9),_0x8c4ecb,_0x2ecceb]);return!!_0x1026bb?.['changes'];}catch(_0x3549f7){return warn(_0x4c2530(0x1bf)+_0x4c2530(0x19d)+_0x4c2530(0x1b4)+_0x4c2530(0x21a)+_0x2ecceb+':\x20'+(_0x3549f7?.[_0x4c2530(0x218)]||_0x3549f7)),![];}}function setupSendApi(){const _0x71b86b=_0x3f07e0;if(!botRef)return;if(typeof botRef[_0x71b86b(0x1e3)+'e']===_0x71b86b(0x195))sendApi=async(_0x101681,_0x5e5097)=>await botRef[_0x71b86b(0x1e3)+'e'](_0x101681,_0x5e5097);else{if(botRef[_0x71b86b(0x1d1)]&&typeof botRef['sock'][_0x71b86b(0x1e3)+'e']===_0x71b86b(0x195))sendApi=async(_0x45c8a4,_0x39a0a6)=>await botRef[_0x71b86b(0x1d1)][_0x71b86b(0x1e3)+'e'](_0x45c8a4,_0x39a0a6);else sendApi=null;}}async function sendText(_0x2fb52a,_0x71b785,_0x16a8b6=[]){const _0x188ece=_0x3f07e0;try{if(!_0x2fb52a)return null;if(!sendApi)return warn(_0x188ece(0x1bf)+'ndApi\x20not\x20'+'available'),null;let _0x1ebd27=typeof _0x71b785===_0x188ece(0x196)?{'text':String(_0x71b785)}:{..._0x71b785||{}};if(Array[_0x188ece(0x213)](_0x16a8b6)&&_0x16a8b6[_0x188ece(0x1b1)])_0x1ebd27['mentions']=_0x16a8b6;return await sendApi(_0x2fb52a,_0x1ebd27);}catch(_0x4a2e7f){return warn(_0x188ece(0x1bf)+_0x188ece(0x1e6)+_0x188ece(0x1a9)+_0x2fb52a+':\x20'+(_0x4a2e7f?.[_0x188ece(0x218)]||_0x4a2e7f)),null;}}async function findStoredMatchFromFindings(_0x585a08=[]){const _0x16b0f3=_0x3f07e0;try{const _0x58b82f=await listSudo();if(!Array[_0x16b0f3(0x213)](_0x58b82f)||_0x58b82f[_0x16b0f3(0x1b1)]===-0x70f+-0x1*-0x12c7+-0x6*0x1f4)return null;const _0x551c34=new Set(_0x58b82f['map'](String));for(const _0xcadad9 of _0x585a08||[]){if(!_0xcadad9||typeof _0xcadad9[_0x16b0f3(0x1ec)]!==_0x16b0f3(0x196))continue;const _0x4e3f4a=normalizeToJid?normalizeToJid(_0xcadad9[_0x16b0f3(0x1ec)]):_0xcadad9[_0x16b0f3(0x1ec)];if(_0x4e3f4a&&_0x551c34['has'](_0x4e3f4a))return _0x4e3f4a;if(_0x551c34[_0x16b0f3(0x1ae)](_0xcadad9['jid']))return _0xcadad9[_0x16b0f3(0x1ec)];const _0x5408df=String(_0xcadad9['jid'])['split']('@')[-0xb75+0x1*-0x833+0x44*0x4a][_0x16b0f3(0x186)](':')[-0xc79*0x2+-0x1684+-0x4bf*-0xa];if(_0x5408df)for(const _0x406b74 of _0x58b82f){const _0x5004d4=String(_0x406b74)[_0x16b0f3(0x186)]('@')[0x1*0x18bd+0xb47*-0x3+0x918];if(_0x5004d4&&_0x5004d4===_0x5408df)return _0x406b74;}}return null;}catch(_0x19bc9b){return warn('[leave]\x20fi'+'ndStoredMa'+_0x16b0f3(0x1e2)+_0x16b0f3(0x1f4)+'r:\x20'+(_0x19bc9b?.[_0x16b0f3(0x218)]||_0x19bc9b)),null;}}async function handleVoluntaryLeave(_0x2de72f){const _0x116a3c=_0x3f07e0;try{if(!_0x2de72f||typeof _0x2de72f!==_0x116a3c(0x203))return;const _0x51830d=_0x2de72f[_0x116a3c(0x1f6)]===_0x116a3c(0x202),_0x30e640=String(_0x2de72f[_0x116a3c(0x199)]||'')[_0x116a3c(0x1fa)+'e']()[_0x116a3c(0x188)](_0x116a3c(0x189));if(!_0x51830d&&!_0x30e640)return;const _0x147180=_0x2de72f[_0x116a3c(0x1b0)+_0x116a3c(0x1a5)]||_0x2de72f['participan'+'t'],_0x38c102=_0x2de72f['groupId']||_0x2de72f[_0x116a3c(0x1e8)];if(!_0x147180||!_0x38c102)return;const _0x5f400b=eventUniqueId(_0x2de72f);if(!_0x5f400b)return;if(processedIds['has'](_0x5f400b))return;processedIds[_0x116a3c(0x220)](_0x5f400b),trimProcessedSet();const _0x3358b2=getBotJid?getBotJid():null;if(_0x3358b2&&String(_0x147180)===String(_0x3358b2))return;const _0x1cffad=await getLeaveFromDb(_0x38c102);if(!_0x1cffad||!_0x1cffad[_0x116a3c(0x1ef)]||!_0x1cffad[_0x116a3c(0x218)])return;let _0x41eec9=_0x116a3c(0x207);try{if(botRef&&botRef[_0x116a3c(0x1d1)]&&typeof botRef[_0x116a3c(0x1d1)][_0x116a3c(0x19a)+_0x116a3c(0x1a0)]===_0x116a3c(0x195)){const _0x3b797b=await botRef[_0x116a3c(0x1d1)]['groupMetad'+'ata'](_0x38c102)['catch'](()=>null);if(_0x3b797b&&_0x3b797b[_0x116a3c(0x219)])_0x41eec9=_0x3b797b[_0x116a3c(0x219)];}}catch(_0x4bb191){}const _0x50e9b5=String(_0x1cffad[_0x116a3c(0x218)]||'')['replace'](/\{group\}/g,_0x41eec9)[_0x116a3c(0x1ac)](/\{user\}/g,'@'+shortLocalFromJid(_0x147180));await sendText(_0x147180,_0x50e9b5,[_0x147180]),info(_0x116a3c(0x1bf)+_0x116a3c(0x20b)+_0x147180+(_0x116a3c(0x1a6)+_0x116a3c(0x1be))+_0x38c102);}catch(_0x39168a){error(_0x39168a,'[leave]\x20ha'+_0x116a3c(0x1cd)+_0x116a3c(0x1f8)+'rror:\x20'+(_0x39168a?.[_0x116a3c(0x218)]||_0x39168a));}}function findLvcSubcommand(_0x5a20d2){const _0x1bf9b4=_0x3f07e0,_0xcb8679=String(_0x5a20d2||''),_0x192860=_0xcb8679[_0x1bf9b4(0x1ad)](/\blvc\s+([^\s\r\n]+)/i);if(!_0x192860)return{'sub':null,'after':''};const _0x1a5428=_0x192860[-0x1e4+-0x2b*-0xe3+-0x243c][_0x1bf9b4(0x1fa)+'e'](),_0x41b8c5=_0xcb8679['slice'](_0x192860[_0x1bf9b4(0x1f7)]+_0x192860[-0x375+0x5f0+-0x27b][_0x1bf9b4(0x1b1)])['replace'](/^[\s:\-]*/,'');return{'sub':_0x1a5428,'after':_0x41b8c5};}export async function onMessage(_0x614f95){const _0x42002d=_0x3f07e0;try{if(!_0x614f95||!_0x614f95['isCommand'])return;const _0x5dd3c0=_0x614f95[_0x42002d(0x1b3)]?.['remoteJid']||_0x614f95[_0x42002d(0x21d)]||'',_0x313211=typeof _0x5dd3c0==='string'&&_0x5dd3c0[_0x42002d(0x217)](_0x42002d(0x1e9)),_0x1d3c38=_0x614f95['key']?.['participan'+'t']||_0x614f95[_0x42002d(0x1b3)]?.[_0x42002d(0x1cf)]||_0x614f95[_0x42002d(0x1d3)]||'',_0x199a37=(_0x614f95[_0x42002d(0x1c9)]||'')['replace'](/\r/g,'');if(!(/\blvc\b/i['test'](_0x199a37)||/\bdellvc\b/i[_0x42002d(0x20c)](_0x199a37)))return;if(/\bdellvc\b/i[_0x42002d(0x20c)](_0x199a37)){if(!_0x313211){const _0x3992f9=Boolean(_0x614f95[_0x42002d(0x1b3)]?.[_0x42002d(0x1a1)]);let _0x10b2f1=null;if(_0x3992f9)_0x10b2f1=getBotJid();else{let _0x4f5698=![];try{_0x4f5698=await isSudo(botRef,_0x614f95);}catch(_0x59c45a){_0x4f5698=![];}if(!_0x4f5698)return;const _0x161c2d=userJidFromCtx(_0x614f95)||{'findings':[]},_0x5f1c7f=await findStoredMatchFromFindings(_0x161c2d[_0x42002d(0x18e)]||[]);if(!_0x5f1c7f)return;_0x10b2f1=_0x5f1c7f;}const _0x4ef849=_0x199a37[_0x42002d(0x1ad)](/\bgp[:\s]+(\S+)/i);if(!_0x4ef849){await sendText(_0x10b2f1,'PM:\x20includ'+_0x42002d(0x215)+_0x42002d(0x1c0));return;}const _0x4f0d25=_0x4ef849[-0x6a*0x1c+0x47b+0x38f*0x2][_0x42002d(0x214)]();let _0x264b17=[];if(_0x4f0d25[_0x42002d(0x1fa)+'e']()===_0x42002d(0x18c))_0x264b17=await _0x1d5be[_0x42002d(0x17e)+_0x42002d(0x205)]();else{const _0x1ae3ea=await _0x1d5be[_0x42002d(0x1ee)+'e'](_0x4f0d25);if(_0x1ae3ea)_0x264b17=[_0x1ae3ea];else{if(_0x4f0d25[_0x42002d(0x188)]('@'))_0x264b17=[_0x1d5be['normalizeT'+_0x42002d(0x1bd)](_0x4f0d25)];else{await sendText(_0x10b2f1,'Unknown\x20gp'+'\x20alias:\x20'+_0x4f0d25);return;}}}let _0x540ed8=0x62c+-0x3*0x59+-0x1*0x521;for(const _0xcde7dd of _0x264b17)_0x540ed8+=await deleteLeaveFromDb(_0xcde7dd)||0x171e+-0x23c6+0xb4*0x12;await sendText(_0x10b2f1,'✅\x20Deleted\x20'+_0x540ed8+'/'+_0x264b17[_0x42002d(0x1b1)]+(_0x42002d(0x1db)+_0x42002d(0x171)));return;}const _0x408b9d=await isadmin(botRef,_0x614f95)[_0x42002d(0x1d6)](()=>![]);if(!_0x408b9d)return;const _0x2c59f0=String((_0x1d3c38||'')['split']('@')[0x12b0+0x18*0xb3+0x718*-0x5]||''),_0x8279c2=await getDefault(_0x2c59f0)[_0x42002d(0x1d6)](()=>null);if(!_0x8279c2){await sendText(_0x5dd3c0,_0x42002d(0x1da)+_0x42002d(0x1c8)+'n');return;}const _0x5d703b=Array[_0x42002d(0x213)](_0x8279c2)?_0x8279c2:[_0x8279c2],_0x5398bb=[];for(const _0x1b8a54 of _0x5d703b){const _0x381a6e=await getConnection(_0x1b8a54)[_0x42002d(0x1d6)](()=>null);if(Array['isArray'](_0x381a6e))_0x5398bb[_0x42002d(0x190)](..._0x381a6e);else{if(_0x381a6e)_0x5398bb[_0x42002d(0x190)](_0x381a6e);}}let _0x1980ec=0x1*0xfcb+-0x2479+0x14ae;for(const _0x46b4f7 of _0x5398bb)_0x1980ec+=await deleteLeaveFromDb(_0x46b4f7)||0xb5*0x3+0x209+-0x428;await sendText(_0x5dd3c0,'✅\x20Deleted\x20'+_0x1980ec+'/'+_0x5398bb['length']+(_0x42002d(0x1db)+'ries.'));return;}const {sub:_0x3047b1,after:_0x1f67e3}=findLvcSubcommand(_0x199a37);if(!_0x3047b1)return;if(!_0x313211){const _0x108cf0=Boolean(_0x614f95[_0x42002d(0x1b3)]?.[_0x42002d(0x1a1)]);let _0x244b4f=null;if(_0x108cf0)_0x244b4f=getBotJid();else{let _0xc6e80d=![];try{_0xc6e80d=await isSudo(botRef,_0x614f95);}catch(_0x34cce2){_0xc6e80d=![];}if(!_0xc6e80d)return;const _0x557520=userJidFromCtx(_0x614f95)||{'findings':[]},_0x54d2cc=await findStoredMatchFromFindings(_0x557520[_0x42002d(0x18e)]||[]);if(!_0x54d2cc)return;_0x244b4f=_0x54d2cc;}if(!_0x244b4f)return;if(_0x3047b1==='on'||_0x3047b1===_0x42002d(0x1a4)){const _0x2b8d5a=_0x199a37['match'](/\bgp[:\s]+(\S+)/i);if(!_0x2b8d5a){await sendText(_0x244b4f,_0x42002d(0x1c7)+_0x42002d(0x215)+_0x42002d(0x1c0));return;}const _0x1d413b=_0x2b8d5a[0xa6*0x26+0x2f*-0x26+-0x19b*0xb][_0x42002d(0x214)]();let _0x1ffe74=[];if(_0x1d413b[_0x42002d(0x1fa)+'e']()===_0x42002d(0x18c))_0x1ffe74=await _0x1d5be[_0x42002d(0x17e)+'ids']();else{const _0x59734c=await _0x1d5be[_0x42002d(0x1ee)+'e'](_0x1d413b);if(_0x59734c)_0x1ffe74=[_0x59734c];else{if(_0x1d413b[_0x42002d(0x188)]('@'))_0x1ffe74=[_0x1d5be[_0x42002d(0x187)+_0x42002d(0x1bd)](_0x1d413b)];else{await sendText(_0x244b4f,_0x42002d(0x1f9)+_0x42002d(0x1d5)+_0x1d413b);return;}}}const _0xec5a6b=_0x3047b1==='on';let _0xa2bfa4=0x21*-0x125+0x2*-0x3da+0x2d79;for(const _0x726a21 of _0x1ffe74){const _0x371b21=await getLeaveFromDb(_0x726a21);if(!_0x371b21)continue;if(await setLeaveEnabled(_0x726a21,_0xec5a6b))_0xa2bfa4++;}await sendText(_0x244b4f,'✅\x20Leave\x20'+(_0xec5a6b?_0x42002d(0x1ef):_0x42002d(0x1dd))+_0x42002d(0x21a)+_0xa2bfa4+'/'+_0x1ffe74[_0x42002d(0x1b1)]);return;}if(_0x3047b1===_0x42002d(0x220)){const _0x13a919=_0x199a37[_0x42002d(0x1ad)](/\bgp[:\s]+(\S+)/i);if(!_0x13a919){await sendText(_0x244b4f,_0x42002d(0x1c7)+_0x42002d(0x215)+_0x42002d(0x1c0));return;}const _0x31533b=_0x13a919[-0x2153+0x10d6+-0x1*-0x107e][_0x42002d(0x214)]();let _0x43de97=[];if(_0x31533b['toLowerCas'+'e']()===_0x42002d(0x18c))_0x43de97=await _0x1d5be[_0x42002d(0x17e)+_0x42002d(0x205)]();else{const _0x4180ac=await _0x1d5be['resolveNam'+'e'](_0x31533b);if(_0x4180ac)_0x43de97=[_0x4180ac];else{if(_0x31533b[_0x42002d(0x188)]('@'))_0x43de97=[_0x1d5be['normalizeT'+_0x42002d(0x1bd)](_0x31533b)];else{await sendText(_0x244b4f,'Unknown\x20gp'+_0x42002d(0x1d5)+_0x31533b);return;}}}let _0x4c65b1=_0x1f67e3[_0x42002d(0x214)]();_0x4c65b1=_0x4c65b1[_0x42002d(0x186)](/\r?\n/)['filter'](_0x132836=>!/^gp[:\s]/i[_0x42002d(0x20c)](_0x132836))[_0x42002d(0x20f)]('\x0a')[_0x42002d(0x214)]();if(!_0x4c65b1){await sendText(_0x244b4f,_0x42002d(0x1c2)+_0x42002d(0x21b)+'dy');return;}let _0x5a1d03=0xfb9+-0x8*0x34a+-0xa97*-0x1;for(const _0x37625 of _0x43de97)if(await saveLeaveToDb(_0x37625,_0x4c65b1,-0x43*0x17+-0xa*0x25c+0xecf*0x2))_0x5a1d03++;await sendText(_0x244b4f,'✅\x20Saved\x20'+_0x5a1d03+'/'+_0x43de97[_0x42002d(0x1b1)]);return;}return;}if(_0x313211){const _0x294329=await isadmin(botRef,_0x614f95)[_0x42002d(0x1d6)](()=>![]);if(!_0x294329)return;const _0x2a0e57=String((_0x1d3c38||'')[_0x42002d(0x186)]('@')[-0x24cf+-0x17*-0x137+-0xa*-0xe3]||''),_0x593cc5=await getDefault(_0x2a0e57)[_0x42002d(0x1d6)](()=>null);if(!_0x593cc5){await sendText(_0x5dd3c0,_0x42002d(0x1da)+_0x42002d(0x1c8)+'n');return;}const _0x4c75d5=Array[_0x42002d(0x213)](_0x593cc5)?_0x593cc5:[_0x593cc5],_0x2284e9=[];for(const _0x2a68af of _0x4c75d5){const _0x304bb5=await getConnection(_0x2a68af)[_0x42002d(0x1d6)](()=>null);if(Array[_0x42002d(0x213)](_0x304bb5))_0x2284e9['push'](..._0x304bb5);else{if(_0x304bb5)_0x2284e9[_0x42002d(0x190)](_0x304bb5);}}if(!_0x2284e9[_0x42002d(0x1b1)]){await sendText(_0x5dd3c0,_0x42002d(0x1ed)+_0x42002d(0x191)+_0x42002d(0x1af)+_0x42002d(0x1a3));return;}if(_0x3047b1==='on'||_0x3047b1===_0x42002d(0x1a4)){const _0x5f1dba=_0x3047b1==='on';let _0x4c1324=0x22f8+0x8d1+-0x2bc9;for(const _0x2b0948 of _0x2284e9){const _0x10468c=await getLeaveFromDb(_0x2b0948);if(!_0x10468c)continue;if(await setLeaveEnabled(_0x2b0948,_0x5f1dba))_0x4c1324++;}await sendText(_0x5dd3c0,_0x42002d(0x1cc)+(_0x5f1dba?'enabled':'disabled')+_0x42002d(0x21a)+_0x4c1324+'/'+_0x2284e9[_0x42002d(0x1b1)]);return;}if(_0x3047b1===_0x42002d(0x220)){const _0x449037=_0x1f67e3['trim']();if(!_0x449037){await sendText(_0x5dd3c0,'Empty\x20mess'+_0x42002d(0x175));return;}let _0x3ae18d=0x8*-0x4d5+0x2259+-0x1*-0x44f;for(const _0x384a93 of _0x2284e9)if(await saveLeaveToDb(_0x384a93,_0x449037,-0x1*-0x2350+-0xc44+-0x170b))_0x3ae18d++;await sendText(_0x5dd3c0,_0x42002d(0x1fd)+_0x3ae18d+'/'+_0x2284e9[_0x42002d(0x1b1)]);return;}}}catch(_0x28ee69){error(_0x28ee69,'[leave]\x20on'+'Message\x20er'+'ror:\x20'+(_0x28ee69?.[_0x42002d(0x218)]||_0x28ee69));}}export async function initialize(_0x52759e){const _0x455ca8=_0x3f07e0;if(!_0x52759e)throw new Error(_0x455ca8(0x1b2)+_0x455ca8(0x19e)+_0x455ca8(0x17d)+'t\x20instance');botRef=_0x52759e,setupSendApi(),await ensureSchema(),botRef['on'](_0x455ca8(0x1b9)+_0x455ca8(0x189),handleVoluntaryLeave),info('[leave]\x20in'+_0x455ca8(0x1d2)+_0x455ca8(0x216)+_0x455ca8(0x1a8)+_0x455ca8(0x185)+'e\x20event.');}export async function cleanup(){const _0x2bc434=_0x3f07e0;try{botRef&&typeof botRef[_0x2bc434(0x1de)+_0x2bc434(0x1df)]===_0x2bc434(0x195)&&botRef[_0x2bc434(0x1de)+_0x2bc434(0x1df)](_0x2bc434(0x1b9)+_0x2bc434(0x189),handleVoluntaryLeave);}catch(_0x5d94b0){error(_0x5d94b0,'[leave]\x20cl'+'eanup\x20erro'+_0x2bc434(0x21c)+(_0x5d94b0?.['message']||_0x5d94b0));}finally{processedIds['clear'](),botRef=null,sendApi=null,info(_0x2bc434(0x176)+_0x2bc434(0x208));}}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};