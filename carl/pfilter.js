const _0x155b55=_0x386e;(function(_0x144909,_0x3005a8){const _0x507973=_0x386e,_0x205a14=_0x144909();while(!![]){try{const _0x1142c1=-parseInt(_0x507973(0x2ac))/(-0x10b1*0x2+0xa*-0x21e+0x368f)+-parseInt(_0x507973(0x1e5))/(0x1*-0xd3+-0x2e*0x77+0x1637)*(parseInt(_0x507973(0x2c2))/(0x2c*0x51+0x10d0*-0x1+-0x2e7*-0x1))+-parseInt(_0x507973(0x2bf))/(-0x2390+-0xdbc+-0x838*-0x6)+-parseInt(_0x507973(0x2a0))/(0x1bf*-0x2+0x10ba+-0xc7*0x11)+parseInt(_0x507973(0x27a))/(-0x1327*-0x2+-0x15e7+-0x257*0x7)*(parseInt(_0x507973(0x272))/(-0xe52+-0x1*-0x1e1a+-0xfc1))+parseInt(_0x507973(0x2b3))/(0x1f44+0xcab+-0x2be7)*(parseInt(_0x507973(0x1ff))/(0xd9+-0x1*-0x1d4a+-0x1e1a))+parseInt(_0x507973(0x225))/(0x1304*-0x1+-0x459+0x1767);if(_0x1142c1===_0x3005a8)break;else _0x205a14['push'](_0x205a14['shift']());}catch(_0x4414f3){_0x205a14['push'](_0x205a14['shift']());}}}(_0x4b29,0xad7d*-0x5+-0x7f022+-0xc4ff*-0x1d));import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x155b55(0x212);export const version=_0x155b55(0x22e);export const priority=0x4*0x1d+-0x6a6+0x637;export const configKeys=[_0x155b55(0x2b5)];export const commands=[_0x155b55(0x2b4),'plistfilte'+'r',_0x155b55(0x24e),_0x155b55(0x24e)+'s',_0x155b55(0x2ae)];let botInstance=null,botJid=null,sendApi=null;function clampTypingMs(_0xf1166f){const _0xba765c=_0x155b55,_0x5cb6b1=Number(_0xf1166f);if(!Number['isFinite'](_0x5cb6b1)||isNaN(_0x5cb6b1))return 0x1bf7*0x1+-0x20cf+0x4d8;if(_0x5cb6b1<=-0x965+0x1192+-0x1*0x82d)return 0x1a*0xf1+0xf28*-0x1+0x1*-0x952;if(_0x5cb6b1>0x5a6+-0x7156+0xa648)return-0x5c86+-0xc1*-0x8+-0x14ba*-0x7;return Math[_0xba765c(0x273)](_0x5cb6b1);}function _0x4b29(){const _0x39a859=['\x20\x20\x20\x20\x20\x20\x20\x20\x20r','264kjrqfs','pfilter','FILTERS','loaded\x20','igger1,tri','[pfilter]\x20','\x20all\x20\x20\x20(er','NULL\x20UNIQU','stringify','rror:\x20','substring','replace','3756496NfMBvA','responses,','rr_index','69XXgcdf','failed:\x20','Usage\x20(mul','delete','gger2\x0aOr:\x20','global','TINCT\x20trig','m_filters\x20','\x20initializ','ists','Deleted\x20','ponse1\x0a!re','onTarget\x20e','map','function','\x20PM\x20the\x20bo','rs\x20WHERE\x20t','d_by,\x20crea','ODE','extendedTe','uded.creat','ARY\x20KEY\x20AU','\x20created\x20p','T\x20NULL\x20DEF','nodes','Automaton\x20','reply','filters\x20SE','singleSele','91326HVIqhL','\x20rr_index\x20','L\x20pm\x20filte','create','\x200,\x0a\x20\x20\x20\x20\x20\x20','s\x20are\x20glob','\x20cleanup\x20e','ialize()','ed_by,\x0a\x20\x20\x20','toLowerCas','E,\x0a\x20\x20\x20\x20\x20\x20\x20','trigger','keyword','_trigger\x20O','wId','\x20\x20\x20respons','\x20\x20\x20\x20);\x0a\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20cre','ERE\x20trigge','@g.us','ted_at\x20=\x20e','delete\x20all','\x20Aho\x20faile','AULT\x20\x27[]\x27,','push','PREFIX','7731HVEwLE','\x20TEXT\x20NOT\x20','ases\x20ALL\x20p','gger1,trig','ex\x20+\x201)\x20WH','e\x20error:\x20','rs(trigger','\x20invalid\x20s','TEGER\x20PRIM','al\x20and\x20wil','has','[pmfilter]','imageMessa','conversati','TOINCREMEN','participan','add','selectedBu','isCommand','pmfilter','when\x20users','\x20LIMIT\x201','UPDATE\x20pm_','Failed\x20to\x20','x:\x20\x22','ypingAndWa','ite_master','Deleted\x20AL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20-\x20','le\x20at\x20init','_MS','ceUpdate','shift','m\x20filters)','\x20\x20\x20\x20\x20id\x20IN','REATE\x20TABL','INSERT\x20INT','23826290MVoISP','isArray','ted_at)\x0a\x20\x20','es,\x20rr_ind','key','\x20simulateT','reated_by\x20','xtMessage','listRespon','1.2.0','ttonId','ply\x20failed','rigger\x20=\x20?','tored\x20rege','TEGER\x20DEFA','test','PDATE\x20SET\x0a','CREATE\x20IND','length','fromMe','seMessage',',\x20?,\x20?)\x0a\x20\x20','\x20bot\x20JID\x20n','table','emoved:\x20','\x20excluded.','includes','es\x20TEXT\x20NO','trim','roundrobin','rs.\x20Rows\x20r','endsWith','sendMessag','fail','selectedRo','slice','composing','\x20\x20\x20\x20\x20ON\x20CO','message','rs\x20(\x0a\x20\x20\x20\x20\x20','iled:\x20','pdelfilter','\x20getGlobal','\x20quoted\x20re','+\x20failed:\x20','ot\x20availab','lfilter\x20tr','next','\x20deleted\x20','output','\x20no\x20send\x20A','index','text','sendPresen','e=\x27table\x27\x20','\x20listTrigg','get','iled\x20for\x20','remoteJid','ex,\x20create','string','tJid=','\x20=\x20(rr_ind','nse\x20error:','ly\x20failed:','r\x20=\x20?','random','\x20upsert\x20fa','FAULT\x200,\x0a\x20','TYPING_SIM','buttonsRes','ger\x20FROM\x20p','TEXT\x20DEFAU','responses','xcluded.cr','\x20filters:\x20','unknown','7OARgHe','floor','exec','videoMessa','EFIX','ctReply','O\x20pm_filte','N\x20pm_filte','6974334XAHMXZ','clear','ated_at\x20IN','LT\x20\x27\x27,\x0a\x20\x20\x20','tiline,\x20PM','RESPONSE_M','filter','esponses\x20=','e\x20FROM\x20sql','AND\x20name=\x27','now','plistfilte','changes','\x20WHERE\x20typ','keywords','(s).','run','search','rigger','\x20\x20\x20\x20\x20VALUE','\x20sendPmRep','INTEGER\x20DE','DELETE\x20FRO','SELECT\x20DIS','regex:','\x20upsert:\x20','rr_index\x20=','it\x20error:\x20','ilter\x20<tri','NFLICT(tri','all','split','sock','\x20ensureSch','triggers','SELECT\x20res','\x20pdelfilte','ger2>\x0a!res','2040650NujVZG','Saved\x20','object','M\x20pm_filte','from','\x5cw*','\x5c$&','E\x20pm_filte','gger)\x20DO\x20U','ponses,\x20rr','\x20pm\x20filter','startsWith','455654VpgNIr','caption','pdelf','\x20handler\x20e','join','m_filters'];_0x4b29=function(){return _0x39a859;};return _0x4b29();}function sleep(_0x57215a){return new Promise(_0xb4c86e=>setTimeout(_0xb4c86e,_0x57215a));}async function simulateTypingAndWait(_0xca9878,_0x198aa3,_0x1cbee3){const _0x486f4b=_0x155b55;if(!_0x1cbee3||_0x1cbee3<=-0x83c+-0x80a+0x1046)return;try{if(_0xca9878&&typeof _0xca9878[_0x486f4b(0x25a)+_0x486f4b(0x21f)]===_0x486f4b(0x2d0))try{await _0xca9878[_0x486f4b(0x25a)+'ceUpdate'](_0x486f4b(0x249),_0x198aa3);}catch(_0x4fbd42){}}catch(_0x49fc1f){}try{await sleep(_0x1cbee3);}catch(_0x4f752){}try{if(_0xca9878&&typeof _0xca9878['sendPresen'+_0x486f4b(0x21f)]===_0x486f4b(0x2d0))try{await _0xca9878[_0x486f4b(0x25a)+_0x486f4b(0x21f)]('paused',_0x198aa3);}catch(_0x3c70b1){}}catch(_0x222a0c){}}function _0x386e(_0x36e7ce,_0x512c60){const _0x3e320f=_0x4b29();return _0x386e=function(_0x303d88,_0x2792c0){_0x303d88=_0x303d88-(0x2*0x97b+0x122c+-0x99*0x3b);let _0x44103a=_0x3e320f[_0x303d88];return _0x44103a;},_0x386e(_0x36e7ce,_0x512c60);}function clampConfigTypingMs(){const _0x171900=_0x155b55;try{const _0x2e1361=getConfig()||{},_0x1913d2=_0x2e1361[_0x171900(0x2b5)]&&typeof _0x2e1361['FILTERS']===_0x171900(0x2a2)?_0x2e1361[_0x171900(0x2b5)]:{};return clampTypingMs(_0x1913d2[_0x171900(0x26a)+_0x171900(0x21e)]);}catch(_0x4e333c){return 0x80b+0xdd8+0x15e3*-0x1;}}function escapeRegex(_0x44c592){const _0x4e6ca4=_0x155b55;return _0x44c592[_0x4e6ca4(0x2be)](/[.*+?^${}()|[\]\\]/g,_0x4e6ca4(0x2a6));}function wildcardToRegexPattern(_0x44b4cc){const _0x8c0524=_0x155b55,_0xf784b1=_0x44b4cc['split']('*')['map'](_0x1e49b3=>escapeRegex(_0x1e49b3));return'\x5cb'+_0xf784b1['join'](_0x8c0524(0x2a5))+'\x5cb';}function ensureArray(_0x4617db){const _0x25e22d=_0x155b55;if(!_0x4617db)return[];if(Array[_0x25e22d(0x226)](_0x4617db))return _0x4617db;return[String(_0x4617db)];}function uniqArray(_0x19d9f3){const _0x1f505e=_0x155b55,_0x2a233d=new Set(),_0x228884=[];for(const _0x1c729f of _0x19d9f3||[]){const _0x46a2c1=String(_0x1c729f||'')[_0x1f505e(0x241)]();if(!_0x46a2c1)continue;!_0x2a233d[_0x1f505e(0x209)](_0x46a2c1)&&(_0x2a233d[_0x1f505e(0x20f)](_0x46a2c1),_0x228884[_0x1f505e(0x1fd)](_0x46a2c1));}return _0x228884;}function getMessageText(_0x5a8082){const _0x4b16c1=_0x155b55;if(!_0x5a8082||!_0x5a8082['message'])return'';const _0x3c56b2=_0x5a8082[_0x4b16c1(0x24b)];if(_0x3c56b2[_0x4b16c1(0x20c)+'on'])return _0x3c56b2[_0x4b16c1(0x20c)+'on'];if(_0x3c56b2[_0x4b16c1(0x2d5)+_0x4b16c1(0x22c)]?.[_0x4b16c1(0x259)])return _0x3c56b2[_0x4b16c1(0x2d5)+_0x4b16c1(0x22c)][_0x4b16c1(0x259)];if(_0x3c56b2['imageMessa'+'ge']?.[_0x4b16c1(0x2ad)])return _0x3c56b2[_0x4b16c1(0x20b)+'ge'][_0x4b16c1(0x2ad)];if(_0x3c56b2[_0x4b16c1(0x275)+'ge']?.[_0x4b16c1(0x2ad)])return _0x3c56b2[_0x4b16c1(0x275)+'ge'][_0x4b16c1(0x2ad)];if(_0x3c56b2['buttonsRes'+'ponseMessa'+'ge']?.[_0x4b16c1(0x210)+_0x4b16c1(0x22f)])return _0x3c56b2[_0x4b16c1(0x26b)+'ponseMessa'+'ge'][_0x4b16c1(0x210)+'ttonId'];if(_0x3c56b2['listRespon'+'seMessage']?.[_0x4b16c1(0x1e4)+_0x4b16c1(0x277)]?.['selectedRo'+_0x4b16c1(0x1f3)])return _0x3c56b2[_0x4b16c1(0x22d)+_0x4b16c1(0x239)]['singleSele'+_0x4b16c1(0x277)][_0x4b16c1(0x247)+_0x4b16c1(0x1f3)];return'';}async function ensureSchema(){const _0x42646b=_0x155b55;try{const _0x618762=await db[_0x42646b(0x25d)]('SELECT\x20nam'+_0x42646b(0x282)+_0x42646b(0x219)+_0x42646b(0x287)+_0x42646b(0x25b)+_0x42646b(0x283)+'pm_filters'+'\x27');if(!_0x618762){await db[_0x42646b(0x274)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20C'+_0x42646b(0x223)+_0x42646b(0x2a7)+_0x42646b(0x24c)+_0x42646b(0x222)+_0x42646b(0x207)+_0x42646b(0x2d7)+_0x42646b(0x20d)+'T,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20trigger'+_0x42646b(0x200)+_0x42646b(0x2ba)+_0x42646b(0x1ef)+_0x42646b(0x1f4)+_0x42646b(0x240)+_0x42646b(0x1df)+_0x42646b(0x1fc)+_0x42646b(0x21b)+_0x42646b(0x1e6)+_0x42646b(0x28f)+_0x42646b(0x269)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+_0x42646b(0x22b)+_0x42646b(0x26d)+_0x42646b(0x27d)+_0x42646b(0x1f6)+_0x42646b(0x27c)+_0x42646b(0x233)+'ULT\x200\x0a\x20\x20\x20\x20'+_0x42646b(0x1f5)+'\x20\x20\x20');try{await db[_0x42646b(0x274)](_0x42646b(0x236)+'EX\x20IF\x20NOT\x20'+'EXISTS\x20idx'+'_pmfilters'+_0x42646b(0x1f2)+_0x42646b(0x279)+_0x42646b(0x205)+');');}catch(_0x4f59b7){}info(_0x42646b(0x20a)+_0x42646b(0x2d8)+_0x42646b(0x2c9)+_0x42646b(0x23c));}else info(_0x42646b(0x20a)+'\x20pm_filter'+'s\x20table\x20ex'+_0x42646b(0x2cb));}catch(_0x5de3bd){error(_0x5de3bd,'[pmfilter]'+_0x42646b(0x29b)+'ema\x20fatal');throw _0x5de3bd;}}async function upsertPmFilter(_0x26198c,_0x1b59f8,_0x2ea695){const _0x4d39a4=_0x155b55;try{const _0x477c44=Math['floor'](Date[_0x4d39a4(0x284)]()/(0x2598+0x174e+0x5b3*-0xa)),_0x155705=JSON[_0x4d39a4(0x2bb)](uniqArray(ensureArray(_0x1b59f8)[_0x4d39a4(0x2cf)](_0x3d0082=>String(_0x3d0082)[_0x4d39a4(0x241)]())[_0x4d39a4(0x280)](Boolean)));await db['run'](_0x4d39a4(0x224)+_0x4d39a4(0x278)+'rs\x20(trigge'+'r,\x20respons'+_0x4d39a4(0x228)+_0x4d39a4(0x260)+_0x4d39a4(0x2d3)+_0x4d39a4(0x227)+_0x4d39a4(0x28d)+'S\x20(?,\x20?,\x200'+_0x4d39a4(0x23a)+_0x4d39a4(0x24a)+_0x4d39a4(0x297)+_0x4d39a4(0x2a8)+_0x4d39a4(0x235)+_0x4d39a4(0x2b2)+_0x4d39a4(0x281)+_0x4d39a4(0x23e)+_0x4d39a4(0x2c0)+_0x4d39a4(0x21b)+_0x4d39a4(0x294)+_0x4d39a4(0x1e9)+'\x20\x20\x20created'+'_by\x20=\x20excl'+_0x4d39a4(0x2d6)+_0x4d39a4(0x1ed)+'\x20\x20\x20\x20\x20\x20crea'+_0x4d39a4(0x1f9)+_0x4d39a4(0x26f)+'eated_at;',[_0x26198c,_0x155705,_0x2ea695||'',_0x477c44]);try{automatonCache[_0x4d39a4(0x2c5)]('global');}catch(_0xec8630){}return info('[pmfilter]'+_0x4d39a4(0x293)+_0x26198c),!![];}catch(_0x3fad0c){return error(_0x3fad0c,'[pmfilter]'+_0x4d39a4(0x268)+_0x4d39a4(0x25e)+_0x26198c),![];}}async function deletePmFilters(_0x2f7697){const _0x2eebc5=_0x155b55;if(!Array[_0x2eebc5(0x226)](_0x2f7697)||_0x2f7697[_0x2eebc5(0x237)]===-0x10fe+0xda9+0x355)return-0x337*-0x7+-0x4ba+-0x7b*0x25;try{let _0x16c709=-0x11c0+0x7c*-0xd+0x180c;for(const _0xd04ad4 of _0x2f7697){const _0x774da1=await db['run'](_0x2eebc5(0x290)+_0x2eebc5(0x2a3)+_0x2eebc5(0x2d2)+_0x2eebc5(0x231),[_0xd04ad4]);if(_0x774da1?.[_0x2eebc5(0x286)])_0x16c709+=_0x774da1[_0x2eebc5(0x286)];info(_0x2eebc5(0x20a)+_0x2eebc5(0x255)+_0xd04ad4);}try{automatonCache['delete'](_0x2eebc5(0x2c7));}catch(_0x5b8e76){}return _0x16c709;}catch(_0x3e8f0b){return error(_0x3e8f0b,'[pmfilter]'+'\x20delete\x20fa'+_0x2eebc5(0x24d)+(_0x3e8f0b?.[_0x2eebc5(0x24b)]||_0x3e8f0b)),0x1*-0x24a6+0x1*-0x25a6+0x4a4c;}}async function listPmTriggers(){const _0x2b1337=_0x155b55;try{const _0xe6f5d0=await db[_0x2b1337(0x298)]('SELECT\x20DIS'+_0x2b1337(0x2c8)+_0x2b1337(0x26c)+'m_filters\x20'+'ORDER\x20BY\x20t'+_0x2b1337(0x28c));return(_0xe6f5d0||[])[_0x2b1337(0x2cf)](_0x34ca5f=>_0x34ca5f[_0x2b1337(0x1f0)]);}catch(_0x5f4499){return warn(_0x5f4499,'[pmfilter]'+_0x2b1337(0x25c)+'ers\x20failed'+':\x20'+(_0x5f4499?.['message']||_0x5f4499)),[];}}async function pickPmResponseAndAdvance(_0x57263f,_0x5b4efa=_0x155b55(0x242)){const _0x3f83b1=_0x155b55;try{const _0x83dc49=await db[_0x3f83b1(0x25d)](_0x3f83b1(0x29d)+_0x3f83b1(0x2a9)+'_index\x20FRO'+_0x3f83b1(0x2a3)+_0x3f83b1(0x2d2)+_0x3f83b1(0x231)+_0x3f83b1(0x214),[_0x57263f]);if(!_0x83dc49)return null;let _0x23c613=[];try{_0x23c613=JSON['parse'](_0x83dc49['responses']||'[]');}catch{_0x23c613=ensureArray(_0x83dc49[_0x3f83b1(0x26e)]);}_0x23c613=ensureArray(_0x23c613);if(!_0x23c613[_0x3f83b1(0x237)])return null;if((_0x5b4efa||'')[_0x3f83b1(0x1ee)+'e']()===_0x3f83b1(0x267)){const _0x7ddfeb=Math[_0x3f83b1(0x273)](Math[_0x3f83b1(0x267)]()*_0x23c613[_0x3f83b1(0x237)]);return _0x23c613[_0x7ddfeb];}const _0x327314=Number(_0x83dc49[_0x3f83b1(0x2c1)]||-0x10f4+-0x1631+0x2725),_0x32cf7f=_0x23c613[_0x327314%_0x23c613[_0x3f83b1(0x237)]];try{await db[_0x3f83b1(0x28a)](_0x3f83b1(0x215)+_0x3f83b1(0x1e3)+'T\x20rr_index'+_0x3f83b1(0x263)+_0x3f83b1(0x203)+_0x3f83b1(0x1f7)+_0x3f83b1(0x266),[_0x57263f]);}catch(_0x483904){warn(_0x3f83b1(0x20a)+'\x20rr_index+'+_0x3f83b1(0x251)+(_0x483904?.[_0x3f83b1(0x24b)]||_0x483904));}return _0x32cf7f;}catch(_0xf96699){return warn(_0x3f83b1(0x20a)+'\x20pickRespo'+_0x3f83b1(0x264)+'\x20'+(_0xf96699?.[_0x3f83b1(0x24b)]||_0xf96699)),null;}}const processedMessageKeys=new Map(),DEDUPE_TTL_MS=(-0x173b+0x177f+-0x13*0x2)*(-0x822*0x2+0x23c3+-0x1*0xf97);function makeDedupeKey(_0xe89f1e){const _0x3ffc98=_0x155b55,_0x581213=_0xe89f1e?.[_0x3ffc98(0x229)];if(!_0x581213)return null;const _0x246edb=_0x581213['id']||_0x581213?.[_0x3ffc98(0x20e)+'t']||'',_0x196836=_0x581213[_0x3ffc98(0x25f)]||'';return _0x196836+'::'+_0x246edb;}function isProcessed(_0xe3b5b7){return _0xe3b5b7&&processedMessageKeys['has'](_0xe3b5b7);}function markProcessed(_0x2d530f){const _0x411d1a=_0x155b55;if(!_0x2d530f)return;if(processedMessageKeys[_0x411d1a(0x209)](_0x2d530f))clearTimeout(processedMessageKeys['get'](_0x2d530f));const _0x1143f6=setTimeout(()=>processedMessageKeys[_0x411d1a(0x2c5)](_0x2d530f),DEDUPE_TTL_MS);processedMessageKeys['set'](_0x2d530f,_0x1143f6);}class Aho{constructor(){const _0x37ed97=_0x155b55;this[_0x37ed97(0x1e0)]=[{'next':Object[_0x37ed97(0x1e8)](null),'fail':0x0,'output':[]}];}['build'](_0x2684fd){const _0xfec42f=_0x155b55;this[_0xfec42f(0x1e0)]=[{'next':Object[_0xfec42f(0x1e8)](null),'fail':0x0,'output':[]}];for(const _0x13fca6 of _0x2684fd){let _0x505a35=0xd*-0x18d+-0x1*0x2443+0x386c;for(let _0x45b465=0x1*0x22e5+-0x2a2+-0x2043;_0x45b465<_0x13fca6['length'];_0x45b465++){const _0x3d2b1d=_0x13fca6[_0x45b465];!this[_0xfec42f(0x1e0)][_0x505a35][_0xfec42f(0x254)][_0x3d2b1d]&&(this[_0xfec42f(0x1e0)][_0x505a35]['next'][_0x3d2b1d]=this['nodes'][_0xfec42f(0x237)],this[_0xfec42f(0x1e0)]['push']({'next':Object[_0xfec42f(0x1e8)](null),'fail':0x0,'output':[]})),_0x505a35=this[_0xfec42f(0x1e0)][_0x505a35][_0xfec42f(0x254)][_0x3d2b1d];}this[_0xfec42f(0x1e0)][_0x505a35][_0xfec42f(0x256)]['push'](_0x13fca6);}const _0x3a1302=[];for(const _0x364418 in this[_0xfec42f(0x1e0)][-0x11a1*0x1+-0x21b5+0x3356][_0xfec42f(0x254)]){const _0x460d1a=this[_0xfec42f(0x1e0)][-0xd*-0x1cd+0x39*0x7e+0x1*-0x3377]['next'][_0x364418];this[_0xfec42f(0x1e0)][_0x460d1a][_0xfec42f(0x246)]=-0x7*0x112+0x68a+-0x2*-0x7a,_0x3a1302[_0xfec42f(0x1fd)](_0x460d1a);}while(_0x3a1302['length']){const _0x3f7a99=_0x3a1302[_0xfec42f(0x220)]();for(const _0x15151d in this['nodes'][_0x3f7a99][_0xfec42f(0x254)]){const _0x48adfe=this['nodes'][_0x3f7a99][_0xfec42f(0x254)][_0x15151d];let _0x3c6199=this[_0xfec42f(0x1e0)][_0x3f7a99]['fail'];while(_0x3c6199&&!this[_0xfec42f(0x1e0)][_0x3c6199][_0xfec42f(0x254)][_0x15151d])_0x3c6199=this[_0xfec42f(0x1e0)][_0x3c6199][_0xfec42f(0x246)];if(this['nodes'][_0x3c6199]['next'][_0x15151d])this['nodes'][_0x48adfe][_0xfec42f(0x246)]=this[_0xfec42f(0x1e0)][_0x3c6199]['next'][_0x15151d];else this[_0xfec42f(0x1e0)][_0x48adfe][_0xfec42f(0x246)]=0x1382+0x503*-0x5+0x1d*0x31;this['nodes'][_0x48adfe][_0xfec42f(0x256)][_0xfec42f(0x1fd)](...this[_0xfec42f(0x1e0)][this[_0xfec42f(0x1e0)][_0x48adfe][_0xfec42f(0x246)]]['output']),_0x3a1302['push'](_0x48adfe);}}}[_0x155b55(0x28b)](_0x49ea30){const _0x12f619=_0x155b55,_0x56b569=[];let _0x96c1b2=0x135a+-0x1*0x24b+-0x110f;for(let _0x8b5abb=-0x773*0x1+-0xb*-0x235+0x4*-0x435;_0x8b5abb<_0x49ea30[_0x12f619(0x237)];_0x8b5abb++){const _0x5de8cc=_0x49ea30[_0x8b5abb];while(_0x96c1b2&&!this[_0x12f619(0x1e0)][_0x96c1b2][_0x12f619(0x254)][_0x5de8cc])_0x96c1b2=this[_0x12f619(0x1e0)][_0x96c1b2][_0x12f619(0x246)];if(this[_0x12f619(0x1e0)][_0x96c1b2][_0x12f619(0x254)][_0x5de8cc])_0x96c1b2=this[_0x12f619(0x1e0)][_0x96c1b2][_0x12f619(0x254)][_0x5de8cc];else _0x96c1b2=-0x1*-0x18da+-0x1b4*0x1+-0x1726;if(this[_0x12f619(0x1e0)][_0x96c1b2][_0x12f619(0x256)][_0x12f619(0x237)]){for(const _0x1b4b1d of this[_0x12f619(0x1e0)][_0x96c1b2]['output'])_0x56b569[_0x12f619(0x1fd)]({'keyword':_0x1b4b1d,'index':_0x8b5abb-_0x1b4b1d[_0x12f619(0x237)]+(0xd0+-0x1*0x3cb+0x2fc)});}}return _0x56b569;}}const automatonCache=new Map();async function getGlobalAutomaton(){const _0x31d1e9=_0x155b55;if(automatonCache[_0x31d1e9(0x209)](_0x31d1e9(0x2c7)))return automatonCache[_0x31d1e9(0x25d)](_0x31d1e9(0x2c7));try{const _0x247d20=await db['all'](_0x31d1e9(0x291)+_0x31d1e9(0x2c8)+_0x31d1e9(0x26c)+_0x31d1e9(0x2b1)),_0x1a7398=(_0x247d20||[])[_0x31d1e9(0x2cf)](_0x57360e=>String(_0x57360e[_0x31d1e9(0x1f0)]||'')[_0x31d1e9(0x241)]())[_0x31d1e9(0x280)](Boolean),_0x10d1c1=_0x1a7398['filter'](_0xdca487=>{const _0x19da49=_0x31d1e9,_0x2cae55=String(_0xdca487)[_0x19da49(0x241)]()[_0x19da49(0x1ee)+'e']();if(_0x2cae55[_0x19da49(0x2ab)](_0x19da49(0x292)))return![];if(_0xdca487[_0x19da49(0x23f)]('*'))return![];return!![];}),_0x36c203=_0x10d1c1[_0x31d1e9(0x2cf)](_0x2b314c=>_0x2b314c[_0x31d1e9(0x1ee)+'e']()),_0x31579f=new Aho();if(_0x36c203[_0x31d1e9(0x237)])_0x31579f['build'](_0x36c203);const _0x5196c1={'ac':_0x31579f,'keywords':_0x36c203,'normalSet':new Set(_0x36c203),'triggers':_0x1a7398};return automatonCache['set'](_0x31d1e9(0x2c7),_0x5196c1),_0x5196c1;}catch(_0x35c73c){return warn('[pmfilter]'+_0x31d1e9(0x24f)+_0x31d1e9(0x1e1)+_0x31d1e9(0x2c3)+(_0x35c73c?.[_0x31d1e9(0x24b)]||_0x35c73c)),null;}}async function sendPmReply(_0x186c1e,_0x462727,_0x2c72ba){const _0x535dff=_0x155b55;if(!_0x2c72ba)return;let _0x2f24e9=_0x462727;try{if(!_0x2f24e9&&_0x186c1e&&_0x186c1e[_0x535dff(0x229)]&&_0x186c1e[_0x535dff(0x229)][_0x535dff(0x25f)])_0x2f24e9=_0x186c1e[_0x535dff(0x229)][_0x535dff(0x25f)];}catch(_0x46c3f6){}if(!_0x2f24e9)return;const _0x46fe14={'text':String(_0x2c72ba)},_0x1a1437=clampConfigTypingMs();if(_0x1a1437>-0x22a3+-0x2be*-0x8+0xcb3)try{await simulateTypingAndWait(botInstance?.[_0x535dff(0x29a)],_0x2f24e9,_0x1a1437);}catch(_0x16bde1){warn(_0x535dff(0x20a)+_0x535dff(0x22a)+_0x535dff(0x218)+_0x535dff(0x295)+(_0x16bde1?.[_0x535dff(0x24b)]||_0x16bde1));}try{if(_0x186c1e&&typeof _0x186c1e['reply']===_0x535dff(0x2d0)&&_0x186c1e[_0x535dff(0x229)]&&_0x186c1e[_0x535dff(0x229)][_0x535dff(0x25f)]===_0x2f24e9)try{await _0x186c1e[_0x535dff(0x1e2)]({'text':String(_0x2c72ba)});return;}catch(_0x1a4aa5){warn(_0x535dff(0x20a)+_0x535dff(0x250)+_0x535dff(0x230)+':\x20'+(_0x1a4aa5?.['message']||_0x1a4aa5));}if(botInstance&&typeof botInstance[_0x535dff(0x245)+'e']===_0x535dff(0x2d0))await botInstance[_0x535dff(0x245)+'e'](_0x2f24e9,_0x46fe14);else botInstance&&botInstance[_0x535dff(0x29a)]&&typeof botInstance[_0x535dff(0x29a)]['sendMessag'+'e']===_0x535dff(0x2d0)?await botInstance[_0x535dff(0x29a)][_0x535dff(0x245)+'e'](_0x2f24e9,_0x46fe14):warn(_0x535dff(0x20a)+_0x535dff(0x257)+'PI\x20availab'+'le');}catch(_0x4ac33a){warn('[pmfilter]'+_0x535dff(0x28e)+_0x535dff(0x265)+'\x20'+(_0x4ac33a?.['message']||_0x4ac33a));}}export async function initialize(_0x1661fb){const _0x292af9=_0x155b55;try{botInstance=_0x1661fb,botJid=_0x1661fb?.[_0x292af9(0x29a)]?.['user']?.['id']||null;if(!botJid)warn(_0x292af9(0x20a)+_0x292af9(0x23b)+_0x292af9(0x252)+_0x292af9(0x21d)+_0x292af9(0x1ec));if(botInstance){if(typeof botInstance['sendMessag'+'e']===_0x292af9(0x2d0))sendApi=async(_0x10c41c,_0x1953e9)=>await botInstance[_0x292af9(0x245)+'e'](_0x10c41c,_0x1953e9);else{if(botInstance[_0x292af9(0x29a)]&&typeof botInstance[_0x292af9(0x29a)][_0x292af9(0x245)+'e']==='function')sendApi=async(_0x428da1,_0x26c076)=>await botInstance['sock'][_0x292af9(0x245)+'e'](_0x428da1,_0x26c076);else sendApi=null;}}await ensureSchema(),info('[pmfilter]'+'\x20initializ'+'ed\x20with\x20bo'+_0x292af9(0x262)+(botJid||_0x292af9(0x271)));}catch(_0x50782f){error(_0x50782f,_0x292af9(0x20a)+_0x292af9(0x2ca)+_0x292af9(0x204)+(_0x50782f?.['message']||_0x50782f));throw _0x50782f;}}function detectCommandNameFromCmdText(_0x233f49){const _0x13c317=_0x155b55;if(!_0x233f49)return null;const _0x24e8ff=_0x233f49[_0x13c317(0x241)]();if(!_0x24e8ff)return null;return _0x24e8ff[_0x13c317(0x299)](/\s+/)[-0x32e*0x6+0x16d9*-0x1+0x29ed][_0x13c317(0x1ee)+'e']();}function parsePmFilterCommandText(_0x5c6346,_0x1e56c8){const _0x48b2f6=_0x155b55;if(!_0x5c6346)return null;const _0x1c4058=_0x5c6346['split'](/\r?\n/)['map'](_0xb8360c=>_0xb8360c[_0x48b2f6(0x2be)](/\r/g,''));if(!_0x1c4058[_0x48b2f6(0x237)])return null;let _0x3ecf3a=_0x1c4058[-0xa05+0x52*0x6a+-0x17ef][_0x48b2f6(0x241)]();if(_0x1e56c8){if(Array[_0x48b2f6(0x226)](_0x1e56c8))for(const _0x237cfc of _0x1e56c8){if(_0x3ecf3a[_0x48b2f6(0x2ab)](_0x237cfc)){_0x3ecf3a=_0x3ecf3a[_0x48b2f6(0x248)](_0x237cfc[_0x48b2f6(0x237)])[_0x48b2f6(0x241)]();break;}}else typeof _0x1e56c8===_0x48b2f6(0x261)&&_0x3ecf3a['startsWith'](_0x1e56c8)&&(_0x3ecf3a=_0x3ecf3a['slice'](_0x1e56c8[_0x48b2f6(0x237)])[_0x48b2f6(0x241)]());}const _0x223744=_0x3ecf3a[_0x48b2f6(0x299)](/\s+/);if(_0x223744[-0x1*-0x55d+-0x1*-0x202+-0x75f][_0x48b2f6(0x1ee)+'e']()===_0x48b2f6(0x2b4))_0x223744[_0x48b2f6(0x220)]();const _0x12a197=_0x223744[_0x48b2f6(0x2b0)]('\x20')[_0x48b2f6(0x241)](),_0x1ec3e1=_0x12a197?_0x12a197[_0x48b2f6(0x299)](',')['map'](_0x146c38=>_0x146c38[_0x48b2f6(0x241)]())[_0x48b2f6(0x280)](Boolean):[],_0x1bb8fa=_0x1c4058[_0x48b2f6(0x248)](0x1f5d+0x2*0x1238+-0x4*0x10f3)['map'](_0x55ada7=>_0x55ada7[_0x48b2f6(0x241)]())['filter'](Boolean)[_0x48b2f6(0x280)](_0x484ec1=>_0x484ec1[_0x48b2f6(0x2ab)]('!'))['map'](_0x377620=>_0x377620[_0x48b2f6(0x248)](-0x1c07+-0x267e+0x4286)[_0x48b2f6(0x241)]())[_0x48b2f6(0x280)](Boolean);return{'triggers':_0x1ec3e1,'responses':_0x1bb8fa};}async function determineConfirmationTarget(_0x1b8c24){const _0x512bf1=_0x155b55;try{if(!_0x1b8c24||!_0x1b8c24[_0x512bf1(0x229)])return null;if(_0x1b8c24[_0x512bf1(0x229)]['fromMe']){const _0x72fb62=getBotJid();return _0x72fb62||_0x1b8c24['key'][_0x512bf1(0x25f)];}return _0x1b8c24[_0x512bf1(0x229)]['remoteJid'];}catch(_0x21c147){warn('[pmfilter]'+'\x20determine'+'Confirmati'+_0x512bf1(0x2ce)+_0x512bf1(0x2bc)+(_0x21c147?.[_0x512bf1(0x24b)]||_0x21c147));try{return _0x1b8c24['key'][_0x512bf1(0x25f)];}catch(_0x188c74){return null;}}}export async function onMessage(_0x5abc30){const _0x301b42=_0x155b55;try{if(!_0x5abc30||!_0x5abc30[_0x301b42(0x229)]||!_0x5abc30[_0x301b42(0x24b)])return;const _0x256b06=makeDedupeKey(_0x5abc30);if(isProcessed(_0x256b06))return;markProcessed(_0x256b06);const _0x44406c=_0x5abc30[_0x301b42(0x229)][_0x301b42(0x25f)],_0x577c35=typeof _0x44406c==='string'&&_0x44406c[_0x301b42(0x244)](_0x301b42(0x1f8)),_0x55d823=!!_0x5abc30['key'][_0x301b42(0x238)],_0xb4885=_0x5abc30[_0x301b42(0x229)]&&(_0x5abc30[_0x301b42(0x229)]['participan'+'t']||_0x5abc30[_0x301b42(0x229)][_0x301b42(0x2a4)]||_0x5abc30[_0x301b42(0x229)][_0x301b42(0x25f)])||'';if(_0x5abc30[_0x301b42(0x211)]){if(_0x577c35)return;const _0xaba4d0=!!_0x5abc30[_0x301b42(0x229)]['fromMe'];let _0x2e5fe5=![];try{_0x2e5fe5=await isSudo(botInstance,_0x5abc30);}catch(_0x430b3f){_0x2e5fe5=![];}if(!_0xaba4d0&&!_0x2e5fe5)return;const _0x18cb84=await determineConfirmationTarget(_0x5abc30),_0x41564a=typeof _0x5abc30[_0x301b42(0x259)]===_0x301b42(0x261)&&_0x5abc30[_0x301b42(0x259)]['trim']()[_0x301b42(0x237)]?_0x5abc30[_0x301b42(0x259)][_0x301b42(0x241)]():getMessageText(_0x5abc30)[_0x301b42(0x241)](),_0x2f60cd=detectCommandNameFromCmdText(_0x41564a);if(!_0x2f60cd)return;if(!_0x2f60cd['startsWith']('p'))return;if(_0x2f60cd===_0x301b42(0x2b4)){const _0x13829d=getConfig()||{},_0x2fdf6f=parsePmFilterCommandText(_0x41564a||getMessageText(_0x5abc30),_0x13829d['COMMAND_PR'+_0x301b42(0x276)]??_0x13829d[_0x301b42(0x1fe)]??null);if(!_0x2fdf6f||!_0x2fdf6f[_0x301b42(0x29c)][_0x301b42(0x237)]||!_0x2fdf6f[_0x301b42(0x26e)][_0x301b42(0x237)]){await sendPmReply(_0x5abc30,_0x18cb84,_0x301b42(0x2c4)+_0x301b42(0x27e)+'-only):\x0apf'+_0x301b42(0x296)+_0x301b42(0x202)+_0x301b42(0x29f)+_0x301b42(0x2cd)+'sponse2\x0aNO'+'TE:\x20Filter'+_0x301b42(0x1ea)+_0x301b42(0x208)+'l\x20be\x20used\x20'+_0x301b42(0x213)+_0x301b42(0x2d1)+'t.');return;}let _0x5eee63=0x1*0x2353+0xf7f*0x1+0x5*-0xa2a;for(const _0x99ec08 of _0x2fdf6f[_0x301b42(0x29c)]){const _0x7c2add=await upsertPmFilter(_0x99ec08,_0x2fdf6f[_0x301b42(0x26e)],_0xb4885||'');if(_0x7c2add)_0x5eee63++;}await sendPmReply(_0x5abc30,_0x18cb84,_0x301b42(0x2a1)+_0x5eee63+(_0x301b42(0x2aa)+_0x301b42(0x289)));return;}if(_0x2f60cd===_0x301b42(0x285)+'r'){const _0x127b2c=await listPmTriggers();await sendPmReply(_0x5abc30,_0x18cb84,_0x301b42(0x2b8)+_0x301b42(0x2b6)+_0x127b2c[_0x301b42(0x237)]+'\x20filters.');if(!_0x127b2c['length'])return;let _0x768e3f='';for(const _0x5ba5cf of _0x127b2c){const _0x3e23d7='â€¢\x20'+_0x5ba5cf+'\x0a';(_0x768e3f+_0x3e23d7)['length']>-0x631+0x3*-0x2eb+0x14ce&&(await sendPmReply(_0x5abc30,_0x18cb84,_0x768e3f[_0x301b42(0x241)]()),_0x768e3f=''),_0x768e3f+=_0x3e23d7;}if(_0x768e3f['trim']())await sendPmReply(_0x5abc30,_0x18cb84,_0x768e3f['trim']());return;}if(_0x2f60cd===_0x301b42(0x24e)||_0x2f60cd===_0x301b42(0x24e)+'s'||_0x2f60cd===_0x301b42(0x2ae)){const _0x37652c=getMessageText(_0x5abc30)||'',_0x42e970=_0x37652c['split'](/\r?\n/)[_0x301b42(0x2cf)](_0xe3b14c=>_0xe3b14c[_0x301b42(0x241)]());let _0x409edd=null;if(_0x42e970[_0x301b42(0x237)]>-0x4f3+0x3*-0x28e+-0x11*-0xbe)_0x409edd=_0x42e970[-0xd40+0x1*-0x127f+-0x1fc*-0x10];else{const _0x1ae1e4=(_0x41564a||_0x37652c)[_0x301b42(0x241)]()[_0x301b42(0x299)](/\s+/);_0x1ae1e4[_0x301b42(0x220)](),_0x409edd=_0x1ae1e4[_0x301b42(0x2b0)]('\x20')[_0x301b42(0x241)]();}const _0x40064a=(_0x409edd||'')[_0x301b42(0x299)](',')[_0x301b42(0x2cf)](_0x21b940=>_0x21b940[_0x301b42(0x241)]())[_0x301b42(0x280)](Boolean);if(!_0x40064a[_0x301b42(0x237)]){await sendPmReply(_0x5abc30,_0x18cb84,'Usage:\x20pde'+_0x301b42(0x253)+_0x301b42(0x2b7)+_0x301b42(0x2c6)+'pdelfilter'+_0x301b42(0x2b9)+_0x301b42(0x201)+_0x301b42(0x221));return;}if(_0x40064a[_0x301b42(0x237)]===0x11*0x31+0x21cd+-0x250d&&_0x40064a[0x231*-0x3+-0x4*-0x602+-0x6d*0x29][_0x301b42(0x1ee)+'e']()===_0x301b42(0x298))try{const _0x31c0e5=await db[_0x301b42(0x28a)](_0x301b42(0x290)+'M\x20pm_filte'+'rs'),_0x2341d9=_0x31c0e5?.[_0x301b42(0x286)]||0x1618*0x1+0x1e0d+-0x3425*0x1;try{automatonCache[_0x301b42(0x27b)]();}catch(_0x217bff){}await sendPmReply(_0x5abc30,_0x18cb84,_0x301b42(0x21a)+_0x301b42(0x1e7)+_0x301b42(0x243)+_0x301b42(0x23d)+_0x2341d9);return;}catch(_0x312ef3){warn(_0x301b42(0x20a)+_0x301b42(0x29e)+'r\x20all\x20fail'+'ed:\x20'+(_0x312ef3?.[_0x301b42(0x24b)]||_0x312ef3)),await sendPmReply(_0x5abc30,_0x18cb84,_0x301b42(0x216)+_0x301b42(0x1fa)+_0x301b42(0x270)+(_0x312ef3?.['message']||_0x312ef3));return;}const _0x1e90dd=await deletePmFilters(_0x40064a);await sendPmReply(_0x5abc30,_0x18cb84,_0x301b42(0x2cc)+_0x1e90dd+('\x20pm\x20filter'+_0x301b42(0x289)));return;}return;}const _0x2b8d8a=_0x44406c;if(!_0x2b8d8a)return;if(_0x577c35)return;if(_0x55d823)return;if(_0x2b8d8a===botJid)return;const _0x150498=getMessageText(_0x5abc30);if(!_0x150498)return;const _0x54a21d=String(_0x150498||''),_0x37912a=await db['all'](_0x301b42(0x291)+_0x301b42(0x2c8)+_0x301b42(0x26c)+_0x301b42(0x2b1));if(!_0x37912a||_0x37912a[_0x301b42(0x237)]===-0x4b3*0x5+0xb94+0x71*0x1b)return;const _0x3d2401=(_0x37912a||[])[_0x301b42(0x2cf)](_0x37a6de=>String(_0x37a6de[_0x301b42(0x1f0)]||'')[_0x301b42(0x241)]())[_0x301b42(0x280)](Boolean),_0x600530=[],_0x59d77d=[],_0x3c44ab=[];for(const _0x2fe2d8 of _0x3d2401){const _0x195f9b=String(_0x2fe2d8)[_0x301b42(0x241)]()[_0x301b42(0x1ee)+'e']();if(_0x195f9b[_0x301b42(0x2ab)](_0x301b42(0x292))){_0x3c44ab['push'](_0x2fe2d8[_0x301b42(0x2bd)](-0x739+-0x1a01+0x2140));continue;}if(_0x2fe2d8[_0x301b42(0x23f)]('*')){_0x59d77d['push'](_0x2fe2d8);continue;}_0x600530[_0x301b42(0x1fd)](_0x2fe2d8);}const _0x18c24b=getConfig()||{},_0xd1fa49=_0x18c24b[_0x301b42(0x2b5)]&&typeof _0x18c24b[_0x301b42(0x2b5)]===_0x301b42(0x2a2)?_0x18c24b[_0x301b42(0x2b5)]:{},_0x1e33d9=(_0xd1fa49[_0x301b42(0x27f)+_0x301b42(0x2d4)]||_0x301b42(0x242))[_0x301b42(0x1ee)+'e']();let _0x1b305e=null;if(_0x600530[_0x301b42(0x237)]>0x1ba7+-0x1773*-0x1+-0x331a)try{const _0x5ab3ef=await getGlobalAutomaton();if(_0x5ab3ef&&_0x5ab3ef['ac']&&_0x5ab3ef[_0x301b42(0x288)]&&_0x5ab3ef[_0x301b42(0x288)]['length']){const _0x50752a=_0x54a21d[_0x301b42(0x1ee)+'e'](),_0x38d6e7=_0x5ab3ef['ac']['search'](_0x50752a);for(const _0x3aa3df of _0x38d6e7){const _0x5977d0=_0x3aa3df[_0x301b42(0x1f1)],_0x4f0a68=_0x3aa3df[_0x301b42(0x258)],_0x1d3f95=_0x4f0a68+_0x5977d0['length'],_0x9276ef=_0x4f0a68===0x8*0x15a+-0xe73+0x3a3||!/\w/[_0x301b42(0x234)](_0x50752a[_0x4f0a68-(-0x693+0x15cc+0xf38*-0x1)]),_0x5bfaaa=_0x1d3f95===_0x50752a[_0x301b42(0x237)]||!/\w/[_0x301b42(0x234)](_0x50752a[_0x1d3f95]);if(_0x9276ef&&_0x5bfaaa){const _0x4bf740=_0x600530['find'](_0x460995=>_0x460995['toLowerCas'+'e']()===_0x5977d0);if(_0x4bf740){_0x1b305e=_0x4bf740;break;}}}}else for(const _0x1e0cf6 of _0x600530){const _0x2b121a=new RegExp('\x5cb'+escapeRegex(String(_0x1e0cf6))+'\x5cb','i');if(_0x2b121a[_0x301b42(0x234)](_0x54a21d)){_0x1b305e=_0x1e0cf6;break;}}}catch(_0x5cd0da){warn(_0x301b42(0x20a)+_0x301b42(0x1fb)+'d:\x20'+(_0x5cd0da?.[_0x301b42(0x24b)]||_0x5cd0da));for(const _0x188fb1 of _0x600530){try{const _0x1b1052=new RegExp('\x5cb'+escapeRegex(String(_0x188fb1))+'\x5cb','i');if(_0x1b1052[_0x301b42(0x234)](_0x54a21d)){_0x1b305e=_0x188fb1;break;}}catch(_0x412fd7){}}}if(!_0x1b305e&&_0x59d77d[_0x301b42(0x237)]>-0x1*0x1aaa+0x2*0x4cc+0x1112)for(const _0x440970 of _0x59d77d){try{const _0x48dcd0=new RegExp(wildcardToRegexPattern(_0x440970),'i');if(_0x48dcd0[_0x301b42(0x234)](_0x54a21d)){_0x1b305e=_0x440970;break;}}catch(_0xce9d0a){if(_0x54a21d[_0x301b42(0x1ee)+'e']()['includes'](_0x440970['replace'](/\*/g,'')[_0x301b42(0x1ee)+'e']())){_0x1b305e=_0x440970;break;}}}if(!_0x1b305e&&_0x3c44ab['length']>0x1899+-0x93a*0x1+-0xf5f)for(const _0x4cd43e of _0x3c44ab){try{const _0x35eef3=new RegExp(_0x4cd43e,'i');if(_0x35eef3[_0x301b42(0x234)](_0x54a21d)){_0x1b305e=_0x301b42(0x292)+_0x4cd43e;break;}}catch(_0x54a04d){warn(_0x301b42(0x20a)+_0x301b42(0x206)+_0x301b42(0x232)+_0x301b42(0x217)+_0x4cd43e+_0x301b42(0x21c)+(_0x54a04d?.['message']||_0x54a04d));}}if(_0x1b305e){const _0x3d4fbf=await pickPmResponseAndAdvance(_0x1b305e[_0x301b42(0x2be)](/\s+$/,''),_0x1e33d9);if(!_0x3d4fbf)return;await sendPmReply(_0x5abc30,_0x2b8d8a,_0x3d4fbf);}}catch(_0x663aa7){error(_0x663aa7,_0x301b42(0x20a)+_0x301b42(0x2af)+_0x301b42(0x2bc)+(_0x663aa7?.['message']||_0x663aa7));}}export async function cleanup(){const _0x5b8cc8=_0x155b55;try{for(const _0x7e9e55 of processedMessageKeys['values']())try{clearTimeout(_0x7e9e55);}catch(_0x17344f){}processedMessageKeys[_0x5b8cc8(0x27b)](),automatonCache[_0x5b8cc8(0x27b)](),botInstance=null,botJid=null,sendApi=null,info(_0x5b8cc8(0x20a)+'\x20cleaned\x20u'+'p');}catch(_0x446b72){warn(_0x5b8cc8(0x20a)+_0x5b8cc8(0x1eb)+'rror:\x20'+(_0x446b72?.[_0x5b8cc8(0x24b)]||_0x446b72));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};