const _0xaee5fd=_0xb634;(function(_0xea57d4,_0xe2e709){const _0x482a56=_0xb634,_0x18bf66=_0xea57d4();while(!![]){try{const _0x59ca1b=-parseInt(_0x482a56(0xb3))/(0x529+-0x1f46+-0x2*-0xd0f)*(parseInt(_0x482a56(0xbb))/(0x222c+0x2222*0x1+-0x444c))+parseInt(_0x482a56(0xdc))/(-0x7f0+-0x1dc6+0x25b9)+parseInt(_0x482a56(0x83))/(-0x62f*-0x4+-0x33b*-0x7+-0x2f55*0x1)*(parseInt(_0x482a56(0x9c))/(0x22c0+-0xd3*-0x2+0x8b*-0x43))+parseInt(_0x482a56(0x9f))/(0x2505*0x1+-0x1e75*-0x1+-0xc*0x59f)*(-parseInt(_0x482a56(0xe0))/(0x21*-0xe9+0x1c6d+0x1a3*0x1))+parseInt(_0x482a56(0x109))/(0x114b+0x9ab+-0x1*0x1aee)*(parseInt(_0x482a56(0x84))/(0x1*0x1d71+0xed*-0xe+-0xa*0x1a5))+parseInt(_0x482a56(0x10c))/(0x295*0x1+-0x189f+0x1614)*(-parseInt(_0x482a56(0x99))/(0xc15+-0x11*-0x12f+-0x2029))+parseInt(_0x482a56(0xe8))/(-0x1*-0x17d+0xf92+-0x1103);if(_0x59ca1b===_0xe2e709)break;else _0x18bf66['push'](_0x18bf66['shift']());}catch(_0x5a4a7d){_0x18bf66['push'](_0x18bf66['shift']());}}}(_0x20ae,0x9ae15+0xce9f5+-0xfd297));import _0x3e7267 from'path';import{warn,error,info}from'../utils/logger.js';function _0xb634(_0x1daf17,_0x5875fb){const _0x3a80e7=_0x20ae();return _0xb634=function(_0x3a5320,_0x24535d){_0x3a5320=_0x3a5320-(-0xfde+-0x35a+0x13a8);let _0xe0cad0=_0x3a80e7[_0x3a5320];return _0xe0cad0;},_0xb634(_0x1daf17,_0x5875fb);}import{db}from'../utils/database.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{getBotJid}from'../utils/bot-state.js';import{getConfig}from'../utils/config.js';export const name='status_aut'+_0xaee5fd(0x11d);export const version=_0xaee5fd(0x81);export const priority=0x1*-0x1b90+-0x1900+0x3503;export const commands=['autostatus'];export const configKeys=['STATUS_AUT'+'OSEND_RESP'+_0xaee5fd(0x80)+'T','STATUS_AUT'+_0xaee5fd(0x96)+_0xaee5fd(0x113)+_0xaee5fd(0x8b),_0xaee5fd(0xfb)+_0xaee5fd(0xa1)+'DOWNLOAD_B'+'YTES_WARN'];let CFG={};try{CFG=typeof getConfig===_0xaee5fd(0xeb)?getConfig()||{}:{};}catch(_0x2e4763){warn('['+name+(']\x20getConfi'+_0xaee5fd(0x11b)+'\x20')+(_0x2e4763?.[_0xaee5fd(0xe6)]||_0x2e4763)+(_0xaee5fd(0x103)+_0xaee5fd(0x78)+_0xaee5fd(0xe9)+'aults.')),CFG={};}function toPositiveInt(_0x5b51b2,_0x14c133){const _0x243058=_0xaee5fd,_0x3565e1=Number(_0x5b51b2);if(!Number[_0x243058(0x10a)](_0x3565e1)||_0x3565e1<=-0x3fb+0x3*-0x577+0x1*0x1460)return _0x14c133;return Math[_0x243058(0x104)](_0x3565e1);}const FALLBACKS={'RESPONDED_LIMIT':0x1388,'RESPONDED_TRIM_KEEP':0xbb8,'MAX_DOWNLOAD_BYTES_WARN':(-0x8*-0x493+0xdee+-0x327c)*(-0x158*0x1+-0x1212+0x12*0x14d)*(0x672*-0x4+0x29d*0xd+-0x1*0x431)},DEFAULTS={'RESPONDED_LIMIT':toPositiveInt(CFG[_0xaee5fd(0xfb)+_0xaee5fd(0x96)+_0xaee5fd(0x80)+'T']??(CFG['STATUS_AUT'+_0xaee5fd(0x7d)]&&CFG[_0xaee5fd(0xfb)+_0xaee5fd(0x7d)][_0xaee5fd(0x108)+_0xaee5fd(0xc8)]),FALLBACKS[_0xaee5fd(0x108)+'LIMIT']),'RESPONDED_TRIM_KEEP':toPositiveInt(CFG[_0xaee5fd(0xfb)+_0xaee5fd(0x96)+_0xaee5fd(0x113)+'_KEEP']??(CFG['STATUS_AUT'+_0xaee5fd(0x7d)]&&CFG[_0xaee5fd(0xfb)+_0xaee5fd(0x7d)][_0xaee5fd(0x108)+_0xaee5fd(0xea)]),FALLBACKS[_0xaee5fd(0x108)+_0xaee5fd(0xea)]),'MAX_DOWNLOAD_BYTES_WARN':toPositiveInt(CFG[_0xaee5fd(0xfb)+'OSEND_MAX_'+'DOWNLOAD_B'+_0xaee5fd(0x106)]??(CFG[_0xaee5fd(0xfb)+'OSEND']&&CFG['STATUS_AUT'+_0xaee5fd(0x7d)][_0xaee5fd(0x86)+_0xaee5fd(0xef)+'ARN']),FALLBACKS[_0xaee5fd(0x86)+_0xaee5fd(0xef)+'ARN'])};let botRef=null,_baileysHelpers=null;const PREFS_TABLE='autostatus'+_0xaee5fd(0xf5);let respondedMsgIds=new Set();function trackSent(_0x4305e0){const _0x31642c=_0xaee5fd;try{const _0x4e1ffd=_0x4305e0?.['key']?.['id']||_0x4305e0?.['id']||_0x4305e0?.[_0x31642c(0xc1)]&&_0x4305e0[_0x31642c(0xc1)][0xa48+0x711+-0x1159]?.[_0x31642c(0xf4)]?.['id']||Array['isArray'](_0x4305e0)&&_0x4305e0[-0x2274+-0x3*0x9a5+0x3f63]?.[_0x31642c(0xf4)]?.['id']||null;if(!_0x4e1ffd)return;respondedMsgIds['add'](String(_0x4e1ffd));if(respondedMsgIds[_0x31642c(0xb1)]>DEFAULTS[_0x31642c(0x108)+_0x31642c(0xc8)]){const _0x22c455=Array[_0x31642c(0x90)](respondedMsgIds);respondedMsgIds=new Set(_0x22c455['slice'](-DEFAULTS['RESPONDED_'+'TRIM_KEEP']));}}catch(_0x6da32a){}}function isOurSentId(_0x25b373){const _0x1e4366=_0xaee5fd;return _0x25b373&&respondedMsgIds[_0x1e4366(0xd5)](String(_0x25b373));}async function getBaileysHelpers(){const _0x4e74f8=_0xaee5fd;if(_baileysHelpers)return _baileysHelpers;try{const _0x4856bc=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x4856bc[_0x4e74f8(0xe3)+_0x4e74f8(0xbf)+_0x4e74f8(0xa5)]||_0x4856bc['default']?.[_0x4e74f8(0xe3)+_0x4e74f8(0xbf)+_0x4e74f8(0xa5)]};if(!_baileysHelpers[_0x4e74f8(0xe3)+_0x4e74f8(0xbf)+_0x4e74f8(0xa5)])throw new Error(_0x4e74f8(0xe3)+'ntentFromM'+_0x4e74f8(0x10d)+_0x4e74f8(0x11c));return _baileysHelpers;}catch(_0x109167){error(_0x109167,'['+name+(_0x4e74f8(0xcc)+_0x4e74f8(0xb5)+_0x4e74f8(0xc0)));throw _0x109167;}}async function streamToBuffer(_0x2868e1){const _0x26a68f=_0xaee5fd,_0x3a35aa=[];for await(const _0x7747d7 of _0x2868e1)_0x3a35aa[_0x26a68f(0xb7)](Buffer['isBuffer'](_0x7747d7)?_0x7747d7:Buffer[_0x26a68f(0x90)](_0x7747d7));return Buffer['concat'](_0x3a35aa);}async function ensureTables(){const _0x177bd8=_0xaee5fd;await db[_0x177bd8(0xf2)](_0x177bd8(0x8e)+'LE\x20IF\x20NOT\x20'+_0x177bd8(0x102)+PREFS_TABLE+(_0x177bd8(0x117)+_0x177bd8(0x8a)+_0x177bd8(0xba)+_0x177bd8(0xca)+_0x177bd8(0x11a)+_0x177bd8(0xb2)+'\x20\x20\x20\x20\x20\x20\x20upd'+_0x177bd8(0x9e)+_0x177bd8(0xf3)+'ULT\x200\x0a\x20\x20\x20\x20'+_0x177bd8(0x10e)));}function _0x20ae(){const _0x59a28a=['ward','push','essage\x20ava','value','RIMARY\x20KEY','8UjHGSh','clear','e:\x20getBotJ','ON\x20CONFLIC','ntentFromM','aileys','messages','e\x20error:\x20','stopManage','d\x20status\x20','video',']\x20getPref\x20',']\x20bot\x20JID\x20','LIMIT',',\x20cannot\x20r',',\x0a\x20\x20\x20\x20\x20\x20\x20v','audio',']\x20failed\x20t','pushName','contextInf','participan','/send\x20buil','message\x20er',']\x20onMessag',']\x20autostat','imageMessa','has','ssage','ialize\x20req','dListener\x20','attempt\x20fa','?)\x0a\x20\x20\x20\x20\x20\x20\x20','string','2585976oCmRBg','ue\x20FROM\x20','INSERT\x20INT',']\x20empty\x20bu','7AWSTut','off','status','downloadCo','enabled',']\x20no\x20sendM','message','messages.u','4429800kwLJwi','ilt-in\x20def','TRIM_KEEP','function','us\x20toggled','error:\x20','atusAndFor','AD_BYTES_W','trim','sticker','exec','TEGER\x20DEFA','key','_prefs','ed.updated','d\x20failed:\x20','run','status_aut','get','STATUS_AUT',']\x20handleSt','@g.us','true','split','videoMessa',']\x20forward\x20','EXISTS\x20','.\x20Falling\x20','floor','\x20=\x20?','YTES_WARN','audioMessa','RESPONDED_','47224UYQrOL','isFinite','us:\x20','60370JvDlxb','essage\x20not','\x20);','xtMessage','id()\x20empty','instance','eply','ONDED_TRIM','ror:\x20','image','\x20WHERE\x20key','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','toLowerCas','Status','alue\x20TEXT\x20','g()\x20threw:','\x20available','osend','documentMe','ES\x20(?,\x20?,\x20','psert','cannot\x20for','UPDATE\x20SET','\x20->\x20',']\x20large\x20',']\x20forwarde','conversati','back\x20to\x20bu','sendMessag','us\x20set\x20to\x20',']\x20download','fromMe','OSEND','toUpperCas','now','ONDED_LIMI','1.1.0','text','1256jPoPct','639sJYWZm','stickerMes','MAX_DOWNLO',']\x20setPref\x20','e,\x20updated','SELECT\x20val','key\x20TEXT\x20P','_KEEP','\x20download:','luded.valu','CREATE\x20TAB','document','from','uires\x20bot\x20','mentionedJ','sock','toString',']\x20raw\x20per-','OSEND_RESP','remoteJid','\x20•\x20Status','1243vExwtR','\x20value=exc','mimetype','11025jsYQmh','sage','ated_at\x20IN','3008094lRzSll','extendedTe','OSEND_MAX_','ilable\x20on\x20','node','status@bro','essage','\x20status\x20','show','T(key)\x20DO\x20','iled:\x20','d_at)\x20VALU','length','ue,\x20update','✔️\x20autostat','OFF',']\x20cleanup\x20','type','size','NOT\x20NULL,\x0a','178833auTggD','caption','o\x20import\x20B'];_0x20ae=function(){return _0x59a28a;};return _0x20ae();}async function getPref(_0x551ffd){const _0x110943=_0xaee5fd;try{const _0x4302dd=await db[_0x110943(0xfa)](_0x110943(0x89)+_0x110943(0xdd)+PREFS_TABLE+(_0x110943(0x116)+_0x110943(0x105)),[_0x551ffd]);return _0x4302dd?_0x4302dd[_0x110943(0xb9)]:null;}catch(_0x3d0bd9){return warn('['+name+(_0x110943(0xc6)+_0x110943(0xed))+(_0x3d0bd9?.['message']||_0x3d0bd9)),null;}}async function setPref(_0x3414ba,_0x57bd8f){const _0xa113bf=_0xaee5fd;try{const _0x8867f0=Math[_0xa113bf(0x104)](Date[_0xa113bf(0x7f)]()/(0x7c3*-0x2+0x1adc+-0x76e));return await db[_0xa113bf(0xf8)](_0xa113bf(0xde)+'O\x20'+PREFS_TABLE+('\x20(key,\x20val'+_0xa113bf(0xac)+_0xa113bf(0xaa)+_0xa113bf(0x70)+_0xa113bf(0xda)+_0xa113bf(0xbe)+_0xa113bf(0xa8)+_0xa113bf(0x73)+_0xa113bf(0x9a)+_0xa113bf(0x8d)+_0xa113bf(0x88)+'_at=exclud'+_0xa113bf(0xf6)+'_at;'),[_0x3414ba,String(_0x57bd8f),_0x8867f0]),!![];}catch(_0x455fc4){return warn('['+name+(_0xa113bf(0x87)+'failed:\x20')+(_0x455fc4?.[_0xa113bf(0xe6)]||_0x455fc4)),![];}}async function isEnabled(){const _0x2f3316=_0xaee5fd,_0x5ae378=await getPref(_0x2f3316(0xe4));return _0x5ae378==='1'||_0x5ae378===_0x2f3316(0xfe);}function detectContentAndNode(_0x4335b5){const _0x3d4d5d=_0xaee5fd,_0x11b5ed=_0x4335b5?.[_0x3d4d5d(0xe6)]||{};if(_0x11b5ed[_0x3d4d5d(0xd4)+'ge'])return{'type':'image','node':_0x11b5ed[_0x3d4d5d(0xd4)+'ge']};if(_0x11b5ed[_0x3d4d5d(0x100)+'ge'])return{'type':_0x3d4d5d(0xc5),'node':_0x11b5ed[_0x3d4d5d(0x100)+'ge']};if(_0x11b5ed[_0x3d4d5d(0x107)+'ge'])return{'type':_0x3d4d5d(0xcb),'node':_0x11b5ed['audioMessa'+'ge']};if(_0x11b5ed[_0x3d4d5d(0x11e)+'ssage'])return{'type':_0x3d4d5d(0x8f),'node':_0x11b5ed[_0x3d4d5d(0x11e)+_0x3d4d5d(0xd6)]};if(_0x11b5ed[_0x3d4d5d(0x85)+'sage'])return{'type':_0x3d4d5d(0xf1),'node':_0x11b5ed[_0x3d4d5d(0x85)+_0x3d4d5d(0x9d)]};if(_0x11b5ed[_0x3d4d5d(0xa0)+_0x3d4d5d(0x10f)]?.[_0x3d4d5d(0x82)])return{'type':_0x3d4d5d(0x82),'text':_0x11b5ed[_0x3d4d5d(0xa0)+_0x3d4d5d(0x10f)][_0x3d4d5d(0x82)]};if(_0x11b5ed[_0x3d4d5d(0x77)+'on'])return{'type':'text','text':_0x11b5ed[_0x3d4d5d(0x77)+'on']};return null;}async function buildImmediatePayload(_0x69fe54){const _0x305bdc=_0xaee5fd,_0xf603=detectContentAndNode(_0x69fe54);if(!_0xf603)return null;const _0x56fb24=_0x69fe54?.[_0x305bdc(0xf4)]?.[_0x305bdc(0xcf)+'t']||'',_0x3c2818=_0x69fe54?.[_0x305bdc(0xcd)]||'',_0x1c40a2=_0x56fb24?_0x56fb24[_0x305bdc(0xff)]('@')[-0x910+-0xc92*-0x2+-0x1014]:_0x3c2818||'',_0x48514f=_0x1c40a2?_0x1c40a2+_0x305bdc(0x98):_0x305bdc(0x119);if(_0xf603['type']===_0x305bdc(0x82)){const _0x213457=_0xf603[_0x305bdc(0x82)]||'',_0x68d2d0=_0x1c40a2?_0x1c40a2+':\x20'+_0x213457:_0x213457,_0x1f224c={'text':_0x68d2d0};if(_0x56fb24)_0x1f224c[_0x305bdc(0xce)+'o']={'mentionedJid':[_0x56fb24]};return _0x1f224c;}const {downloadContentFromMessage:_0x225a99}=await getBaileysHelpers(),_0x566cc6=_0xf603[_0x305bdc(0xa3)],_0x11cf8d=_0xf603[_0x305bdc(0xb0)];try{const _0x5ad995=await _0x225a99(_0x566cc6,_0x11cf8d),_0x500a66=await streamToBuffer(_0x5ad995);if(!_0x500a66||!_0x500a66[_0x305bdc(0xab)])return warn('['+name+(_0x305bdc(0xdf)+'ffer\x20for\x20')+_0x11cf8d+_0x305bdc(0xa6)+(_0x69fe54?.[_0x305bdc(0xf4)]?.['id']||'')),null;_0x500a66[_0x305bdc(0xab)]>DEFAULTS[_0x305bdc(0x86)+_0x305bdc(0xef)+'ARN']&&warn('['+name+_0x305bdc(0x75)+_0x11cf8d+(_0x305bdc(0x8c)+'\x20')+_0x500a66['length']+('\x20bytes\x20(id'+'\x20')+(_0x69fe54?.[_0x305bdc(0xf4)]?.['id']||'')+')');let _0x28f8c0=null;const _0x338031=(_0x566cc6?.[_0x305bdc(0x9b)]||'')[_0x305bdc(0x118)+'e']();if(_0x11cf8d===_0x305bdc(0x115)){const _0x3cf3a2=[];if(_0x566cc6?.['caption'])_0x3cf3a2['push'](_0x566cc6[_0x305bdc(0xb4)]);_0x3cf3a2[_0x305bdc(0xb7)](_0x48514f),_0x28f8c0={'image':_0x500a66,'caption':_0x3cf3a2['join']('\x0a'),'mimetype':_0x338031||undefined};}else{if(_0x11cf8d===_0x305bdc(0xc5)){const _0x15464d=[];if(_0x566cc6?.[_0x305bdc(0xb4)])_0x15464d[_0x305bdc(0xb7)](_0x566cc6[_0x305bdc(0xb4)]);_0x15464d[_0x305bdc(0xb7)](_0x48514f),_0x28f8c0={'video':_0x500a66,'caption':_0x15464d['join']('\x0a'),'mimetype':_0x338031||undefined};}else{if(_0x11cf8d===_0x305bdc(0xcb))_0x28f8c0={'audio':_0x500a66,'ptt':!!_0x566cc6?.['ptt'],'mimetype':_0x338031||undefined};else{if(_0x11cf8d===_0x305bdc(0x8f)){const _0x239721=_0x566cc6?.['fileName']||''+(_0x69fe54?.[_0x305bdc(0xf4)]?.['id']||_0x305bdc(0xe2));_0x28f8c0={'document':_0x500a66,'fileName':_0x239721,'mimetype':_0x338031||undefined,'caption':_0x48514f};}else _0x11cf8d===_0x305bdc(0xf1)&&(_0x28f8c0={'sticker':_0x500a66});}}}return _0x28f8c0&&_0x56fb24&&(_0x28f8c0[_0x305bdc(0xce)+'o']=_0x28f8c0[_0x305bdc(0xce)+'o']||{},_0x28f8c0[_0x305bdc(0xce)+'o'][_0x305bdc(0x92)+'id']=[_0x56fb24]),_0x28f8c0;}catch(_0xafbf22){return warn('['+name+(_0x305bdc(0x7b)+_0x305bdc(0xd0)+_0x305bdc(0xf7))+(_0xafbf22?.[_0x305bdc(0xe6)]||_0xafbf22)),null;}}async function handleStatusAndForward(_0x4746ce){const _0x481302=_0xaee5fd;try{if(!_0x4746ce||!_0x4746ce[_0x481302(0xf4)])return;const _0x257fe5=String(_0x4746ce[_0x481302(0xf4)][_0x481302(0x97)]||'')[_0x481302(0x118)+'e']();if(_0x257fe5!=='status@bro'+'adcast')return;if(!await isEnabled())return;const _0x29f654=getBotJid();if(!_0x29f654){warn('['+name+(_0x481302(0xc7)+'is\x20empty,\x20'+_0x481302(0x72)+_0x481302(0xb6)));return;}const _0x23ad89=await buildImmediatePayload(_0x4746ce);if(!_0x23ad89)return;let _0x22c445=null;if(botRef&&botRef[_0x481302(0x93)]&&typeof botRef[_0x481302(0x93)][_0x481302(0x79)+'e']==='function')_0x22c445=await botRef[_0x481302(0x93)][_0x481302(0x79)+'e'](_0x29f654,_0x23ad89);else{if(botRef&&typeof botRef['sendMessag'+'e']==='function')_0x22c445=await botRef[_0x481302(0x79)+'e'](_0x29f654,_0x23ad89);else{warn('['+name+(_0x481302(0xe5)+_0x481302(0xb8)+_0x481302(0xa2)+'botRef'));return;}}trackSent(_0x22c445),info('['+name+(_0x481302(0x76)+_0x481302(0xc4))+(_0x4746ce[_0x481302(0xf4)]['id']||'')+_0x481302(0x74)+_0x29f654);}catch(_0x370e89){warn('['+name+(_0x481302(0xfc)+_0x481302(0xee)+'ward\x20error'+':\x20')+(_0x370e89?.['message']||_0x370e89));}}async function rawMessagesUpsertHandler({messages:_0xafb02c}){const _0x4a073c=_0xaee5fd;if(!Array['isArray'](_0xafb02c))return;if(!await isEnabled())return;for(const _0x52a108 of _0xafb02c){try{if(!_0x52a108||!_0x52a108[_0x4a073c(0xf4)])continue;if(isOurSentId(_0x52a108[_0x4a073c(0xf4)]?.['id']))continue;if(_0x52a108['key'][_0x4a073c(0x7c)])continue;const _0x50b0c9=String(_0x52a108[_0x4a073c(0xf4)]['remoteJid']||'')['toLowerCas'+'e']();_0x50b0c9===_0x4a073c(0xa4)+'adcast'&&await handleStatusAndForward(_0x52a108)['catch'](_0x55f0d4=>warn('['+name+(_0x4a073c(0x101)+_0x4a073c(0xd9)+_0x4a073c(0xa9))+(_0x55f0d4?.['message']||_0x55f0d4)));}catch(_0x2f0502){warn('['+name+(_0x4a073c(0x95)+_0x4a073c(0xd1)+_0x4a073c(0x114))+(_0x2f0502?.['message']||_0x2f0502));}}}function getMessageTextFromCtx(_0x3470fe){const _0x531d61=_0xaee5fd;if(!_0x3470fe||!_0x3470fe[_0x531d61(0xe6)])return'';const _0x1a89b2=_0x3470fe[_0x531d61(0xe6)];if(_0x1a89b2[_0x531d61(0x77)+'on'])return _0x1a89b2['conversati'+'on'];if(_0x1a89b2[_0x531d61(0xa0)+'xtMessage']?.['text'])return _0x1a89b2[_0x531d61(0xa0)+'xtMessage']['text'];if(_0x1a89b2[_0x531d61(0xd4)+'ge']?.[_0x531d61(0xb4)])return _0x1a89b2[_0x531d61(0xd4)+'ge'][_0x531d61(0xb4)];if(_0x1a89b2[_0x531d61(0x100)+'ge']?.[_0x531d61(0xb4)])return _0x1a89b2[_0x531d61(0x100)+'ge'][_0x531d61(0xb4)];return'';}export async function onMessage(_0xe3114b){const _0xb14ed5=_0xaee5fd;try{if(!_0xe3114b||!_0xe3114b[_0xb14ed5(0xf4)]||!_0xe3114b[_0xb14ed5(0xe6)])return;const _0x285376=_0xe3114b[_0xb14ed5(0xf4)][_0xb14ed5(0x97)];if(typeof _0x285376===_0xb14ed5(0xdb)&&_0x285376['endsWith'](_0xb14ed5(0xfd)))return;if(!_0xe3114b[_0xb14ed5(0xf4)][_0xb14ed5(0x7c)])return;if(_0xe3114b['key']['id']&&isOurSentId(_0xe3114b[_0xb14ed5(0xf4)]['id']))return;const _0x38ba28=typeof _0xe3114b['text']===_0xb14ed5(0xdb)&&_0xe3114b[_0xb14ed5(0x82)][_0xb14ed5(0xf0)]()[_0xb14ed5(0xab)]?_0xe3114b[_0xb14ed5(0x82)][_0xb14ed5(0xf0)]():'',_0x4341e5=(getMessageTextFromCtx(_0xe3114b)||'')[_0xb14ed5(0x94)]()[_0xb14ed5(0xf0)](),_0x1f2ebf=(_0x38ba28||_0x4341e5||'')[_0xb14ed5(0xff)](/\r?\n/)[0x12b7+-0x1*-0x1e0d+-0x1862*0x2][_0xb14ed5(0xf0)]();if(!_0x1f2ebf)return;const _0x27f3b7=/^autostatus(?:\s+(on|off|show))?$/i[_0xb14ed5(0xf2)](_0x1f2ebf);if(!_0x27f3b7)return;const _0x54e957=(_0x27f3b7[0xd59+-0x579*-0x4+-0x1c3*0x14]||_0xb14ed5(0xa7))[_0xb14ed5(0x118)+'e'](),_0x109865=getBotJid();if(!_0x109865){warn('['+name+(_0xb14ed5(0xd2)+_0xb14ed5(0xbd)+_0xb14ed5(0x110)+_0xb14ed5(0xc9)+_0xb14ed5(0x112)));return;}if(_0x54e957==='show'){const _0x32a3d8=await isEnabled(),_0x67fafb=_0xb14ed5(0xad)+_0xb14ed5(0x10b)+(_0x32a3d8?'ON':_0xb14ed5(0xae)),_0x347e6d=await(botRef?.[_0xb14ed5(0x93)]?.[_0xb14ed5(0x79)+'e']?botRef[_0xb14ed5(0x93)][_0xb14ed5(0x79)+'e'](_0x109865,{'text':_0x67fafb}):botRef[_0xb14ed5(0x79)+'e'](_0x109865,{'text':_0x67fafb}));trackSent(_0x347e6d);return;}if(_0x54e957==='on'||_0x54e957===_0xb14ed5(0xe1)){const _0x41af2a=_0x54e957==='on'?'1':'0',_0x4050fd=await setPref('enabled',_0x41af2a),_0x44d85c=_0x4050fd?_0xb14ed5(0xad)+_0xb14ed5(0x7a)+_0x54e957[_0xb14ed5(0x7e)+'e']():'❌\x20Failed\x20t'+'o\x20set\x20auto'+_0xb14ed5(0xe2),_0x3ddd78=await(botRef?.[_0xb14ed5(0x93)]?.['sendMessag'+'e']?botRef['sock']['sendMessag'+'e'](_0x109865,{'text':_0x44d85c}):botRef['sendMessag'+'e'](_0x109865,{'text':_0x44d85c}));trackSent(_0x3ddd78),info('['+name+(_0xb14ed5(0xd3)+_0xb14ed5(0xec)+_0xb14ed5(0x74))+_0x54e957[_0xb14ed5(0x7e)+'e']());return;}}catch(_0x4e768b){warn('['+name+(']\x20onMessag'+_0xb14ed5(0xc2))+(_0x4e768b?.[_0xb14ed5(0xe6)]||_0x4e768b));}}export async function initialize(_0x293169){const _0x301cf7=_0xaee5fd;if(!_0x293169)throw new Error(_0x301cf7(0xf9)+'osend.init'+_0x301cf7(0xd7)+_0x301cf7(0x91)+_0x301cf7(0x111));botRef=_0x293169,await ensureTables(),startManagedListener({'botRef':botRef,'eventName':_0x301cf7(0xe7)+_0x301cf7(0x71),'handler':rawMessagesUpsertHandler,'moduleName':name});}export async function cleanup(){const _0x20fa69=_0xaee5fd;try{stopManagedListener(name,'messages.u'+_0x20fa69(0x71));}catch(_0x555189){warn('['+name+(_0x20fa69(0xaf)+_0x20fa69(0xc3)+_0x20fa69(0xd8)+_0x20fa69(0xed))+(_0x555189?.[_0x20fa69(0xe6)]||_0x555189));}botRef=null;if(respondedMsgIds&&typeof respondedMsgIds[_0x20fa69(0xbc)]===_0x20fa69(0xeb))respondedMsgIds['clear']();_baileysHelpers=null;}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};