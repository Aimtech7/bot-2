const _0x5bdde4=_0x107b;(function(_0xedff14,_0xf7ed93){const _0x23e3f7=_0x107b,_0x728624=_0xedff14();while(!![]){try{const _0x1f4c26=-parseInt(_0x23e3f7(0x7d))/(-0x263d+-0xcbf+0xe5*0x39)+-parseInt(_0x23e3f7(0xe1))/(-0x1*-0x207d+0x1fa4+-0x401f)*(parseInt(_0x23e3f7(0xd4))/(-0x7*-0x1f3+0x25bb*0x1+0x5b5*-0x9))+-parseInt(_0x23e3f7(0x95))/(-0x1935+0x2*-0x649+0xd7*0x2d)*(-parseInt(_0x23e3f7(0xef))/(0xa6*-0x14+-0x1a7d+0x277a))+parseInt(_0x23e3f7(0xcb))/(-0xa7*0x38+0x33*0x5+0x1*0x238f)+parseInt(_0x23e3f7(0xf7))/(-0x25*0x75+-0x1897*-0x1+-0x3*0x28d)*(-parseInt(_0x23e3f7(0xb1))/(0xa5+0x1*-0x2b+-0x3*0x26))+-parseInt(_0x23e3f7(0x7a))/(-0x9b*0x2a+-0x20ec+0x3a63*0x1)*(-parseInt(_0x23e3f7(0xe3))/(0xc49+-0xa1f+-0x220))+parseInt(_0x23e3f7(0xbf))/(-0x13*0x1b1+-0x9*-0x3ab+-0xd5);if(_0x1f4c26===_0xf7ed93)break;else _0x728624['push'](_0x728624['shift']());}catch(_0xf56bdc){_0x728624['push'](_0x728624['shift']());}}}(_0x94ee,-0x156659+0x23d5*0x1+0x20b25f));import _0x43db86 from'fs';import _0x143140 from'path';import _0x5682b7 from'os';import{promisify}from'util';import{spawn}from'child_process';import{pipeline as _0xb001db}from'stream';import{downloadContentFromMessage,jidNormalizedUser}from'@whiskeysockets/baileys';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';function _0x107b(_0x151f8d,_0xa951ea){const _0x310a3a=_0x94ee();return _0x107b=function(_0x3db349,_0x27b454){_0x3db349=_0x3db349-(-0x1dd8+0x96+0x1da9);let _0x2eeb6f=_0x310a3a[_0x3db349];return _0x2eeb6f;},_0x107b(_0x151f8d,_0xa951ea);}import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';const pipeline=promisify(_0xb001db),mkdtemp=_0x43db86[_0x5bdde4(0x76)][_0x5bdde4(0xb5)],writeFileAsync=_0x43db86['promises'][_0x5bdde4(0x14f)],unlink=_0x43db86[_0x5bdde4(0x76)][_0x5bdde4(0x9e)],rm=_0x43db86[_0x5bdde4(0x76)]['rm'],DEFAULT_SIZE=-0x7*0x17+0xd*0x215+0x10*-0x17f;export const name='cc';export const version='1.8.1-fixe'+'d';export const priority=0x1*-0x19b+0x1b6d+-0x145*0x14;export const configKeys=['ALLOW_GROU'+_0x5bdde4(0x13c)];export const commands=['cc'];let botRef=null,sendApi=null,ALLOW_GROUP_COMMANDS=![];const processedSendKeys=new Map(),PROCESSED_SEND_TTL_MS=(-0x32f*0x2+-0x59b+0xc08)*(-0x22e*-0x3+-0x1257+-0xfb5*-0x1);function markSendProcessed(_0x56bd71){const _0x2cc85b=_0x5bdde4;if(!_0x56bd71)return;if(processedSendKeys[_0x2cc85b(0xa4)](_0x56bd71))try{clearTimeout(processedSendKeys[_0x2cc85b(0xa9)](_0x56bd71));}catch(_0x2a193e){}const _0x2520df=setTimeout(()=>processedSendKeys[_0x2cc85b(0x131)](_0x56bd71),PROCESSED_SEND_TTL_MS);processedSendKeys[_0x2cc85b(0xdf)](_0x56bd71,_0x2520df);}function isSendProcessed(_0x35b914){const _0x454361=_0x5bdde4;return _0x35b914&&processedSendKeys[_0x454361(0xa4)](_0x35b914);}function clearAllProcessedSends(){const _0x267965=_0x5bdde4;for(const _0x33e756 of processedSendKeys[_0x267965(0x6f)]())try{clearTimeout(_0x33e756);}catch(_0x43e501){}processedSendKeys['clear']();}function setupSendApi(){const _0xf47ede=_0x5bdde4;if(!botRef)return;if(typeof botRef[_0xf47ede(0x99)+'e']===_0xf47ede(0x87))sendApi=async(_0x31de6c,_0x310b7b,_0x3c0bcc={})=>await botRef[_0xf47ede(0x99)+'e'](_0x31de6c,_0x310b7b,_0x3c0bcc);else botRef[_0xf47ede(0x84)]&&typeof botRef[_0xf47ede(0x84)]['sendMessag'+'e']==='function'?sendApi=async(_0x1e724e,_0x6c444d,_0x95497a={})=>await botRef[_0xf47ede(0x84)][_0xf47ede(0x99)+'e'](_0x1e724e,_0x6c444d,_0x95497a):sendApi=null;}async function safeSend(_0x3a55d6,_0x22da31,_0x4a77d0={}){const _0x59972b=_0x5bdde4;if(!sendApi){warn('[cc]\x20sendA'+_0x59972b(0x159)+'ilable');throw new Error('sendApi\x20no'+_0x59972b(0x102)+'e');}return await sendApi(_0x3a55d6,_0x22da31,_0x4a77d0);}function refreshConfig(){const _0x33c0d4=_0x5bdde4;try{const _0x4f8fd6=typeof getConfig===_0x33c0d4(0x87)?getConfig()||{}:{};ALLOW_GROUP_COMMANDS=!!_0x4f8fd6[_0x33c0d4(0xd2)+_0x33c0d4(0x13c)],info(_0x33c0d4(0x93)+'g:\x20ALLOW_G'+_0x33c0d4(0x146)+_0x33c0d4(0x6e)+ALLOW_GROUP_COMMANDS);}catch(_0x5aba38){warn(_0x33c0d4(0x110)+_0x33c0d4(0x78)+_0x33c0d4(0xae)+(_0x5aba38?.[_0x33c0d4(0xce)]||_0x5aba38));}}try{typeof hotReloadConfig===_0x5bdde4(0x87)&&hotReloadConfig(()=>{const _0x257a64=_0x5bdde4;try{refreshConfig();}catch(_0x307d84){warn(_0x257a64(0x151)+_0x257a64(0xf5)+'\x20handler\x20e'+_0x257a64(0xae)+(_0x307d84?.[_0x257a64(0xce)]||_0x307d84));}});}catch(_0x2f280f){}function _0x94ee(){const _0x3d696c=['o\x20with\x20cap','ase\x20reply\x20','rror:\x20','pipe','LOW_GROUP_','8HEzVPr','now','he\x20quoted\x20','includes','mkdtemp','video','tJid\x20unkno','fileName','fig\x20restri','contextInf','\x20internati','skipped\x20fo','scale=\x27if(','video\x20note','1311750CqtKie','documentMe','deo-note.','The\x20replie','id\x20JID.','(photo).\x20c',')\x27,pad=','file.\x20cc\x20c','o\x20a\x20video\x20',')\x20or\x20a\x20val','Conversion','-level','5616822oZPhtz','ease\x20reply','-preset','message','videoMessa','aac','.\x20(You\x20sen','ALLOW_GROU','n\x20unsuppor','3BhtXTH','verts\x20*vid','-vf','er\x20error:\x20','xpects\x20a\x20v',':(oh-ih)/2','ly).\x20Examp','p.net','\x20to\x20','>`\x20(no\x20rep','baseline','set','e\x20with\x20`cc','2569382WmLDDv','into\x20video','10WezqHp','in.','ffmpeg\x20exi','imageMessa','remoteJid','tmpdir','\x20admins\x20ma','conversati','OR\x20send\x20a\x20','endsWith','dirname','length','20hMpGqv','image','[cc]\x20clean','\x20present\x20a','ssage.','stickerMes','loadConfig','trim','4885307lWGxdY','\x20an\x20image\x20','age','extendedTe','o\x20convert\x20','ideo\x20docum','GROUP_COMM','toLowerCas','pop','mimetype','\x20caption\x20`','t\x20availabl','ot\x20itself.','\x20a\x20video\x20w','et\x20\x22','from','\x20failed:\x20','eo\x20or\x20is\x20a','split','ted\x20media\x20','gt(a,1),','Usage:\x20rep','Failed\x20to\x20','toString','ge.\x20cc\x20con','[cc]\x20refre','quoted','d\x20sending\x20','le:\x20`cc\x2025','libx264','nd\x20try\x20aga','[cc]\x20group','`\x20or\x20`cc\x201','data','caption','ideo\x20messa','map','alized\x20(bo','[cc]\x20dupli','type','text','\x20command\x20i','47XXXXXXXX','\x20Ensure\x20th','y\x20use\x20cc\x20(','\x20reply\x20to\x20','node','\x20default;\x20','startsWith','d\x20document','-b:a','e\x20(or\x20send','Only\x20group','\x20a\x20sticker','64k','2036338072','sage','set\x20ALLOW_','delete','video-note','@g.us','ize\x20requir','\x20is\x20an\x20ima','\x20into\x20a\x20vi','Please\x20rep','t\x20code\x20','\x20botJid=','not\x20be\x20con','[cc]\x20initi','P_COMMANDS','[cc]\x20handl','us`','cc\x20<number','ffmpeg','o\x20message\x20','2467155@g.','[cc]\x20strea','n\x20groups).','filter','ROUP_COMMA','a\x20video\x20me','video_note','d\x20media\x20is','join','cc-','eos*\x20only.','c\x20converts','g.\x202547...','writeFile','convert\x20it','[cc]\x20hotRe','mQuotedMed','veryfast','webm','ent).\x20Plea','color=blac','out_','<unknown>','pi\x20not\x20ava','Converted\x20',',setsar=1','cted).','\x20message\x20t','s\x20only\x20(e.','participan','thumb.jpg','[cc]\x20faile','.mp4','verted\x20to\x20','ty\x20or\x20inac','[cc]\x20sent\x20','ge.','keys','deo\x20messag','\x22.\x20Provide','string','quotedMess','\x20which\x20can','ail','n\x20`cc\x20<num','textInfo','parse\x20targ','it\x20into\x20a\x20','-loop','jpegThumbn','message.','es\x20bot\x20ins','NDS=','values','to\x20convert','audio_cove','ply\x20to\x20a\x20v','\x20video-not','COMMANDS=f','-profile:v','promises','ber>`)\x20to\x20','shConfig\x20e',',-2)\x27:\x27if(','11436849GqpMbu','ly\x20to\x20a\x20vi','ailed:\x20','910833DuNOvx','se\x20reply\x20t','server-con','video/mp4','Refusing\x20t','sendApi\x20no','rmediate_','sock','key','-c:v','function','cessible).','isBuffer','gnored\x20(AL','onal\x20digit','tion.)','k:s=','-c:a','nal\x20error:','download\x20t','r\x20JID>`\x20â€”\x20','\x20it\x20into\x20a','[cc]\x20confi','ssage','1316808kvseqm',':(ow-iw)/2','xtMessage','ith\x20captio','sendMessag','stderr','\x20*videos*\x20','catch','eStream','unlink','urrently\x20e','mp4','cc.initial','shape.\x20Ple','e\x20to\x20the\x20b','has','alse)','\x20an\x20audio\x20','ignore','test','get','[cc]\x20isadm','alized\x20(PM'];_0x94ee=function(){return _0x3d696c;};return _0x94ee();}refreshConfig();function getQuotedWrap(_0x719b28){const _0x4fb59e=_0x5bdde4;if(!_0x719b28||!_0x719b28['message'])return null;const _0x2a37b6=_0x719b28[_0x4fb59e(0xce)]?.[_0x4fb59e(0xfa)+_0x4fb59e(0x97)]?.[_0x4fb59e(0xba)+'o'];if(_0x2a37b6&&_0x2a37b6[_0x4fb59e(0x16b)+_0x4fb59e(0xf9)])return{'quoted':_0x2a37b6[_0x4fb59e(0x16b)+_0x4fb59e(0xf9)],'quotedKey':_0x2a37b6};for(const _0x329655 of Object[_0x4fb59e(0x167)](_0x719b28['message']||{})){const _0x45bbc7=_0x719b28[_0x4fb59e(0xce)][_0x329655];if(_0x45bbc7&&_0x45bbc7[_0x4fb59e(0xba)+'o']&&_0x45bbc7['contextInf'+'o'][_0x4fb59e(0x16b)+_0x4fb59e(0xf9)])return{'quoted':_0x45bbc7[_0x4fb59e(0xba)+'o'][_0x4fb59e(0x16b)+_0x4fb59e(0xf9)],'quotedKey':_0x45bbc7[_0x4fb59e(0xba)+'o']};}const _0x265498=_0x719b28[_0x4fb59e(0xce)]?.[_0x4fb59e(0xba)+'o']?.[_0x4fb59e(0x16b)+_0x4fb59e(0xf9)]||_0x719b28[_0x4fb59e(0xce)]?.['messageCon'+_0x4fb59e(0x67)]?.[_0x4fb59e(0x16b)+_0x4fb59e(0xf9)],_0x92c556=_0x719b28[_0x4fb59e(0xce)]?.[_0x4fb59e(0xba)+'o']?.[_0x4fb59e(0x15f)+'t']||_0x719b28['message']?.['messageCon'+_0x4fb59e(0x67)]?.['participan'+'t']||null;if(_0x265498)return{'quoted':_0x265498,'quotedKey':{'participant':_0x92c556}};return null;}function isVideoNode(_0x50f0fb){const _0x510c60=_0x5bdde4;if(!_0x50f0fb)return![];if(_0x50f0fb[_0x510c60(0xcf)+'ge'])return!![];if(_0x50f0fb[_0x510c60(0xce)]&&_0x50f0fb[_0x510c60(0xce)]['videoMessa'+'ge'])return!![];if(_0x50f0fb[_0x510c60(0xc0)+_0x510c60(0x94)]&&typeof _0x50f0fb[_0x510c60(0xc0)+_0x510c60(0x94)]['mimetype']===_0x510c60(0x16a)&&_0x50f0fb[_0x510c60(0xc0)+_0x510c60(0x94)][_0x510c60(0x100)][_0x510c60(0x127)](_0x510c60(0xb6)))return!![];return![];}async function streamQuotedMediaToFile(_0x3ea6e6,_0x2dfa44){const _0xc01fcf=_0x5bdde4;try{const _0x1a2d08=[{'node':_0x3ea6e6[_0xc01fcf(0xcf)+'ge'],'type':'video'},{'node':_0x3ea6e6['documentMe'+_0xc01fcf(0x94)]&&String(_0x3ea6e6[_0xc01fcf(0xc0)+_0xc01fcf(0x94)]['mimetype']||'')[_0xc01fcf(0x127)](_0xc01fcf(0xb6))?_0x3ea6e6[_0xc01fcf(0xc0)+_0xc01fcf(0x94)]:null,'type':_0xc01fcf(0xb6)},{'node':_0x3ea6e6[_0xc01fcf(0xce)]?.[_0xc01fcf(0xcf)+'ge'],'type':_0xc01fcf(0xb6)},{'node':_0x3ea6e6[_0xc01fcf(0xce)]?.[_0xc01fcf(0xc0)+_0xc01fcf(0x94)]&&String(_0x3ea6e6[_0xc01fcf(0xce)]['documentMe'+_0xc01fcf(0x94)][_0xc01fcf(0x100)]||'')[_0xc01fcf(0x127)](_0xc01fcf(0xb6))?_0x3ea6e6[_0xc01fcf(0xce)][_0xc01fcf(0xc0)+_0xc01fcf(0x94)]:null,'type':_0xc01fcf(0xb6)}];let _0x57d446=null,_0x4e33a3=null;for(const _0x64fe8 of _0x1a2d08){if(_0x64fe8[_0xc01fcf(0x125)]){_0x57d446=_0x64fe8[_0xc01fcf(0x125)],_0x4e33a3=_0x64fe8[_0xc01fcf(0x11e)];break;}}if(!_0x57d446||!_0x4e33a3)return null;let _0x611deb=_0xc01fcf(0xa0);if(_0x4e33a3===_0xc01fcf(0xb6))_0x611deb='mp4';if(_0x57d446[_0xc01fcf(0xb8)]){const _0x2e54f3=String(_0x57d446[_0xc01fcf(0xb8)])[_0xc01fcf(0x109)]('.')[_0xc01fcf(0xff)]();if(_0x2e54f3&&_0x2e54f3['length']<=0x9*-0x11d+0x335*0x1+0x6d8)_0x611deb=_0x2e54f3;}else{if(_0x57d446[_0xc01fcf(0x100)]){if(_0x57d446[_0xc01fcf(0x100)]['includes'](_0xc01fcf(0xa0)))_0x611deb=_0xc01fcf(0xa0);else{if(_0x57d446[_0xc01fcf(0x100)][_0xc01fcf(0xb4)](_0xc01fcf(0x154)))_0x611deb=_0xc01fcf(0x154);}}}const _0x4f2c42=_0x143140['join'](_0x2dfa44,'in_'+Date['now']()+'.'+_0x611deb),_0x33b696=await downloadContentFromMessage(_0x57d446,_0x4e33a3);if(!_0x33b696)return null;const _0x3d79d2=_0x43db86['createWrit'+_0xc01fcf(0x9d)](_0x4f2c42);return await pipeline(_0x33b696,_0x3d79d2),{'path':_0x4f2c42,'type':_0x4e33a3,'contentNode':_0x57d446};}catch(_0x157e96){return warn(_0xc01fcf(0x143)+_0xc01fcf(0x152)+'iaToFile\x20f'+_0xc01fcf(0x7c)+(_0x157e96?.[_0xc01fcf(0xce)]||_0x157e96)),null;}}function spawnFFmpeg(_0x34a742,_0x2dc168){return new Promise((_0x1147ab,_0xf4ff85)=>{const _0x38c787=_0x107b,_0x3ce197=spawn(_0x38c787(0x140),_0x34a742,{'stdio':[_0x38c787(0xa7),_0x38c787(0xaf),_0x38c787(0xaf)]});let _0xc78bbb='';_0x3ce197[_0x38c787(0x9a)]['on'](_0x38c787(0x118),_0x27e771=>{const _0x59d2e9=_0x38c787;_0xc78bbb+=_0x27e771[_0x59d2e9(0x10e)]();if(_0x2dc168)_0x2dc168(_0x27e771);}),_0x3ce197['on']('close',_0x32d154=>{const _0x4f255c=_0x38c787;if(_0x32d154===0x842+0xb*0x16d+-0x17f1)_0x1147ab(_0xc78bbb);else _0xf4ff85(new Error(_0x4f255c(0xe5)+_0x4f255c(0x138)+_0x32d154+'\x0a'+_0xc78bbb));}),_0x3ce197['on']('error',_0xf77653=>_0xf4ff85(_0xf77653));});}async function transcodeToVideoNote(_0x307916,_0x1b58e9,_0x44edfd=DEFAULT_SIZE){const _0x5df302=_0x5bdde4,_0x3bb646=['-y','-i',_0x307916,'-t','60',_0x5df302(0xd6),_0x5df302(0xbd)+_0x5df302(0x10b)+_0x44edfd+(_0x5df302(0x79)+'gt(a,1),-2'+',')+_0x44edfd+_0x5df302(0xc5)+_0x44edfd+':'+_0x44edfd+(_0x5df302(0x96)+_0x5df302(0xd9)+_0x5df302(0x15b)),'-r','30','-c:v',_0x5df302(0x114),_0x5df302(0x75),_0x5df302(0xde),_0x5df302(0xca),'3.0',_0x5df302(0xcd),_0x5df302(0x153),'-crf','28',_0x5df302(0x8e),_0x5df302(0xd0),_0x5df302(0x129),_0x5df302(0x12d),_0x1b58e9];return await spawnFFmpeg(_0x3bb646),_0x1b58e9;}async function audioToVideoNote(_0x2191d2,_0x4d2354,_0x12cc57=null,_0x1ca42b=DEFAULT_SIZE){const _0x2ccefd=_0x5bdde4,_0x58a2f6=_0x143140[_0x2ccefd(0xed)](_0x4d2354),_0x4a21a1=_0x143140[_0x2ccefd(0x14a)](_0x58a2f6,'audio_inte'+_0x2ccefd(0x83)+Date[_0x2ccefd(0xb2)]()+_0x2ccefd(0x162)),_0x4d3e69=_0x12cc57||_0x143140[_0x2ccefd(0x14a)](_0x58a2f6,_0x2ccefd(0x71)+'r_'+Date[_0x2ccefd(0xb2)]()+'.png');!_0x12cc57&&await spawnFFmpeg(['-y','-f','lavfi','-i',_0x2ccefd(0x156)+_0x2ccefd(0x8d)+_0x1ca42b+'x'+_0x1ca42b,_0x4d3e69]);await spawnFFmpeg(['-y',_0x2ccefd(0x6a),'1','-i',_0x4d3e69,'-i',_0x2191d2,_0x2ccefd(0x86),'libx264','-t','60',_0x2ccefd(0x8e),_0x2ccefd(0xd0),_0x2ccefd(0x129),'64k','-shortest',_0x2ccefd(0xcd),'veryfast',_0x4a21a1]),await transcodeToVideoNote(_0x4a21a1,_0x4d2354,_0x1ca42b);try{await unlink(_0x4a21a1);}catch(_0x27df97){}if(!_0x12cc57)try{await unlink(_0x4d3e69);}catch(_0x5d145d){}return _0x4d2354;}function normalizeTarget(_0x4f8bd2){const _0x5538cc=_0x5bdde4;if(!_0x4f8bd2)return null;let _0x585ca5=String(_0x4f8bd2)[_0x5538cc(0xf6)]();if(_0x585ca5[_0x5538cc(0xb4)]('@'))try{return jidNormalizedUser(_0x585ca5);}catch(_0x169086){return _0x585ca5;}_0x585ca5=_0x585ca5['replace'](/[^\d]/g,'');if(!_0x585ca5)return null;if(_0x585ca5[_0x5538cc(0xee)]<-0x1*0xa21+-0x2*-0x189+0x717||_0x585ca5[_0x5538cc(0xee)]>0xec4+0xbb*-0x5+-0xb0e)return null;return _0x585ca5+('@s.whatsap'+_0x5538cc(0xdb));}export async function initialize(_0x136097){const _0xff7f14=_0x5bdde4;if(!_0x136097)throw new Error(_0xff7f14(0xa1)+_0xff7f14(0x134)+_0xff7f14(0x6d)+'tance');botRef=_0x136097,setupSendApi(),refreshConfig();try{const _0x323bf7=getBotJid();info(_0xff7f14(0x13b)+_0xff7f14(0xab)+_0xff7f14(0x126)+_0xff7f14(0x130)+_0xff7f14(0xfd)+'ANDS=true\x20'+'to\x20allow\x20i'+_0xff7f14(0x144)+_0xff7f14(0x139)+(_0x323bf7||_0xff7f14(0x158)));}catch(_0x520f15){info('[cc]\x20initi'+_0xff7f14(0x11c)+_0xff7f14(0xb7)+'wn)');}}export async function onMessage(_0x5019b1){const _0x335e2b=_0x5bdde4;try{if(!_0x5019b1||!_0x5019b1[_0x335e2b(0x85)]||!_0x5019b1['message'])return;const _0xb37506=typeof _0x5019b1['text']===_0x335e2b(0x16a)&&_0x5019b1[_0x335e2b(0x11f)][_0x335e2b(0xf6)]()?_0x5019b1['text'][_0x335e2b(0xf6)]():_0x5019b1[_0x335e2b(0xce)]?.[_0x335e2b(0xea)+'on']||_0x5019b1['message']?.[_0x335e2b(0xfa)+_0x335e2b(0x97)]?.[_0x335e2b(0x11f)]||_0x5019b1[_0x335e2b(0xce)]?.['videoMessa'+'ge']?.['caption']||_0x5019b1[_0x335e2b(0xce)]?.[_0x335e2b(0xe6)+'ge']?.[_0x335e2b(0x119)]||_0x5019b1[_0x335e2b(0xce)]?.['documentMe'+_0x335e2b(0x94)]?.['caption']||'';if(!_0xb37506)return;const _0x316db7=_0xb37506[_0x335e2b(0xf6)](),_0x35a8bd=_0x316db7[_0x335e2b(0x109)](/\s+/),_0x4bc0dc=_0x35a8bd[-0x421*0x1+-0x25d9*-0x1+-0x21b8][_0x335e2b(0xfe)+'e']();if(!(_0x4bc0dc==='cc'||/^\/cc\b/i[_0x335e2b(0xa8)](_0x316db7)))return;const _0x42b1f9=_0x5019b1[_0x335e2b(0x85)][_0x335e2b(0xe7)],_0x436d6e=typeof _0x42b1f9===_0x335e2b(0x16a)&&_0x42b1f9[_0x335e2b(0xec)](_0x335e2b(0x133));if(_0x436d6e){if(!ALLOW_GROUP_COMMANDS){info(_0x335e2b(0x116)+_0x335e2b(0x120)+_0x335e2b(0x8a)+_0x335e2b(0xb0)+_0x335e2b(0x74)+_0x335e2b(0xa5));return;}let _0x4560b2=![];try{_0x4560b2=await isadmin(botRef,_0x5019b1);}catch(_0x1b9195){warn(_0x335e2b(0xaa)+'in\x20check\x20f'+_0x335e2b(0x7c)+(_0x1b9195?.[_0x335e2b(0xce)]||_0x1b9195)),_0x4560b2=![];}if(!_0x4560b2){if(sendApi)try{await safeSend(_0x42b1f9,{'text':_0x335e2b(0x12b)+_0x335e2b(0xe9)+_0x335e2b(0x123)+_0x335e2b(0x7f)+_0x335e2b(0xb9)+_0x335e2b(0x15c),'quoted':_0x5019b1[_0x335e2b(0x85)]});}catch(_0x31dd77){}return;}}let _0x48093c=_0x35a8bd[0x135b+-0x26b*0x2+0x3a1*-0x4]||null;if(!_0x48093c&&_0xb37506[_0x335e2b(0xb4)]('\x0a')){const _0x353734=_0xb37506[_0x335e2b(0x109)](/\r?\n/)[_0x335e2b(0x11b)](_0x46508a=>_0x46508a[_0x335e2b(0xf6)]())[_0x335e2b(0x145)](Boolean);if(_0x353734[_0x335e2b(0xee)]>=0x5f7*0x2+-0x7d8+-0x414)_0x48093c=_0x353734[0x1f28+0x14e5+-0x340c*0x1][_0x335e2b(0x109)](/\s+/)[0x22*0xf2+-0xcd4*0x3+-0xe8*-0x7];}let _0x59bd78=getQuotedWrap(_0x5019b1),_0x22e60b=![];!_0x59bd78&&((_0x5019b1['message']?.[_0x335e2b(0xcf)+'ge']||_0x5019b1[_0x335e2b(0xce)]?.['documentMe'+_0x335e2b(0x94)]&&String(_0x5019b1[_0x335e2b(0xce)][_0x335e2b(0xc0)+_0x335e2b(0x94)][_0x335e2b(0x100)]||'')[_0x335e2b(0x127)]('video'))&&(_0x59bd78={'quoted':_0x5019b1[_0x335e2b(0xce)],'quotedKey':_0x5019b1['message']?.['contextInf'+'o']||{}},_0x22e60b=!![]));if(!_0x48093c){const _0x2cd2c1=_0x42b1f9;sendApi&&await safeSend(_0x2cd2c1,{'text':_0x335e2b(0x10c)+_0x335e2b(0x7b)+_0x335e2b(0x168)+_0x335e2b(0xe0)+'\x20<number\x20o'+_0x335e2b(0x91)+_0x335e2b(0xeb)+'video\x20with'+_0x335e2b(0x101)+_0x335e2b(0x13f)+_0x335e2b(0xdd)+_0x335e2b(0xda)+_0x335e2b(0x113)+_0x335e2b(0x121)+_0x335e2b(0x117)+_0x335e2b(0x12e)+_0x335e2b(0x142)+_0x335e2b(0x13e),'quoted':_0x5019b1['key']});return;}if(!_0x59bd78||!_0x59bd78[_0x335e2b(0x111)]){if(sendApi)await safeSend(_0x42b1f9,{'text':_0x335e2b(0x137)+_0x335e2b(0x7b)+_0x335e2b(0x168)+_0x335e2b(0x12a)+_0x335e2b(0x104)+_0x335e2b(0x98)+_0x335e2b(0x16e)+_0x335e2b(0x77)+_0x335e2b(0x150)+_0x335e2b(0x136)+_0x335e2b(0xc1),'quoted':_0x5019b1[_0x335e2b(0x85)]});return;}if(!isVideoNode(_0x59bd78[_0x335e2b(0x111)])){const _0x11d4df=_0x59bd78['quoted'];if(_0x11d4df[_0x335e2b(0xe6)+'ge']){if(sendApi)await safeSend(_0x42b1f9,{'text':_0x335e2b(0xc2)+'d\x20media\x20is'+_0x335e2b(0xf8)+_0x335e2b(0xc4)+_0x335e2b(0x14d)+_0x335e2b(0x9b)+_0x335e2b(0xe2)+'-notes.\x20Pl'+_0x335e2b(0xcc)+'\x20to\x20a\x20vide'+_0x335e2b(0x141)+_0x335e2b(0x70)+_0x335e2b(0x92)+_0x335e2b(0x73)+'e.','quoted':_0x5019b1[_0x335e2b(0x85)]})['catch'](()=>{});}else{if(_0x11d4df[_0x335e2b(0xf4)+_0x335e2b(0x12f)]){if(sendApi)await safeSend(_0x42b1f9,{'text':'The\x20replie'+'d\x20media\x20is'+_0x335e2b(0x12c)+_0x335e2b(0x16c)+_0x335e2b(0x13a)+_0x335e2b(0x163)+'a\x20video-no'+'te.\x20Please'+_0x335e2b(0x124)+_0x335e2b(0x147)+_0x335e2b(0xf3),'quoted':_0x5019b1[_0x335e2b(0x85)]})[_0x335e2b(0x9c)](()=>{});}else{if(_0x11d4df['audioMessa'+'ge']){if(sendApi)await safeSend(_0x42b1f9,{'text':'The\x20replie'+'d\x20media\x20is'+_0x335e2b(0xa6)+_0x335e2b(0xc6)+_0x335e2b(0x9f)+_0x335e2b(0xd8)+_0x335e2b(0x11a)+'ge\x20(or\x20a\x20v'+_0x335e2b(0xfc)+_0x335e2b(0x155)+_0x335e2b(0x7e)+_0x335e2b(0xc7)+_0x335e2b(0x6c),'quoted':_0x5019b1[_0x335e2b(0x85)]})['catch'](()=>{});}else{if(_0x11d4df['documentMe'+_0x335e2b(0x94)]&&_0x11d4df[_0x335e2b(0xc0)+'ssage'][_0x335e2b(0x100)]&&_0x11d4df[_0x335e2b(0xc0)+_0x335e2b(0x94)][_0x335e2b(0x100)][_0x335e2b(0x127)](_0x335e2b(0xf0))){if(sendApi)await safeSend(_0x42b1f9,{'text':_0x335e2b(0xc2)+_0x335e2b(0x128)+_0x335e2b(0x135)+_0x335e2b(0x10f)+_0x335e2b(0xd5)+_0x335e2b(0x14c)+'\x20Please\x20re'+_0x335e2b(0x72)+_0x335e2b(0x11a)+_0x335e2b(0x166),'quoted':_0x5019b1[_0x335e2b(0x85)]})['catch'](()=>{});}else{if(sendApi)await safeSend(_0x42b1f9,{'text':'The\x20replie'+_0x335e2b(0x149)+'\x20not\x20a\x20vid'+_0x335e2b(0x108)+_0x335e2b(0xd3)+_0x335e2b(0x10a)+_0x335e2b(0xa2)+_0x335e2b(0xad)+'to\x20a\x20video'+_0x335e2b(0x15d)+_0x335e2b(0xfb)+_0x335e2b(0x69)+_0x335e2b(0x132)+'.','quoted':_0x5019b1[_0x335e2b(0x85)]})[_0x335e2b(0x9c)](()=>{});}}}}return;}const _0x51ca7b=normalizeTarget(_0x48093c);if(!_0x51ca7b){if(sendApi)await safeSend(_0x42b1f9,{'text':'Could\x20not\x20'+_0x335e2b(0x68)+_0x335e2b(0x105)+_0x48093c+(_0x335e2b(0x169)+_0x335e2b(0xbb)+_0x335e2b(0x8b)+_0x335e2b(0x15e)+_0x335e2b(0x14e)+_0x335e2b(0xc8)+_0x335e2b(0xc3)),'quoted':_0x5019b1[_0x335e2b(0x85)]});return;}try{const _0x523f70=getBotJid();if(_0x523f70&&_0x51ca7b===_0x523f70){if(sendApi)await safeSend(_0x42b1f9,{'text':_0x335e2b(0x81)+'o\x20send\x20the'+'\x20generated'+_0x335e2b(0x73)+_0x335e2b(0xa3)+_0x335e2b(0x103),'quoted':_0x5019b1[_0x335e2b(0x85)]});return;}}catch(_0x447d8b){}const _0x1b6c6b=String(_0x5019b1[_0x335e2b(0x85)]['id']||''),_0x33f327=_0x1b6c6b+'::'+_0x51ca7b;if(isSendProcessed(_0x33f327)){info(_0x335e2b(0x11d)+'cate\x20send\x20'+_0x335e2b(0xbc)+'r\x20'+_0x33f327);return;}markSendProcessed(_0x33f327);const _0x1c795d=await mkdtemp(_0x143140[_0x335e2b(0x14a)](_0x5682b7[_0x335e2b(0xe8)](),_0x335e2b(0x14b)));let _0x1c881a=null;try{const _0x13b2b6=_0x59bd78[_0x335e2b(0x111)],_0x4fdafe=_0x13b2b6?.[_0x335e2b(0xcf)+'ge']?.['jpegThumbn'+_0x335e2b(0x16d)]||_0x13b2b6?.[_0x335e2b(0xc0)+_0x335e2b(0x94)]?.[_0x335e2b(0x6b)+_0x335e2b(0x16d)]||_0x13b2b6?.[_0x335e2b(0xce)]?.[_0x335e2b(0xcf)+'ge']?.[_0x335e2b(0x6b)+_0x335e2b(0x16d)]||null;_0x4fdafe&&(Buffer[_0x335e2b(0x89)](_0x4fdafe)||_0x4fdafe instanceof Uint8Array)&&(_0x1c881a=_0x143140[_0x335e2b(0x14a)](_0x1c795d,_0x335e2b(0x160)),await writeFileAsync(_0x1c881a,Buffer[_0x335e2b(0x106)](_0x4fdafe)));const _0x2e07b1=await streamQuotedMediaToFile(_0x13b2b6,_0x1c795d);if(!_0x2e07b1){if(sendApi)await safeSend(_0x42b1f9,{'text':_0x335e2b(0x10d)+_0x335e2b(0x90)+_0x335e2b(0xb3)+'video\x20(it\x20'+'may\x20be\x20emp'+_0x335e2b(0x164)+_0x335e2b(0x88)+_0x335e2b(0x122)+'e\x20media\x20is'+_0x335e2b(0xf2)+_0x335e2b(0x115)+_0x335e2b(0xe4),'quoted':_0x5019b1[_0x335e2b(0x85)]});await rm(_0x1c795d,{'recursive':!![],'force':!![]})[_0x335e2b(0x9c)](()=>{});return;}const {path:_0x265736,type:_0x27042d}=_0x2e07b1,_0x9e349d=_0x143140[_0x335e2b(0x14a)](_0x1c795d,_0x335e2b(0x157)+Date[_0x335e2b(0xb2)]()+_0x335e2b(0x162));await transcodeToVideoNote(_0x265736,_0x9e349d);const _0x1fec76={'video':{'url':_0x9e349d},'mimetype':_0x335e2b(0x80),'fileName':_0x335e2b(0x148)+_0x335e2b(0x162),'ptv':!![]};try{if(!sendApi)throw new Error(_0x335e2b(0x82)+_0x335e2b(0x102)+'e');await safeSend(_0x51ca7b,_0x1fec76),info(_0x335e2b(0x165)+_0x335e2b(0xbe)+_0x335e2b(0xdc)+_0x51ca7b);if(sendApi){const _0x3ef1d4=_0x22e60b?'Converted\x20'+_0x335e2b(0x132)+'\x20sent\x20to\x20'+_0x51ca7b+(_0x335e2b(0xd1)+'t\x20the\x20vide'+_0x335e2b(0xac)+_0x335e2b(0x8c)):_0x335e2b(0x15a)+'video-note'+'\x20sent\x20to\x20'+_0x51ca7b+'.';await safeSend(_0x42b1f9,{'text':_0x3ef1d4,'quoted':_0x5019b1[_0x335e2b(0x85)]})['catch'](()=>{});}}catch(_0x78b909){error(_0x78b909,_0x335e2b(0x161)+_0x335e2b(0x112)+'to\x20'+_0x51ca7b+':\x20'+(_0x78b909?.[_0x335e2b(0xce)]||_0x78b909));if(sendApi)await safeSend(_0x42b1f9,{'text':_0x335e2b(0x10d)+'deliver\x20to'+'\x20'+_0x51ca7b+':\x20'+(_0x78b909?.[_0x335e2b(0xce)]||_0x78b909),'quoted':_0x5019b1[_0x335e2b(0x85)]})[_0x335e2b(0x9c)](()=>{});}try{await unlink(_0x265736)[_0x335e2b(0x9c)](()=>{}),await unlink(_0x9e349d)[_0x335e2b(0x9c)](()=>{});if(_0x1c881a)await unlink(_0x1c881a)[_0x335e2b(0x9c)](()=>{});await rm(_0x1c795d,{'recursive':!![],'force':!![]});}catch(_0x226271){}}catch(_0x3f546e){error(_0x3f546e,'[cc]\x20inter'+_0x335e2b(0x8f)+'\x20'+(_0x3f546e?.['message']||_0x3f546e));if(sendApi)await safeSend(_0x42b1f9,{'text':_0x335e2b(0xc9)+_0x335e2b(0x107)+(_0x3f546e?.[_0x335e2b(0xce)]||_0x3f546e),'quoted':_0x5019b1['key']})['catch'](()=>{});await rm(_0x1c795d,{'recursive':!![],'force':!![]})['catch'](()=>{});}}catch(_0x292bb9){error(_0x292bb9,_0x335e2b(0x13d)+_0x335e2b(0xd7)+(_0x292bb9?.[_0x335e2b(0xce)]||_0x292bb9));}}export async function cleanup(){const _0x77b924=_0x5bdde4;botRef=null,sendApi=null,clearAllProcessedSends(),info(_0x77b924(0xf1)+'ed\x20up');}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};