const _0x4687bc=_0xa6b3;(function(_0x3377ba,_0x55071f){const _0x356bc5=_0xa6b3,_0x4ca08d=_0x3377ba();while(!![]){try{const _0x5ad28b=parseInt(_0x356bc5(0xea))/(0x4d4+0x133*0x1+-0x606)+parseInt(_0x356bc5(0x143))/(-0x774+-0x53*-0x47+-0xf8f)+-parseInt(_0x356bc5(0xf0))/(0x1260+0xdff*0x2+-0x2e5b*0x1)+-parseInt(_0x356bc5(0xdd))/(0xc1*-0x29+0xd2c+0x65*0x2d)+parseInt(_0x356bc5(0x147))/(0x2081+-0x1*0x1676+0x503*-0x2)+parseInt(_0x356bc5(0x133))/(-0x241e+-0x2281+0x46a5)*(-parseInt(_0x356bc5(0x126))/(-0x2558+0x14b7+0x10a8))+-parseInt(_0x356bc5(0xd3))/(0x1b82*-0x1+-0x1d7d+0x3907)*(-parseInt(_0x356bc5(0xd5))/(-0x6*-0x5+0x14d1*0x1+-0x42e*0x5));if(_0x5ad28b===_0x55071f)break;else _0x4ca08d['push'](_0x4ca08d['shift']());}catch(_0x29c9b3){_0x4ca08d['push'](_0x4ca08d['shift']());}}}(_0x4c72,0x1*0x4da85+0x4c35e+-0x6ddbd));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';import _0x326908 from'axios';export const name=_0x4687bc(0x110);export const version='1.3.1';export const priority=-0x1da3+0x226d*0x1+-0x4c0;function _0x4c72(){const _0x4fc707=['16bUktiP','vide\x20a\x20URL','482481tEEwxM','Unsupporte','has','sfully.','e.\x0a\x0atct','mediafire.','nstagram?u','sendMessag','455740uVIUov','key','video','b?url=','i.bk9.dev/','one\x20for\x20\x22',']\x20cleaned\x20','ediafire?u','[ringtone]','https://ap','data','üì•\x20Download','result','155560jXRkiO','download_u','url','dllink','e\x20invalid.','download/m','840357PUZWmE','ected\x20erro','ingTone?q=','text','download/i','client','e\x20wait...','.\x20Supporte','d\x20platform','[dla]\x20Down','get','Please\x20pro','audio/mpeg','http','delete','\x20Facebook,','\x20occurred\x20','downloaded',',\x20TikTok,\x20','vide\x20a\x20sea','pin.it','load\x20faile','tone:\x20\x22','fromMe','\x20Failed\x20to','test','content\x20at','ing,\x20pleas','download/R','tct','instagram.','g\x20for\x20ring','downloader','ror:\x20','ching\x20for\x20','BK9','audio',',\x20Mediafir','fb.watch','string','endsWith','witter?url','ringtone','pinterest.','while\x20sear','interest?u',']\x20handler\x20','t\x20find\x20dow','‚ùå\x20Could\x20no','_file','join','x.com','‚ùå\x20An\x20unexp','\x0a\x0atct','725312INZwQe','‚ùå\x20An\x20error','message','\x22.\x0a\x0atct','one\x20found\x20','nce\x20missin','split','Link\x20may\x20b','iktok?url=','startsWith',']\x20botInsta','twitter.co','nloadable\x20','6eaTjpX','for\x20\x22','zed\x20succes','d\x20for\x20','remoteJid','toLowerCas','d:\x20Twitter','o\x20download','includes','facebook.c','rl=','dla','error:\x20','@g.us','_ringtone.','add','691428bHeDcg','ne.\x0a\x0atct','r\x20occurred','jid','347200PQWOSB','download/p','catch','tiktok.com','\x20Pinterest'];_0x4c72=function(){return _0x4fc707;};return _0x4c72();}export const commands=[_0x4687bc(0x13e),_0x4687bc(0x11a)];let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x368e1d=[]){const _0x429167=_0x4687bc;try{const _0x44d13b=new Set((await listSudo())['map'](String));for(const _0x5a6268 of _0x368e1d){if(!_0x5a6268?.[_0x429167(0x146)]||typeof _0x5a6268[_0x429167(0x146)]!==_0x429167(0x117))continue;const _0x2ba482=normalizeToJid(_0x5a6268[_0x429167(0x146)]);if(_0x2ba482&&_0x44d13b[_0x429167(0xd7)](_0x2ba482))return _0x2ba482;if(_0x44d13b[_0x429167(0xd7)](_0x5a6268[_0x429167(0x146)]))return _0x5a6268[_0x429167(0x146)];}}catch(_0x5880ae){warn('['+name+(']\x20findStor'+'edMatch\x20er'+_0x429167(0x111))+(_0x5880ae[_0x429167(0x128)]||_0x5880ae));}return null;}function extractDownloadUrl(_0x320b84){const _0x5453da=_0x4687bc;if(!_0x320b84)return null;if(typeof _0x320b84===_0x5453da(0x117)&&_0x320b84[_0x5453da(0x12f)](_0x5453da(0xfd)))return _0x320b84;if(typeof _0x320b84!=='object')return null;const _0x481251=[_0x5453da(0xeb)+'rl',_0x5453da(0xec),'HD','hd',_0x5453da(0xed),_0x5453da(0xdf),_0x5453da(0x114),_0x5453da(0xe9),_0x5453da(0x113)];for(const _0x3258fc of _0x481251){if(_0x320b84[_0x3258fc]){const _0x41bba5=extractDownloadUrl(_0x320b84[_0x3258fc]);if(_0x41bba5)return _0x41bba5;}}return null;}export async function initialize(_0x1c15fb){const _0x970b18=_0x4687bc;botInstance=_0x1c15fb,info('['+name+(']\x20initiali'+_0x970b18(0x135)+_0x970b18(0xd8)));}export async function cleanup(){const _0x31ca98=_0x4687bc;botInstance=null,respondedMsgIds['clear'](),info('['+name+(_0x31ca98(0xe3)+'up'));}function _0xa6b3(_0x3aa7f1,_0x4321b6){const _0xc82d22=_0x4c72();return _0xa6b3=function(_0x2ff660,_0xb83e32){_0x2ff660=_0x2ff660-(-0xeaa*-0x1+0x6b6+-0x148d);let _0x59b51d=_0xc82d22[_0x2ff660];return _0x59b51d;},_0xa6b3(_0x3aa7f1,_0x4321b6);}export async function onMessage(_0x4cd6af){const _0x206568=_0x4687bc;if(!_0x4cd6af?.[_0x206568(0xde)]||!_0x4cd6af['isCommand'])return;const _0x22d9a3=_0x4cd6af[_0x206568(0xde)]['id'];if(_0x22d9a3&&respondedMsgIds[_0x206568(0xd7)](_0x22d9a3))return;_0x22d9a3&&(respondedMsgIds[_0x206568(0x142)](_0x22d9a3),setTimeout(()=>respondedMsgIds[_0x206568(0xfe)](_0x22d9a3),0x8e27+0x2617+0x1*-0x3f0e));const _0x1c35ed=(_0x4cd6af[_0x206568(0xf3)]||'')['trim'](),[_0x2b8cb3,..._0x5b955c]=_0x1c35ed[_0x206568(0x12c)](/\s+/),_0x3ee47c=_0x2b8cb3[_0x206568(0x138)+'e']();if(!commands[_0x206568(0x13b)](_0x3ee47c))return;if(!botInstance){botInstance=_0x4cd6af['bot']||_0x4cd6af[_0x206568(0xf5)]||null;if(!botInstance){warn('['+name+(_0x206568(0x130)+_0x206568(0x12b)+'g.'));return;}}const _0x934ba5=getBotJid();let _0x55d659=_0x934ba5;const _0x24c155=_0x4cd6af[_0x206568(0xde)][_0x206568(0x137)]||'',_0x263173=_0x24c155[_0x206568(0x118)](_0x206568(0x140)),_0x4a67d6=Boolean(_0x4cd6af[_0x206568(0xde)][_0x206568(0x107)]);if(!_0x4a67d6){if(_0x263173){const _0x3f60a7=await isadmin(botInstance,_0x4cd6af)['catch'](()=>![]);if(!_0x3f60a7)return;_0x55d659=_0x24c155;}else{const _0x5a394f=await isSudo(botInstance,_0x4cd6af)[_0x206568(0x149)](()=>![]);if(!_0x5a394f)return;const {findings:_0x4f0b60}=userJidFromCtx(_0x4cd6af),_0x10afa9=await findStoredMatchFromFindings(_0x4f0b60);if(!_0x10afa9)return;_0x55d659=_0x10afa9;}}const _0x26f15f=_0x5b955c[_0x206568(0x122)]('\x20');try{switch(_0x3ee47c){case _0x206568(0x13e):await handleUniversalDownloader(_0x55d659,_0x26f15f,_0x4cd6af);break;case _0x206568(0x11a):await handleRingtone(_0x55d659,_0x26f15f,_0x4cd6af);break;}}catch(_0x4d244e){error(_0x4d244e,'['+name+(_0x206568(0x11e)+_0x206568(0x13f))+_0x4d244e[_0x206568(0x128)]),await botInstance['sendMessag'+'e'](_0x55d659,{'text':_0x206568(0x124)+_0x206568(0xf1)+_0x206568(0x145)+'.'},{'quoted':_0x4cd6af['ms']});}}async function handleUniversalDownloader(_0x323b5f,_0x4ea210,_0x1fa81a){const _0x1a167a=_0x4687bc;if(!_0x4ea210)return botInstance[_0x1a167a(0xdc)+'e'](_0x323b5f,{'text':_0x1a167a(0xfb)+_0x1a167a(0xd4)+'\x20to\x20downlo'+'ad\x20from.\x0a\x0a'+_0x1a167a(0x10d)},{'quoted':_0x1fa81a['ms']});await botInstance[_0x1a167a(0xdc)+'e'](_0x323b5f,{'text':_0x1a167a(0xe8)+_0x1a167a(0x10b)+_0x1a167a(0xf6)},{'quoted':_0x1fa81a['ms']});let _0x3c5c41;if(_0x4ea210[_0x1a167a(0x13b)](_0x1a167a(0x131)+'m')||_0x4ea210[_0x1a167a(0x13b)](_0x1a167a(0x123)))_0x3c5c41=_0x1a167a(0xe6)+_0x1a167a(0xe1)+'download/t'+_0x1a167a(0x119)+'='+encodeURIComponent(_0x4ea210);else{if(_0x4ea210[_0x1a167a(0x13b)](_0x1a167a(0x14a)))_0x3c5c41=_0x1a167a(0xe6)+_0x1a167a(0xe1)+'download/t'+_0x1a167a(0x12e)+encodeURIComponent(_0x4ea210);else{if(_0x4ea210['includes'](_0x1a167a(0x10e)+'com'))_0x3c5c41='https://ap'+_0x1a167a(0xe1)+_0x1a167a(0xf4)+_0x1a167a(0xdb)+_0x1a167a(0x13d)+encodeURIComponent(_0x4ea210);else{if(_0x4ea210['includes'](_0x1a167a(0x13c)+'om')||_0x4ea210[_0x1a167a(0x13b)](_0x1a167a(0x116)))_0x3c5c41=_0x1a167a(0xe6)+'i.bk9.dev/'+'download/f'+_0x1a167a(0xe0)+encodeURIComponent(_0x4ea210);else{if(_0x4ea210[_0x1a167a(0x13b)](_0x1a167a(0x11b)+'com')||_0x4ea210[_0x1a167a(0x13b)](_0x1a167a(0x104)))_0x3c5c41=_0x1a167a(0xe6)+_0x1a167a(0xe1)+_0x1a167a(0x148)+_0x1a167a(0x11d)+'rl='+encodeURIComponent(_0x4ea210);else{if(_0x4ea210[_0x1a167a(0x13b)](_0x1a167a(0xda)+'com'))_0x3c5c41=_0x1a167a(0xe6)+_0x1a167a(0xe1)+_0x1a167a(0xef)+_0x1a167a(0xe4)+_0x1a167a(0x13d)+encodeURIComponent(_0x4ea210);else return botInstance[_0x1a167a(0xdc)+'e'](_0x323b5f,{'text':_0x1a167a(0xd6)+_0x1a167a(0xf8)+_0x1a167a(0xf7)+_0x1a167a(0x139)+_0x1a167a(0x102)+'Instagram,'+_0x1a167a(0xff)+_0x1a167a(0x14b)+_0x1a167a(0x115)+_0x1a167a(0xd9)},{'quoted':_0x1fa81a['ms']});}}}}}try{const _0x4e9830=await _0x326908[_0x1a167a(0xfa)](_0x3c5c41,{'timeout':0x7530}),_0x33d2fa=extractDownloadUrl(_0x4e9830[_0x1a167a(0xe7)]);if(!_0x33d2fa)return botInstance[_0x1a167a(0xdc)+'e'](_0x323b5f,{'text':_0x1a167a(0x120)+_0x1a167a(0x11f)+_0x1a167a(0x132)+_0x1a167a(0x10a)+'\x20that\x20URL.'+_0x1a167a(0x125)},{'quoted':_0x1fa81a['ms']});const _0x4c9acb=/\.(mp4|mov)(\?.*)?$/[_0x1a167a(0x109)](_0x33d2fa);_0x4c9acb?await botInstance['sendMessag'+'e'](_0x323b5f,{'video':{'url':_0x33d2fa},'caption':_0x1a167a(0x10d)},{'quoted':_0x1fa81a['ms']}):await botInstance[_0x1a167a(0xdc)+'e'](_0x323b5f,{'document':{'url':_0x33d2fa},'fileName':_0x1a167a(0x101)+_0x1a167a(0x121),'caption':_0x1a167a(0x10d)},{'quoted':_0x1fa81a['ms']});}catch(_0x2d1145){error(_0x2d1145,_0x1a167a(0xf9)+_0x1a167a(0x105)+_0x1a167a(0x136)+_0x4ea210),await botInstance[_0x1a167a(0xdc)+'e'](_0x323b5f,{'text':'‚ùå\x20Failed\x20t'+_0x1a167a(0x13a)+'\x20content.\x20'+_0x1a167a(0x12d)+_0x1a167a(0xee)+_0x1a167a(0x125)},{'quoted':_0x1fa81a['ms']});}}async function handleRingtone(_0x438cfc,_0x1a7d78,_0x2c86b5){const _0x5f0698=_0x4687bc;if(!_0x1a7d78)return botInstance['sendMessag'+'e'](_0x438cfc,{'text':'Please\x20pro'+_0x5f0698(0x103)+'rch\x20term\x20f'+'or\x20a\x20ringt'+'one.\x0a\x0atct'},{'quoted':_0x2c86b5['ms']});await botInstance[_0x5f0698(0xdc)+'e'](_0x438cfc,{'text':'üîç\x20Searchin'+_0x5f0698(0x10f)+_0x5f0698(0x106)+_0x1a7d78+'\x22...'},{'quoted':_0x2c86b5['ms']});try{const _0x403f00='https://ap'+_0x5f0698(0xe1)+_0x5f0698(0x10c)+_0x5f0698(0xf2)+encodeURIComponent(_0x1a7d78),_0x4b49ba=await _0x326908[_0x5f0698(0xfa)](_0x403f00,{'timeout':0x4e20}),_0x40b62f=extractDownloadUrl(_0x4b49ba[_0x5f0698(0xe7)]);if(!_0x40b62f)return botInstance[_0x5f0698(0xdc)+'e'](_0x438cfc,{'text':'‚ùå\x20No\x20ringt'+_0x5f0698(0x12a)+_0x5f0698(0x134)+_0x1a7d78+_0x5f0698(0x129)},{'quoted':_0x2c86b5['ms']});await botInstance[_0x5f0698(0xdc)+'e'](_0x438cfc,{'audio':{'url':_0x40b62f},'mimetype':_0x5f0698(0xfc),'fileName':_0x1a7d78+(_0x5f0698(0x141)+'mp3')},{'quoted':_0x2c86b5['ms']});}catch(_0x392cfe){error(_0x392cfe,_0x5f0698(0xe5)+_0x5f0698(0x108)+'\x20get\x20ringt'+_0x5f0698(0xe2)+_0x1a7d78+'\x22'),await botInstance[_0x5f0698(0xdc)+'e'](_0x438cfc,{'text':_0x5f0698(0x127)+_0x5f0698(0x100)+_0x5f0698(0x11c)+_0x5f0698(0x112)+'the\x20ringto'+_0x5f0698(0x144)},{'quoted':_0x2c86b5['ms']});}}