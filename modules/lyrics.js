const _0x5d8bad=_0x58e9;(function(_0x30ba43,_0x3809cb){const _0x448d6e=_0x58e9,_0x2d8877=_0x30ba43();while(!![]){try{const _0x227c52=-parseInt(_0x448d6e(0x19e))/(0x89*0x1b+0x2*-0xf3e+0x100a*0x1)*(parseInt(_0x448d6e(0x16f))/(-0x162c+0x2*-0x12c1+-0x3bb0*-0x1))+-parseInt(_0x448d6e(0x1a9))/(0xd1c+0x1*0x1+0x2b*-0x4e)*(parseInt(_0x448d6e(0x188))/(-0xd6e+-0x1+-0xd73*-0x1))+parseInt(_0x448d6e(0x1b9))/(0x8e*-0x31+-0xb9*0x1+0x1bec)+parseInt(_0x448d6e(0x199))/(0x26a9+0x3*-0xaf3+0x72*-0xd)*(parseInt(_0x448d6e(0x1bf))/(0xd50+-0xb*0x3d+0xc3*-0xe))+-parseInt(_0x448d6e(0x192))/(0x24c9+-0x9*0x168+0x1*-0x1819)+-parseInt(_0x448d6e(0x1aa))/(-0x12f6+-0x1d5c+0x305b)+parseInt(_0x448d6e(0x1b6))/(0x7*0x502+0x1d30+-0x4034);if(_0x227c52===_0x3809cb)break;else _0x2d8877['push'](_0x2d8877['shift']());}catch(_0x440920){_0x2d8877['push'](_0x2d8877['shift']());}}}(_0x244b,-0x1*-0xd5bd1+0xfd8cb+-0x8b*0x224b));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import _0x4453a5 from'axios';export const name=_0x5d8bad(0x16e);export const version=_0x5d8bad(0x1b2);export const priority=0x1024+-0x1803*-0x1+-0x281d;let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x4a971f=[]){const _0x4978e6=_0x5d8bad;try{const _0x241963=await listSudo(),_0x80482e=new Set(_0x241963[_0x4978e6(0x1cc)](String));for(const _0x57ddaf of _0x4a971f){if(!_0x57ddaf||typeof _0x57ddaf['jid']!==_0x4978e6(0x171))continue;const _0x32cf54=normalizeToJid(_0x57ddaf[_0x4978e6(0x1c0)]);if(_0x32cf54&&_0x80482e['has'](_0x32cf54))return _0x32cf54;if(_0x80482e['has'](_0x57ddaf['jid']))return _0x57ddaf[_0x4978e6(0x1c0)];}return null;}catch(_0xa5c426){return warn(name+(_0x4978e6(0x197)+_0x4978e6(0x1a5)+_0x4978e6(0x1b1))+(_0xa5c426?.[_0x4978e6(0x19d)]||_0xa5c426)),null;}}function _0x58e9(_0x289e98,_0x24a82a){const _0x45c7f9=_0x244b();return _0x58e9=function(_0x4bf9d0,_0x4363b2){_0x4bf9d0=_0x4bf9d0-(-0xe45+0x1*0x7ef+0x7c4);let _0x4cff27=_0x45c7f9[_0x4bf9d0];return _0x4cff27;},_0x58e9(_0x289e98,_0x24a82a);}function _0x244b(){const _0x443c44=['ling\x20back\x20','get','map','result','Unknown\x20Ar','trim','me-random-','\x0aüë§\x20','lyrics','10rbPznN','‚ÅøÀ¢.','string','\x20failed','stination\x20','.moe/novrn','has','ssage:\x20','iltech.my.','artist','toLowerCas','\x22...','\x20failed:\x20','·∂ú·µí·µñ ∏ ≥·∂¶·µç ∞·µó\x20','Failed\x20to\x20','https://ap','\x22\x20to\x20','tch/send\x20f','https://fi','d\x20lyrics\x20(','À°·µâ\x20·µà·µò·µâ\x20·µó·µí\x20','length',':\x20delivere','binary','text','2390660HfWMdg',':\x20api\x20','rror','name>\x0aExam','‚ú®\x20tct\x20‚Äî\x20LY','thumb','\x20full\x20text',':\x20image\x20fe','RICS\x20‚ú®\x0a\x0aüéµ\x20','startsWith','4338872GjdGyy','arraybuffe','title','i.dreaded.','hers/lyric',':\x20findStor','ailed,\x20fal','30DEpDCS','\x20Rhapsody',':\x20initiali','les.catbox','message','39597DDvYhh','i.davidcyr','add','id/lyrics?','ion)\x20for\x20\x22','yrics.\x20Ple','image+capt','edMatch\x20er','\x20as\x20one\x20me','ple:\x20lyric','sendMessag','3lgRVEx','8440857LfihMy',' ≥·µâÀ¢·µó ≥·∂¶·∂ú·µó·∂¶·µí','key','to\x20sending','slice','tist','send\x20lyric','ror:\x20','1.0.4','yrics?titl','data','fromMe','6903390ytPhAQ','Searching\x20','·∂úÀ¢\x20·µê·µÉ ∏\x20·µá·µâ\x20','6479195Fzdbhs','lyrics\x20for','ain\x20later.','ase\x20try\x20ag',':\x20botInsta','api.com/ot','1376809LreJMD','jid','client','site/api/l','join','·µó ∞·µâÀ¢·µâ\x20À° ∏ ≥·∂¶','n.jpg','s?title=',':\x20fallback','s\x20Bohemian','\x20cleaned\x20u'];_0x244b=function(){return _0x443c44;};return _0x244b();}function pickLyricsFromResponse(_0x54c54a){const _0x3d2933=_0x5d8bad;if(!_0x54c54a)return null;if(_0x54c54a[_0x3d2933(0x1cd)]&&_0x54c54a[_0x3d2933(0x1cd)][_0x3d2933(0x16e)])return{'title':_0x54c54a[_0x3d2933(0x1cd)][_0x3d2933(0x194)]||null,'artist':_0x54c54a['result'][_0x3d2933(0x178)]||null,'thumb':_0x54c54a[_0x3d2933(0x1cd)][_0x3d2933(0x18d)]||null,'lyrics':_0x54c54a['result'][_0x3d2933(0x16e)]||null};if(_0x54c54a['lyrics']&&typeof _0x54c54a[_0x3d2933(0x16e)]===_0x3d2933(0x171))return{'title':_0x54c54a[_0x3d2933(0x194)]||null,'artist':_0x54c54a[_0x3d2933(0x178)]||null,'thumb':_0x54c54a[_0x3d2933(0x18d)]||null,'lyrics':_0x54c54a[_0x3d2933(0x16e)]};if(_0x54c54a[_0x3d2933(0x1b4)]&&_0x54c54a[_0x3d2933(0x1b4)][_0x3d2933(0x16e)])return{'title':_0x54c54a[_0x3d2933(0x1b4)]['title']||null,'artist':_0x54c54a[_0x3d2933(0x1b4)][_0x3d2933(0x178)]||null,'thumb':_0x54c54a['data'][_0x3d2933(0x18d)]||null,'lyrics':_0x54c54a['data'][_0x3d2933(0x16e)]};if(typeof _0x54c54a===_0x3d2933(0x171)&&_0x54c54a[_0x3d2933(0x1cf)]()[_0x3d2933(0x184)]>-0x26b3+-0x2b*0x81+0x2*0x1e2f)return{'title':null,'artist':null,'thumb':null,'lyrics':_0x54c54a};return null;}export async function initialize(_0x57fa44){const _0x59dfee=_0x5d8bad;botInstance=_0x57fa44,info(name+(_0x59dfee(0x19b)+'zed.'));}export async function onMessage(_0x4088c3){const _0x4794fe=_0x5d8bad;try{if(!_0x4088c3?.[_0x4794fe(0x1ac)]||!_0x4088c3['isCommand'])return;const _0x4a1a7d=_0x4088c3[_0x4794fe(0x1ac)]['id'];if(_0x4a1a7d&&respondedMsgIds[_0x4794fe(0x175)](_0x4a1a7d))return;if(_0x4a1a7d)respondedMsgIds[_0x4794fe(0x1a0)](_0x4a1a7d);const _0x48474c=(_0x4088c3[_0x4794fe(0x187)]||'')[_0x4794fe(0x1cf)]();if(!_0x48474c[_0x4794fe(0x179)+'e']()[_0x4794fe(0x191)]('lyrics'))return;const _0xaff923=_0x48474c['split'](/\s+/),_0x1cc7e7=_0xaff923[-0x1*-0x1eaf+-0x85*0x3+-0x1d20][_0x4794fe(0x179)+'e']();if(_0x1cc7e7!==_0x4794fe(0x16e))return;if(!botInstance)botInstance=_0x4088c3['bot']||_0x4088c3[_0x4794fe(0x1c1)];if(!botInstance){warn(name+(_0x4794fe(0x1bd)+'nce\x20missin'+'g'));return;}const _0x10ee1a=getBotJid();let _0x2ab140;if(_0x4088c3['key'][_0x4794fe(0x1b5)])_0x2ab140=_0x10ee1a;else{const _0x5ae44a=await isSudo(botInstance,_0x4088c3)['catch'](()=>![]);if(!_0x5ae44a)return;const {findings:_0x1507b3}=userJidFromCtx(_0x4088c3),_0xa50040=await findStoredMatchFromFindings(_0x1507b3);if(!_0xa50040)return;_0x2ab140=_0xa50040;}if(!_0x2ab140){warn(name+(':\x20Could\x20no'+'t\x20determin'+'e\x20final\x20de'+_0x4794fe(0x173)+'for\x20messag'+'e.'));return;}const _0xde044b=_0xaff923[_0x4794fe(0x1ae)](0xe5c+0x1*-0x136d+0x512)[_0x4794fe(0x1c3)]('\x20')[_0x4794fe(0x1cf)]();if(!_0xde044b){await botInstance[_0x4794fe(0x1a8)+'e'](_0x2ab140,{'text':'Usage:\x20lyr'+'ics\x20<song\x20'+_0x4794fe(0x18b)+_0x4794fe(0x1a7)+_0x4794fe(0x1c8)+_0x4794fe(0x19a)});return;}try{await botInstance[_0x4794fe(0x1a8)+'e'](_0x2ab140,{'text':_0x4794fe(0x1b7)+_0x4794fe(0x1ba)+'\x20\x22'+_0xde044b+_0x4794fe(0x17a)},{'quoted':_0x4088c3['ms']});}catch(_0xa09b28){try{await botInstance[_0x4794fe(0x1a8)+'e'](_0x2ab140,{'text':'Searching\x20'+'lyrics\x20for'+'\x20\x22'+_0xde044b+'\x22...'});}catch(_0x276165){}}const _0x283dec=[_0x4794fe(0x17e)+_0x4794fe(0x195)+_0x4794fe(0x1c2)+_0x4794fe(0x1b3)+'e='+encodeURIComponent(_0xde044b),'https://so'+_0x4794fe(0x1d0)+_0x4794fe(0x1be)+_0x4794fe(0x196)+_0x4794fe(0x1c6)+encodeURIComponent(_0xde044b),_0x4794fe(0x17e)+_0x4794fe(0x19f)+_0x4794fe(0x177)+_0x4794fe(0x1a1)+'title='+encodeURIComponent(_0xde044b)];let _0x496213=null;for(const _0x1cbd96 of _0x283dec){try{const _0x3671c3=await _0x4453a5['get'](_0x1cbd96,{'timeout':0x2710}),_0x20df27=pickLyricsFromResponse(_0x3671c3[_0x4794fe(0x1b4)]);if(_0x20df27&&_0x20df27['lyrics']&&_0x20df27[_0x4794fe(0x16e)][_0x4794fe(0x1cf)]()[_0x4794fe(0x184)]>0x184f+0x1*0x4c7+-0x1d16){_0x496213=_0x20df27;break;}}catch(_0xfcb1fa){warn(name+_0x4794fe(0x189)+_0x1cbd96+_0x4794fe(0x17b)+(_0xfcb1fa?.[_0x4794fe(0x19d)]||_0xfcb1fa));}}if(!_0x496213){await botInstance[_0x4794fe(0x1a8)+'e'](_0x2ab140,{'text':_0x4794fe(0x17d)+'retrieve\x20l'+_0x4794fe(0x1a3)+_0x4794fe(0x1bc)+_0x4794fe(0x1bb)});return;}const _0x501041=_0x496213[_0x4794fe(0x194)]||_0xde044b,_0x245a93=_0x496213['artist']||_0x4794fe(0x1ce)+_0x4794fe(0x1af),_0x5afea3=_0x496213['thumb']||_0x4794fe(0x181)+_0x4794fe(0x19c)+_0x4794fe(0x174)+_0x4794fe(0x1c5),_0x5519ee=String(_0x496213[_0x4794fe(0x16e)]||'')[_0x4794fe(0x1cf)](),_0x2f42ab=_0x4794fe(0x1c4)+_0x4794fe(0x1b8)+'·µñ·µÉ ≥·µó·∂¶·µÉÀ°\x20·µí ≥'+'\x20·µò‚Åø·µÉ·µõ·µÉ‚Å±À°·µÉ·µá'+_0x4794fe(0x183)+_0x4794fe(0x17c)+_0x4794fe(0x1ab)+_0x4794fe(0x170),_0x121d7d=_0x4794fe(0x18c)+_0x4794fe(0x190)+_0x501041+_0x4794fe(0x1d1)+_0x245a93+'\x0a'+_0x2f42ab+'\x0a\x0a'+_0x5519ee;try{const _0x1a6ac9=await _0x4453a5[_0x4794fe(0x1cb)](_0x5afea3,{'responseType':_0x4794fe(0x193)+'r','timeout':0x2710}),_0x16a9c8=Buffer['from'](_0x1a6ac9[_0x4794fe(0x1b4)],_0x4794fe(0x186));await botInstance['sendMessag'+'e'](_0x2ab140,{'image':_0x16a9c8,'caption':_0x121d7d},{'quoted':_0x4088c3['ms']}),info(name+(_0x4794fe(0x185)+_0x4794fe(0x182)+_0x4794fe(0x1a4)+_0x4794fe(0x1a2))+_0xde044b+_0x4794fe(0x17f)+_0x2ab140);return;}catch(_0x5d8e33){warn(name+(_0x4794fe(0x18f)+_0x4794fe(0x180)+_0x4794fe(0x198)+_0x4794fe(0x1ca)+_0x4794fe(0x1ad)+_0x4794fe(0x18e)+_0x4794fe(0x1a6)+_0x4794fe(0x176))+(_0x5d8e33?.[_0x4794fe(0x19d)]||_0x5d8e33));try{await botInstance[_0x4794fe(0x1a8)+'e'](_0x2ab140,{'text':_0x121d7d},{'quoted':_0x4088c3['ms']}),info(name+(':\x20delivere'+_0x4794fe(0x182)+'text)\x20for\x20'+'\x22')+_0xde044b+_0x4794fe(0x17f)+_0x2ab140);return;}catch(_0x3ddebe){error(_0x3ddebe,name+(_0x4794fe(0x1c7)+'\x20text\x20send'+_0x4794fe(0x172))),await botInstance[_0x4794fe(0x1a8)+'e'](_0x2ab140,{'text':'Failed\x20to\x20'+_0x4794fe(0x1b0)+'s.'});return;}}}catch(_0x7343ef){error(_0x7343ef,name+('\x20handler\x20e'+_0x4794fe(0x18a)));}}export async function cleanup(){const _0x233b9b=_0x5d8bad;try{botInstance=null,respondedMsgIds['clear'](),info(name+(_0x233b9b(0x1c9)+'p'));}catch(_0x4be41a){warn(name+('\x20cleanup\x20e'+'rror:\x20')+(_0x4be41a?.[_0x233b9b(0x19d)]||_0x4be41a));}}