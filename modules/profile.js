const _0x1f9918=_0x5c2a;(function(_0x3e5be9,_0x1eed19){const _0x5b1849=_0x5c2a,_0x1af891=_0x3e5be9();while(!![]){try{const _0x379445=-parseInt(_0x5b1849(0x79))/(0x2552+0x996+-0x2ee7)+parseInt(_0x5b1849(0xab))/(0x17bf+0x15c6*0x1+-0x3d*0xbf)*(parseInt(_0x5b1849(0xb6))/(-0x791*0x3+0x2*-0x4c+0x13*0x13a))+parseInt(_0x5b1849(0x9d))/(0xdee+-0x198b*-0x1+-0xd*0x309)*(-parseInt(_0x5b1849(0x93))/(0x371*-0xb+0x705*-0x1+-0x9*-0x4fd))+-parseInt(_0x5b1849(0xca))/(0x2068+-0x16a9*-0x1+-0x370b)+-parseInt(_0x5b1849(0xbf))/(-0x1*-0xced+-0x174d+-0x1*-0xa67)*(parseInt(_0x5b1849(0x88))/(0x31*0x83+-0x1f8c+-0x681*-0x1))+parseInt(_0x5b1849(0x6b))/(0x1*-0x109+0x19*-0xb3+0x128d)*(parseInt(_0x5b1849(0x6e))/(0xe7*-0x1+-0xb95+0xc86))+parseInt(_0x5b1849(0xb3))/(-0x137f+0x3*-0x1e1+0x1*0x192d)*(parseInt(_0x5b1849(0x82))/(-0x994*0x3+-0x137+0x1dff));if(_0x379445===_0x1eed19)break;else _0x1af891['push'](_0x1af891['shift']());}catch(_0x27bc0e){_0x1af891['push'](_0x1af891['shift']());}}}(_0x7415,-0xad*0x5db+-0xbb235*0x1+-0x2215b*-0xd));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x1f9918(0x92);export const version=_0x1f9918(0xad);export const priority=0x1*-0x1583+-0x2*-0x367+0xebf;export const commands=['setpp'];let botInstance=null,respondedMsgIds=new Set(),_baileysHelpers=null;async function getBaileysHelpers(){const _0x1a21ed=_0x1f9918;if(_baileysHelpers)return _baileysHelpers;try{const _0x2719aa=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x2719aa['downloadCo'+'ntentFromM'+_0x1a21ed(0x80)]||_0x2719aa['default']?.[_0x1a21ed(0xb8)+_0x1a21ed(0x68)+_0x1a21ed(0x80)]};if(!_baileysHelpers[_0x1a21ed(0xb8)+'ntentFromM'+_0x1a21ed(0x80)])throw new Error(_0x1a21ed(0xb8)+_0x1a21ed(0x68)+_0x1a21ed(0xc9)+'\x20available'+_0x1a21ed(0x8c)+_0x1a21ed(0x9b));return _baileysHelpers;}catch(_0x439630){error(_0x439630,'['+name+(_0x1a21ed(0x8f)+_0x1a21ed(0xc7)+'baileys\x20fa'+'iled'));throw _0x439630;}}async function streamToBuffer(_0x50dc67){const _0x4a320f=_0x1f9918;if(!_0x50dc67)throw new Error(_0x4a320f(0xb2)+_0x4a320f(0x7a));if(typeof _0x50dc67[Symbol[_0x4a320f(0xc2)+_0x4a320f(0xb1)]]===_0x4a320f(0x91)){const _0x2cdf64=[];for await(const _0x1e8567 of _0x50dc67){_0x2cdf64['push'](Buffer[_0x4a320f(0x8b)](_0x1e8567)?_0x1e8567:Buffer[_0x4a320f(0xa8)](_0x1e8567));}return Buffer['concat'](_0x2cdf64);}if(_0x50dc67&&typeof _0x50dc67['on']==='function')return new Promise((_0x1b89e6,_0x485e37)=>{const _0x52f1d1=_0x4a320f,_0x567ad0=[];_0x50dc67['on'](_0x52f1d1(0x67),_0x2406ab=>_0x567ad0[_0x52f1d1(0xa3)](Buffer[_0x52f1d1(0x8b)](_0x2406ab)?_0x2406ab:Buffer[_0x52f1d1(0xa8)](_0x2406ab))),_0x50dc67['on'](_0x52f1d1(0x66),()=>_0x1b89e6(Buffer[_0x52f1d1(0x7b)](_0x567ad0))),_0x50dc67['on'](_0x52f1d1(0x72),_0x485e37);});throw new Error('Unsupporte'+'d\x20stream\x20t'+_0x4a320f(0xb5)+_0x4a320f(0x99)+_0x4a320f(0x97)+_0x4a320f(0x77)+'ge');}const getQuotedMessage=_0x389a39=>{const _0x2a33c2=_0x1f9918;return _0x389a39['message']?.[_0x2a33c2(0xbd)+_0x2a33c2(0x9e)]?.[_0x2a33c2(0xc6)+'o']?.[_0x2a33c2(0xb4)+'age']||_0x389a39[_0x2a33c2(0xba)]||null;};async function findStoredMatchFromFindings(_0x40079b=[]){const _0x5cb8ca=_0x1f9918;try{const _0x20ca72=await listSudo(),_0x512138=new Set(_0x20ca72['map'](String));for(const _0x280b27 of _0x40079b){if(!_0x280b27||typeof _0x280b27[_0x5cb8ca(0xc4)]!=='string')continue;const _0x27525f=normalizeToJid(_0x280b27['jid']);if(_0x27525f&&_0x512138[_0x5cb8ca(0x8a)](_0x27525f))return _0x27525f;if(_0x512138[_0x5cb8ca(0x8a)](_0x280b27[_0x5cb8ca(0xc4)]))return _0x280b27[_0x5cb8ca(0xc4)];}return null;}catch(_0x591510){return warn('['+name+(_0x5cb8ca(0x75)+'edMatch\x20er'+_0x5cb8ca(0x94))+(_0x591510?.[_0x5cb8ca(0x78)]||_0x591510)),null;}}export async function initialize(_0xa73fc3){const _0x362039=_0x1f9918;botInstance=_0xa73fc3,info('['+name+(_0x362039(0x90)+_0x362039(0x84)+_0x362039(0x85)));}function _0x5c2a(_0x4680d4,_0x1af868){const _0x8586e=_0x7415();return _0x5c2a=function(_0x156ec1,_0x37fde0){_0x156ec1=_0x156ec1-(0x22d8+-0x698*0x3+-0x755*0x2);let _0x5f2049=_0x8586e[_0x156ec1];return _0x5f2049;},_0x5c2a(_0x4680d4,_0x1af868);}function _0x7415(){const _0x594a9c=['ype\x20return','3882qoiQLW','\x20failed\x20fo','downloadCo','ted\x20error\x20','quoted','sendMessag','delete','extendedTe','essfully!','573335vxsbML','isCommand','ting\x20profi','asyncItera','imageMessa','jid','ofile\x20pict','contextInf','import\x20of\x20','o\x20notify\x20u','essage\x20not','5550066yprHLV','text','picture\x20up','end','data','ntentFromM','includes','ilePicture','122517QHCodA','not\x20availa','ID\x20for\x20set','150sxBCeO','key','\x20missing)','ture:\x20','error','[profile]\x20','\x20disabled.',']\x20findStor','❌\x20Failed\x20t','tFromMessa','message','1302388vBYYEM','provided','concat','rofile\x20pic','An\x20unexpec','ia\x20helper\x20','@g.us','essage','ocket\x20API\x20','27642960SVjsAn','feature\x20is','zed\x20succes','sfully.','dated\x20succ','set\x20the\x20pr','24ZIFzeO','sock','has','isBuffer','\x20from\x20bail','e\x20picture\x20','ℹ️\x20Please\x20r',']\x20dynamic\x20',']\x20initiali','function','profile','2315IznbgQ','ror:\x20','le\x20picture','trim','loadConten','endsWith','ed\x20by\x20down','on\x20this\x20ho','eys\x20import','o\x20update\x20p','5008mJsrnd','xtMessage','age\x20for\x20','toLowerCas','ser\x20of\x20err',']\x20cleaned\x20','push','clear','catch','updateProf','WhatsApp\x20s','from','image','t\x20determin','2062HshDoE','split','1.0.0',']\x20Could\x20no','remoteJid','Failed\x20to\x20','tor','No\x20stream\x20','11gqhOnU','quotedMess'];_0x7415=function(){return _0x594a9c;};return _0x7415();}export async function cleanup(){const _0x172fbd=_0x1f9918;botInstance=null,respondedMsgIds[_0x172fbd(0xa4)](),info('['+name+(_0x172fbd(0xa2)+'up'));}export async function onMessage(_0x590656){const _0xc079a1=_0x1f9918;if(!_0x590656||!_0x590656['key']||!_0x590656[_0xc079a1(0xc0)])return;const _0x1bc037=_0x590656[_0xc079a1(0x6f)]['id'];if(_0x1bc037&&respondedMsgIds[_0xc079a1(0x8a)](_0x1bc037))return;_0x1bc037&&(respondedMsgIds['add'](_0x1bc037),setTimeout(()=>respondedMsgIds[_0xc079a1(0xbc)](_0x1bc037),0xddb0*0x1+-0x1ec7*-0x3+-0x29*0x4cd));const _0x23ee0c=(_0x590656[_0xc079a1(0xcb)]||'')[_0xc079a1(0x96)](),[_0x4b0037]=_0x23ee0c[_0xc079a1(0xac)](/\s+/);if(!_0x4b0037||!commands[_0xc079a1(0x69)](_0x4b0037[_0xc079a1(0xa0)+'e']()))return;const _0x1f4323=_0x590656[_0xc079a1(0x6f)]['remoteJid'],_0x144b3a=_0x1f4323&&_0x1f4323[_0xc079a1(0x98)]&&_0x1f4323[_0xc079a1(0x98)](_0xc079a1(0x7f));let _0x1f7eb3=_0x1f4323;const _0x43e85a=_0x590656[_0xc079a1(0x6f)]['fromMe'];let _0x7cec23=_0x43e85a;if(!_0x7cec23){if(_0x144b3a)_0x7cec23=await isadmin(botInstance,_0x590656)['catch'](()=>![]);else{const _0x3862f4=await isSudo(botInstance,_0x590656)[_0xc079a1(0xa5)](()=>![]);if(_0x3862f4){const {findings:_0x25bffb}=userJidFromCtx(_0x590656),_0x2f3dd1=await findStoredMatchFromFindings(_0x25bffb);_0x2f3dd1&&(_0x7cec23=!![],_0x1f7eb3=_0x2f3dd1);}}}if(!_0x7cec23)return;try{await handleSetProfilePicture(_0x1f7eb3,_0x590656);}catch(_0x1be78c){error(_0x1be78c,'['+name+(']\x20Handler\x20'+'error:\x20')+(_0x1be78c?.[_0xc079a1(0x78)]||_0x1be78c));try{await botInstance[_0xc079a1(0xbb)+'e'](_0x1f7eb3,{'text':_0xc079a1(0x7d)+_0xc079a1(0xb9)+'occurred.'},{'quoted':_0x590656['ms']});}catch(_0x4ccf49){error(_0x4ccf49,'['+name+(']\x20Failed\x20t'+_0xc079a1(0xc8)+_0xc079a1(0xa1)+'or'));}}}async function handleSetProfilePicture(_0x1ad17a,_0xb11192){const _0x212a43=_0x1f9918,_0x1e4384=_0xb11192['key'][_0x212a43(0xaf)]&&_0xb11192[_0x212a43(0x6f)][_0x212a43(0xaf)][_0x212a43(0x98)]&&_0xb11192[_0x212a43(0x6f)][_0x212a43(0xaf)][_0x212a43(0x98)](_0x212a43(0x7f)),_0x15bcec=getBotJid(),_0x13d088=_0x1e4384?_0xb11192[_0x212a43(0x6f)]['remoteJid']:_0x15bcec;if(!_0x13d088){warn('['+name+(_0x212a43(0xae)+_0x212a43(0xaa)+'e\x20target\x20J'+_0x212a43(0x6d)+_0x212a43(0xc1)+_0x212a43(0x95)+'.'));return;}const _0xf5c43a=getQuotedMessage(_0xb11192);if(!_0xf5c43a?.[_0x212a43(0xc3)+'ge'])return botInstance[_0x212a43(0xbb)+'e'](_0x1ad17a,{'text':_0x212a43(0x8e)+'eply\x20to\x20an'+'\x20image\x20to\x20'+_0x212a43(0x87)+_0x212a43(0xc5)+'ure.'},{'quoted':_0xb11192['ms']});let _0x2e1970;try{const _0x2e7554=await getBaileysHelpers();_0x2e1970=_0x2e7554[_0x212a43(0xb8)+_0x212a43(0x68)+'essage'];}catch(_0x4c9c12){await botInstance[_0x212a43(0xbb)+'e'](_0x1ad17a,{'text':'❌\x20Unable\x20t'+'o\x20load\x20med'+_0x212a43(0x7e)+_0x212a43(0x9a)+'st.\x20Profil'+_0x212a43(0x8d)+_0x212a43(0x83)+_0x212a43(0x74)},{'quoted':_0xb11192['ms']});return;}try{const _0xaa0139=await _0x2e1970(_0xf5c43a[_0x212a43(0xc3)+'ge'],_0x212a43(0xa9)),_0x121e4b=await streamToBuffer(_0xaa0139);try{if(!botInstance||!botInstance[_0x212a43(0x89)]||typeof botInstance[_0x212a43(0x89)][_0x212a43(0xa6)+'ilePicture']!==_0x212a43(0x91))throw new Error(_0x212a43(0xa7)+_0x212a43(0x81)+_0x212a43(0x6c)+'ble\x20(sock.'+_0x212a43(0xa6)+_0x212a43(0x6a)+_0x212a43(0x70));await botInstance[_0x212a43(0x89)]['updateProf'+_0x212a43(0x6a)](_0x13d088,_0x121e4b);const _0x2505b5=_0x1e4384?'✅\x20Group\x20pr'+_0x212a43(0xc5)+'ure\x20update'+'d\x20successf'+'ully!':'✅\x20Profile\x20'+_0x212a43(0xcc)+_0x212a43(0x86)+_0x212a43(0xbe);await botInstance[_0x212a43(0xbb)+'e'](_0x1ad17a,{'text':_0x2505b5},{'quoted':_0xb11192['ms']});}catch(_0x4ae1f8){error(_0x4ae1f8,_0x212a43(0x73)+_0x212a43(0xa6)+_0x212a43(0x6a)+_0x212a43(0xb7)+'r\x20'+_0x13d088),await botInstance[_0x212a43(0xbb)+'e'](_0x1ad17a,{'text':_0x212a43(0x76)+_0x212a43(0x9c)+_0x212a43(0x7c)+_0x212a43(0x71)+(_0x4ae1f8?.[_0x212a43(0x78)]||_0x4ae1f8)},{'quoted':_0xb11192['ms']});}}catch(_0x148312){error(_0x148312,_0x212a43(0x73)+_0x212a43(0xb0)+'process\x20im'+_0x212a43(0x9f)+_0x13d088),await botInstance[_0x212a43(0xbb)+'e'](_0x1ad17a,{'text':_0x212a43(0x76)+'o\x20read\x20ima'+'ge:\x20'+(_0x148312?.[_0x212a43(0x78)]||_0x148312)},{'quoted':_0xb11192['ms']});}}