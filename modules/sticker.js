const _0x1375c5=_0x50ba;(function(_0x1f67c7,_0x1d82a6){const _0x334522=_0x50ba,_0x2480af=_0x1f67c7();while(!![]){try{const _0xc22c9a=-parseInt(_0x334522(0x125))/(-0x1*0x6f7+0x3*-0x8f9+0x21e3)+parseInt(_0x334522(0xaf))/(-0x1*0x4ee+-0x7a9+0xd7*0xf)+parseInt(_0x334522(0xc2))/(0x1684+-0x1e90+-0x1*-0x80f)+-parseInt(_0x334522(0x117))/(0x3*-0x5ec+-0xcbb+0x49*0x6b)+parseInt(_0x334522(0x108))/(-0x2a1*0xc+0x855+0x173c)+parseInt(_0x334522(0xc5))/(-0x1*-0x685+-0x13ed+0xd6e)+-parseInt(_0x334522(0xcb))/(0xce+0x1662+-0x1729)*(parseInt(_0x334522(0x11c))/(-0xb*0x306+-0x10d*0x11+0x3327));if(_0xc22c9a===_0x1d82a6)break;else _0x2480af['push'](_0x2480af['shift']());}catch(_0x58a1ff){_0x2480af['push'](_0x2480af['shift']());}}}(_0x1483,-0xc84fa+0xb417*0xb+0xbeeed));function _0x50ba(_0x27ee76,_0x2d979f){const _0x4892d0=_0x1483();return _0x50ba=function(_0x3a7a6e,_0x5ec62b){_0x3a7a6e=_0x3a7a6e-(0x1966+0x332*0x4+0x94*-0x41);let _0x176dd6=_0x4892d0[_0x3a7a6e];return _0x176dd6;},_0x50ba(_0x27ee76,_0x2d979f);}import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';import{Readable}from'stream';import _0x231e78 from'fs/promises';import _0x5e1475 from'os';import _0x562dde from'path';import _0x1d1482 from'crypto';export const name='sticker';export const version=_0x1375c5(0x9a);function _0x1483(){const _0x53c87b=['push','No\x20media\x20b','client','-vf','\x20image:\x20','long\x20(','s/baileys','videoMessa','77848uljtDj','isCommand',',crop=512:','libwebp','ℹ️\x20This\x20is\x20','1599424NqyZql','essage','stickerMes','writeFile','min','\x20available','png','skeysocket','clear','434806cGISvs','ℹ️\x20Please\x20r','p->mp4\x20fai','quoted','ssing\x20your','.tovideo`\x20','to\x20convert','icker\x20buff','run','age','led','ath','\x20Use\x20the\x20`','endsWith','eply\x20to\x20an','join','video,\x20or\x20','zed\x20succes',']\x20findStor','jpeg','tovideo','number','ffmpeg\x20web','image','for\x20animat','iled','-vcodec','*\x20sticker\x20','tor','readFile','Sticker\x20to','jpg','No\x20image\x20d','key','version\x20fa','\x20video\x20con','mand.','sticker\x20to','downloadCo','produce\x20st','d\x20sticker.','Failed\x20to\x20','path','essage\x20not','\x20from\x20@whi','g\x20tools:\x20','scale=512:','s).\x20Maximu','toLowerCas','contextInf','sage','video','1.2.3','ed\x20sticker','re\x20message','cover','convert\x20st','eply\x20to\x20a\x20','includes','ted\x20from\x20s','e\x20top-leve','-vsync','-loop','map','unlink','=rgba,fps=','bot','_bot','concat','-preset','max','text','function','244368sfZDVI','message','original_a','ined\x20from\x20','delete','\x20it\x20to\x20a\x20v','\x20image\x20con','ticker:\x20','seconds','hex','catch','duced\x20empt','setFfmpegP','webp','failed\x20to\x20','l\x20error:\x20','o=increase','default','toBuffer','912825WfBHER','ons','t\x20to\x20an\x20im','3734988XcXsQi','ffmpeg\x20pro','split','an\x20animate','round','isBuffer','14NCUEcC','sticker-','asyncItera','has','\x20image\x20or\x20','outputOpti','o\x20create\x20s','load\x20@whis','resize','@g.us','format','ffprobe','\x20*animated','y\x20webp\x20fil','ideo.','\x20video:\x20','isAnimated','512:force_','-lossless','from','\x20convert\x20i','output','toimage','fromMe','mp4','sfully.','load\x20ffmpe','stead.','trim','sticker','spect_rati','eation\x20fai','ror:\x20','duration','\x20Maximum\x201','ticker','imageMessa','o\x20convert\x20','No\x20video\x20d','send\x20failu','❌\x20Video\x20is','led:\x20','sendMessag','ideo','rotate','p\x20conversi','error','tct','m\x20is\x20','-movflags','[sticker]\x20','edMatch\x20er','send\x20it\x20wi','512','Sticker\x20cr','jid','data','/baileys:\x20','remoteJid','ata\x20extrac',']\x20initiali','1369435AmCwqN','randomByte','❌\x20Failed\x20t','end','ntentFromM','length',']\x20cleaned\x20'];_0x1483=function(){return _0x53c87b;};return _0x1483();}export const priority=0x8d7+0x3*0xcdc+-0x2f61;export const commands=[_0x1375c5(0xe8),'s',_0x1375c5(0xe1),_0x1375c5(0x139)];let botInstance=null,respondedMsgIds=new Set(),_baileysModule=null,_sharp=null,_ffmpegInstaller=null,_fluentFfmpeg=null;async function getBaileysModule(){const _0x153a7d=_0x1375c5;if(_baileysModule)return _baileysModule;try{return _baileysModule=await import('@whiskeysockets/baileys'),_baileysModule;}catch(_0x5ad81e){throw new Error(_0x153a7d(0x14e)+_0x153a7d(0xd2)+'keysockets'+_0x153a7d(0x104)+_0x5ad81e['message']);}}async function getSharp(){const _0x53324f=_0x1375c5;if(_sharp)return _sharp;try{const _0xa5c01c=await import('sharp');return _sharp=_0xa5c01c[_0x53324f(0xc0)]||_0xa5c01c,_sharp;}catch(_0x1cb7c8){throw new Error(_0x53324f(0x14e)+'load\x20sharp'+':\x20'+_0x1cb7c8[_0x53324f(0xb0)]);}}async function getFfmpeg(){const _0x2c4d09=_0x1375c5;if(_ffmpegInstaller&&_fluentFfmpeg)return{'ffmpegPath':_ffmpegInstaller[_0x2c4d09(0x14f)],'ffmpegLib':_fluentFfmpeg};try{const _0x4dc2ec=await import('@ffmpeg-installer/ffmpeg'),_0x5725fa=await import('fluent-ffmpeg');_ffmpegInstaller=_0x4dc2ec['default']||_0x4dc2ec,_fluentFfmpeg=_0x5725fa[_0x2c4d09(0xc0)]||_0x5725fa;try{_fluentFfmpeg[_0x2c4d09(0xbb)+_0x2c4d09(0x130)](_ffmpegInstaller['path']);}catch(_0x2974ad){}return{'ffmpegPath':_ffmpegInstaller[_0x2c4d09(0x14f)],'ffmpegLib':_fluentFfmpeg};}catch(_0x70e7e6){throw new Error(_0x2c4d09(0x14e)+_0x2c4d09(0xe5)+_0x2c4d09(0x152)+_0x70e7e6['message']);}}async function streamToBuffer(_0x57c4e5){const _0x5ed0ba=_0x1375c5;if(!_0x57c4e5)return Buffer['alloc'](0xb*-0x1df+-0x13e+0x15d3);if(typeof _0x57c4e5[Symbol[_0x5ed0ba(0xcd)+_0x5ed0ba(0x141)]]===_0x5ed0ba(0xae)){const _0x1502f0=[];for await(const _0x358ee7 of _0x57c4e5){_0x1502f0[_0x5ed0ba(0x10f)](Buffer[_0x5ed0ba(0xca)](_0x358ee7)?_0x358ee7:Buffer[_0x5ed0ba(0xde)](_0x358ee7));}return Buffer[_0x5ed0ba(0xaa)](_0x1502f0);}if(typeof _0x57c4e5['on']==='function')return new Promise((_0x319fea,_0x5c797a)=>{const _0x437ff4=_0x5ed0ba,_0x3e813c=[];_0x57c4e5['on'](_0x437ff4(0x103),_0x301c33=>_0x3e813c[_0x437ff4(0x10f)](Buffer[_0x437ff4(0xca)](_0x301c33)?_0x301c33:Buffer['from'](_0x301c33))),_0x57c4e5['on'](_0x437ff4(0x10b),()=>_0x319fea(Buffer[_0x437ff4(0xaa)](_0x3e813c))),_0x57c4e5['on'](_0x437ff4(0xf9),_0x5c797a);});return Buffer['from'](await _0x57c4e5);}const getQuotedMessage=_0x4f2a98=>{const _0x43aeb0=_0x1375c5;return _0x4f2a98[_0x43aeb0(0xb0)]?.['extendedTe'+'xtMessage']?.[_0x43aeb0(0x156)+'o']?.['quotedMess'+_0x43aeb0(0x12e)]||_0x4f2a98[_0x43aeb0(0x128)]||null;};async function findStoredMatchFromFindings(_0x8bcdde=[]){const _0x476858=_0x1375c5;try{const _0x3ae8ca=await listSudo(),_0x3cf446=new Set(_0x3ae8ca[_0x476858(0xa5)](String));for(const _0x5635fd of _0x8bcdde){if(!_0x5635fd||typeof _0x5635fd['jid']!=='string')continue;const _0x59aea9=normalizeToJid(_0x5635fd[_0x476858(0x102)]);if(_0x59aea9&&_0x3cf446[_0x476858(0xce)](_0x59aea9))return _0x59aea9;if(_0x3cf446[_0x476858(0xce)](_0x5635fd[_0x476858(0x102)]))return _0x5635fd[_0x476858(0x102)];}return null;}catch(_0x1a2f17){return warn('['+name+(_0x476858(0x137)+_0x476858(0xfe)+_0x476858(0xeb))+(_0x1a2f17?.[_0x476858(0xb0)]||_0x1a2f17)),null;}}function tmpFilename(_0xe112c7=''){const _0x13bdce=_0x1375c5,_0xb41e97=_0x1d1482[_0x13bdce(0x109)+'s'](-0x1e51+-0x1241+0x309a)['toString'](_0x13bdce(0xb8));return _0x562dde[_0x13bdce(0x134)](_0x5e1475['tmpdir'](),_0x13bdce(0xcc)+_0xb41e97+(_0xe112c7?'.'+_0xe112c7:''));}export async function initialize(_0x32b707){const _0x1c2493=_0x1375c5;botInstance=_0x32b707,info('['+name+(_0x1c2493(0x107)+_0x1c2493(0x136)+_0x1c2493(0xe4)));}export async function cleanup(){const _0x3b9ce3=_0x1375c5;botInstance=null,respondedMsgIds[_0x3b9ce3(0x124)](),info('['+name+(_0x3b9ce3(0x10e)+'up'));}async function imageBufferToWebp(_0x4aeccf,{pack:pack='tct',author:author=_0x1375c5(0xfa),quality:quality=0xa5d*-0x1+0x24c3+-0x3f*0x6a}={}){const _0x4e2383=_0x1375c5,_0x2b07f1=await getSharp(),_0x525b35=_0x2b07f1(_0x4aeccf,{'animated':![]})[_0x4e2383(0xf7)]()[_0x4e2383(0xd3)](0x1d*0xdf+0x2*-0x272+0x125f*-0x1,0x490+0x19*0x151+-0x2379,{'fit':_0x4e2383(0x9d),'position':'center'})['webp']({'quality':typeof quality===_0x4e2383(0x13a)?quality:0x1eb*0x11+0x27*0x5d+-0x2e76}),_0x5a600a=await _0x525b35[_0x4e2383(0xc1)]();return _0x5a600a;}async function videoBufferToWebp(_0x357c5c,{maxDurationSec:maxDurationSec=-0x104c+0x17d4+0x779*-0x1,quality:quality=0x515*-0x5+-0x1*-0x1942+0x2*0x39}={}){const _0x2aa4f7=_0x1375c5,{ffmpegLib:_0x4e12f5}=await getFfmpeg(),_0x1e3709=_0x4e12f5,_0x17400c=tmpFilename('mp4'),_0x22dc1b=tmpFilename(_0x2aa4f7(0xbc));try{await _0x231e78['writeFile'](_0x17400c,_0x357c5c);const _0x241d39=await new Promise((_0x556478,_0x397594)=>{const _0x4cf946=_0x2aa4f7;_0x1e3709[_0x4cf946(0xd6)](_0x17400c,(_0x1b7fa1,_0x48aed7)=>{const _0x2162d5=_0x4cf946;if(_0x1b7fa1)return _0x397594(_0x1b7fa1);const _0xc709ad=_0x48aed7?.[_0x2162d5(0xd5)]?.[_0x2162d5(0xec)]||-0x2423+-0x941+0x2d64;_0x556478(Number(_0xc709ad)||-0x2294*-0x1+0x34*0x10+-0x25d4);});});if(_0x241d39>maxDurationSec)throw new Error('Video\x20too\x20'+_0x2aa4f7(0x114)+Math[_0x2aa4f7(0xc9)](_0x241d39)+(_0x2aa4f7(0x154)+_0x2aa4f7(0xfb))+maxDurationSec+'s.');await new Promise((_0x92045c,_0xb1a5a)=>{const _0x3dc741=_0x2aa4f7;_0x1e3709(_0x17400c)[_0x3dc741(0xd0)+_0x3dc741(0xc3)]([_0x3dc741(0x13f),_0x3dc741(0x11a),_0x3dc741(0x112),_0x3dc741(0x153)+_0x3dc741(0xdc)+_0x3dc741(0xb1)+'spect_rati'+_0x3dc741(0xbf)+',crop=512:'+'512,format'+_0x3dc741(0xa7)+'15',_0x3dc741(0xdd),'0',_0x3dc741(0xa4),'0',_0x3dc741(0xab),_0x3dc741(0xc0),'-an',_0x3dc741(0xa3),'0'])['outputOpti'+_0x3dc741(0xc3)](['-q:v',String(Math[_0x3dc741(0xac)](0xd79+-0xe8c*0x2+-0xfa9*-0x1,Math[_0x3dc741(0x120)](-0x179b*-0x1+0x2*0x9d9+-0x2ae9,quality)))])[_0x3dc741(0xe0)](_0x22dc1b)['on']('error',_0x491106=>{const _0x650c53=_0x3dc741;_0xb1a5a(new Error(_0x650c53(0x13b)+_0x650c53(0xf8)+'on\x20failed:'+'\x20'+(_0x491106?.[_0x650c53(0xb0)]||_0x491106)));})['on'](_0x3dc741(0x10b),()=>_0x92045c())[_0x3dc741(0x12d)]();});const _0xd49022=await _0x231e78[_0x2aa4f7(0x142)](_0x22dc1b);if(!_0xd49022||_0xd49022[_0x2aa4f7(0x10d)]===-0x1ea+-0x15*-0xef+-0x11b1)throw new Error(_0x2aa4f7(0xc6)+_0x2aa4f7(0xba)+_0x2aa4f7(0xd8)+'e');return _0xd49022;}finally{try{await _0x231e78[_0x2aa4f7(0xa6)](_0x17400c);}catch(_0x136571){}try{await _0x231e78['unlink'](_0x22dc1b);}catch(_0x7d1e2f){}}}async function webpToMp4(_0x1b69b7){const _0x324c4b=_0x1375c5,{ffmpegLib:_0x3163fc}=await getFfmpeg(),_0x333e39=_0x3163fc,_0x516f51=tmpFilename('webp'),_0x2e6941=tmpFilename(_0x324c4b(0xe3));try{await _0x231e78[_0x324c4b(0x11f)](_0x516f51,_0x1b69b7),await new Promise((_0x48df39,_0x51168c)=>{const _0x4c4cb3=_0x324c4b;_0x333e39(_0x516f51)[_0x4c4cb3(0xd0)+_0x4c4cb3(0xc3)]([_0x4c4cb3(0xfc),'+faststart','-pix_fmt','yuv420p',_0x4c4cb3(0x112),_0x4c4cb3(0x153)+'512:force_'+_0x4c4cb3(0xb1)+_0x4c4cb3(0xe9)+_0x4c4cb3(0xbf)+_0x4c4cb3(0x119)+_0x4c4cb3(0x100),'-an'])[_0x4c4cb3(0xd5)](_0x4c4cb3(0xe3))[_0x4c4cb3(0xe0)](_0x2e6941)['on'](_0x4c4cb3(0xf9),_0x2dd749=>_0x51168c(new Error(_0x4c4cb3(0x13b)+_0x4c4cb3(0x127)+_0x4c4cb3(0xf4)+(_0x2dd749?.[_0x4c4cb3(0xb0)]||_0x2dd749))))['on'](_0x4c4cb3(0x10b),()=>_0x48df39())[_0x4c4cb3(0x12d)]();});const _0x4c8c15=await _0x231e78['readFile'](_0x2e6941);if(!_0x4c8c15||_0x4c8c15['length']===0x25d6+-0x2021+-0x5b5)throw new Error(_0x324c4b(0xc6)+_0x324c4b(0xba)+'y\x20mp4\x20file');return _0x4c8c15;}finally{try{await _0x231e78[_0x324c4b(0xa6)](_0x516f51);}catch(_0x5f176a){}try{await _0x231e78[_0x324c4b(0xa6)](_0x2e6941);}catch(_0x240874){}}}async function webpBufferToImage(_0x120252,_0x2e951e='png'){const _0x4224b0=_0x1375c5,_0x1136dc=await getSharp(),_0x2a1c61=_0x1136dc(_0x120252,{'animated':![]});if(_0x2e951e===_0x4224b0(0x138)||_0x2e951e===_0x4224b0(0x144))return _0x2a1c61[_0x4224b0(0x138)]({'quality':0x5a})[_0x4224b0(0xc1)]();return _0x2a1c61[_0x4224b0(0x122)]()['toBuffer']();}export async function onMessage(_0x327071){const _0x552414=_0x1375c5;try{if(!_0x327071||!_0x327071[_0x552414(0x146)]||!_0x327071[_0x552414(0x118)])return;if(!botInstance)botInstance=_0x327071[_0x552414(0xa8)]||_0x327071[_0x552414(0x111)]||_0x327071[_0x552414(0xa9)]||null;const _0x40ef2f=_0x327071[_0x552414(0x146)]['id'];if(_0x40ef2f&&respondedMsgIds[_0x552414(0xce)](_0x40ef2f))return;_0x40ef2f&&(respondedMsgIds['add'](_0x40ef2f),setTimeout(()=>respondedMsgIds[_0x552414(0xb3)](_0x40ef2f),-0x1*0x4997+0x2*0x5315+-0x1*-0x189d));const _0x441659=(_0x327071[_0x552414(0xad)]||'')[_0x552414(0xe7)](),[_0x198ba9,..._0x3e607e]=_0x441659[_0x552414(0xc7)](/\s+/),_0x40771f=(_0x198ba9||'')[_0x552414(0x155)+'e']();if(!commands[_0x552414(0xa0)](_0x40771f))return;const _0x38684b=_0x327071[_0x552414(0x146)]['remoteJid']||_0x327071[_0x552414(0x105)]||'',_0x1ae9ed=String(_0x38684b)[_0x552414(0x132)](_0x552414(0xd4)),_0x49ffc2=getBotJid();let _0xc6ae23=_0x38684b;const _0x51fce0=Boolean(_0x327071['key']?.[_0x552414(0xe2)]);let _0x639390=_0x51fce0;if(_0x51fce0&&_0x49ffc2)_0xc6ae23=_0x49ffc2;if(!_0x639390){if(_0x1ae9ed)_0x639390=await isadmin(botInstance,_0x327071)[_0x552414(0xb9)](()=>![]);else{const _0x2f6a8b=await isSudo(botInstance,_0x327071)['catch'](()=>![]);if(_0x2f6a8b){const {findings:_0x43bb22}=userJidFromCtx(_0x327071),_0x3f5095=await findStoredMatchFromFindings(_0x43bb22);_0x3f5095&&(_0x639390=!![],_0xc6ae23=_0x3f5095);}}}if(!_0x639390)return;const _0x842015=_0x3e607e['join']('\x20');try{switch(_0x40771f){case'sticker':case's':await handleStickerCreation(_0xc6ae23,_0x842015,_0x327071);break;case _0x552414(0xe1):await handleStickerToImage(_0xc6ae23,_0x327071);break;case'tovideo':await handleStickerToVideo(_0xc6ae23,_0x327071);break;}}catch(_0x2d29f4){error(_0x2d29f4,'['+name+(']\x20Handler\x20'+'error:\x20')+(_0x2d29f4?.[_0x552414(0xb0)]||_0x2d29f4));try{await botInstance[_0x552414(0xf5)+'e'](_0xc6ae23,{'text':'An\x20unexpec'+'ted\x20error\x20'+'occurred\x20w'+'hile\x20proce'+_0x552414(0x129)+'\x20request.'},{'quoted':_0x327071['ms']});}catch(_0x4f1264){error(_0x4f1264,'['+name+(']\x20failed\x20t'+'o\x20send\x20err'+'or\x20message'));}}}catch(_0xcec887){error(_0xcec887,'['+name+(']\x20onMessag'+_0x552414(0xa2)+_0x552414(0xbe))+(_0xcec887?.[_0x552414(0xb0)]||_0xcec887));}}async function handleStickerCreation(_0x284945,_0x457b8a,_0x1580ea){const _0x11a814=_0x1375c5,_0x51f17e=getQuotedMessage(_0x1580ea),_0x11c4f4=_0x51f17e?.[_0x11a814(0xef)+'ge']||_0x1580ea[_0x11a814(0xb0)]?.['imageMessa'+'ge'],_0x552cda=_0x51f17e?.['videoMessa'+'ge']||_0x1580ea[_0x11a814(0xb0)]?.[_0x11a814(0x116)+'ge'];if(!_0x11c4f4&&!_0x552cda)return botInstance[_0x11a814(0xf5)+'e'](_0x284945,{'text':_0x11a814(0x126)+_0x11a814(0x133)+_0x11a814(0xcf)+_0x11a814(0x135)+_0x11a814(0xff)+'th\x20the\x20com'+_0x11a814(0x149)},{'quoted':_0x1580ea['ms']});const _0x290b98=(_0x457b8a||'')[_0x11a814(0xe7)]()||_0x11a814(0xfa),_0x1d6ce7=_0x11a814(0xfa);try{const _0x5cf1b7=await getBaileysModule(),_0x5cea7e=_0x5cf1b7[_0x11a814(0x14b)+_0x11a814(0x10c)+_0x11a814(0x11d)]||_0x5cf1b7[_0x11a814(0xc0)]?.['downloadCo'+_0x11a814(0x10c)+_0x11a814(0x11d)];if(!_0x5cea7e)throw new Error('downloadCo'+'ntentFromM'+_0x11a814(0x150)+_0x11a814(0x121)+_0x11a814(0x151)+_0x11a814(0x123)+_0x11a814(0x115));let _0xf1cc27,_0x514ad3=![];if(_0x11c4f4){const _0x186948=await _0x5cea7e(_0x11c4f4,_0x11a814(0x13c));_0xf1cc27=await streamToBuffer(_0x186948);}else{if(_0x552cda){if((_0x552cda[_0x11a814(0xb7)]||-0x235b+0x1*0x1b69+0x7f2)>0x2*-0xbff+-0x125*0xc+0x25c9)return botInstance[_0x11a814(0xf5)+'e'](_0x284945,{'text':_0x11a814(0xf3)+'\x20too\x20long.'+_0x11a814(0xed)+'5\x20seconds\x20'+_0x11a814(0x13d)+_0x11a814(0x9b)+'s.'},{'quoted':_0x1580ea['ms']});const _0x520adc=await _0x5cea7e(_0x552cda,_0x11a814(0x158));_0xf1cc27=await streamToBuffer(_0x520adc),_0x514ad3=!![];}}if(!_0xf1cc27||_0xf1cc27['length']===-0x1a29*-0x1+0xf84+-0x29ad)throw new Error(_0x11a814(0x110)+'uffer\x20obta'+_0x11a814(0xb2)+_0x11a814(0xb0));let _0x267f25;!_0x514ad3?_0x267f25=await imageBufferToWebp(_0xf1cc27,{'pack':_0x1d6ce7,'author':_0x290b98,'quality':0x50}):_0x267f25=await videoBufferToWebp(_0xf1cc27,{'maxDurationSec':0xf,'quality':0x4b});if(!_0x267f25||_0x267f25[_0x11a814(0x10d)]===-0x1e9f+0x1ec9+-0x7*0x6)throw new Error('Failed\x20to\x20'+_0x11a814(0x14c)+_0x11a814(0x12c)+'er');await botInstance['sendMessag'+'e'](_0x284945,{'sticker':_0x267f25},{'quoted':_0x1580ea['ms']});}catch(_0x477b5e){error(_0x477b5e,_0x11a814(0xfd)+_0x11a814(0x101)+_0x11a814(0xea)+_0x11a814(0x12f));try{await botInstance[_0x11a814(0xf5)+'e'](_0x284945,{'text':_0x11a814(0x10a)+_0x11a814(0xd1)+_0x11a814(0xb6)+(_0x477b5e?.[_0x11a814(0xb0)]||_0x477b5e)},{'quoted':_0x1580ea['ms']});}catch(_0xfc4246){error(_0xfc4246,_0x11a814(0xfd)+'failed\x20to\x20'+'send\x20failu'+_0x11a814(0x9c));}}}async function handleStickerToImage(_0x2f3084,_0x5bff87){const _0x36797c=_0x1375c5,_0x3c7ebf=getQuotedMessage(_0x5bff87);if(!_0x3c7ebf?.[_0x36797c(0x11e)+_0x36797c(0x157)])return botInstance['sendMessag'+'e'](_0x2f3084,{'text':_0x36797c(0x126)+_0x36797c(0x9f)+_0x36797c(0x14a)+_0x36797c(0xdf)+_0x36797c(0xc4)+'age.'},{'quoted':_0x5bff87['ms']});if(_0x3c7ebf['stickerMes'+_0x36797c(0x157)][_0x36797c(0xdb)])return botInstance['sendMessag'+'e'](_0x2f3084,{'text':_0x36797c(0x11b)+_0x36797c(0xc8)+_0x36797c(0x14d)+_0x36797c(0x131)+_0x36797c(0x12a)+'command\x20in'+_0x36797c(0xe6)},{'quoted':_0x5bff87['ms']});try{const _0x2f1331=await getBaileysModule(),_0x215da4=_0x2f1331['downloadCo'+'ntentFromM'+'essage']||_0x2f1331[_0x36797c(0xc0)]?.[_0x36797c(0x14b)+_0x36797c(0x10c)+_0x36797c(0x11d)];if(!_0x215da4)throw new Error('downloadCo'+'ntentFromM'+'essage\x20not'+_0x36797c(0x121));const _0x39e4a6=await _0x215da4(_0x3c7ebf['stickerMes'+'sage'],'image'),_0x405329=await streamToBuffer(_0x39e4a6);if(!_0x405329||_0x405329[_0x36797c(0x10d)]===-0x1*0x219f+-0x7fa*-0x4+0x1*0x1b7)throw new Error(_0x36797c(0x145)+_0x36797c(0x106)+_0x36797c(0xa1)+_0x36797c(0xee));const _0x4fda91=await webpBufferToImage(_0x405329,'png');await botInstance[_0x36797c(0xf5)+'e'](_0x2f3084,{'image':_0x4fda91,'caption':_0x36797c(0xfa)},{'quoted':_0x5bff87['ms']});}catch(_0x25ce79){error(_0x25ce79,'[sticker]\x20'+_0x36797c(0x143)+_0x36797c(0xb5)+_0x36797c(0x147)+_0x36797c(0x13e));try{await botInstance[_0x36797c(0xf5)+'e'](_0x2f3084,{'text':_0x36797c(0x10a)+_0x36797c(0xf0)+_0x36797c(0x14a)+_0x36797c(0x113)+(_0x25ce79?.['message']||_0x25ce79)},{'quoted':_0x5bff87['ms']});}catch(_0x369d46){error(_0x369d46,_0x36797c(0xfd)+_0x36797c(0xbd)+_0x36797c(0xf2)+_0x36797c(0x9c));}}}async function handleStickerToVideo(_0x2bbcd2,_0x2aac80){const _0x15190b=_0x1375c5,_0x1fb1ff=getQuotedMessage(_0x2aac80);if(!_0x1fb1ff?.['stickerMes'+_0x15190b(0x157)]||!_0x1fb1ff['stickerMes'+_0x15190b(0x157)][_0x15190b(0xdb)])return botInstance['sendMessag'+'e'](_0x2bbcd2,{'text':'ℹ️\x20Please\x20r'+_0x15190b(0x133)+_0x15190b(0xd7)+_0x15190b(0x140)+_0x15190b(0x12b)+_0x15190b(0xb4)+_0x15190b(0xd9)},{'quoted':_0x2aac80['ms']});try{const _0x2dfd28=await getBaileysModule(),_0x38f6f8=_0x2dfd28['downloadCo'+_0x15190b(0x10c)+_0x15190b(0x11d)]||_0x2dfd28[_0x15190b(0xc0)]?.['downloadCo'+_0x15190b(0x10c)+_0x15190b(0x11d)];if(!_0x38f6f8)throw new Error(_0x15190b(0x14b)+_0x15190b(0x10c)+_0x15190b(0x150)+_0x15190b(0x121));let _0x9deed3,_0x93b5b6;try{_0x9deed3=await _0x38f6f8(_0x1fb1ff[_0x15190b(0x11e)+_0x15190b(0x157)],_0x15190b(0x158)),_0x93b5b6=await streamToBuffer(_0x9deed3);}catch(_0x42e0dc){_0x9deed3=await _0x38f6f8(_0x1fb1ff['stickerMes'+_0x15190b(0x157)],_0x15190b(0x13c)),_0x93b5b6=await streamToBuffer(_0x9deed3);}if(!_0x93b5b6||_0x93b5b6[_0x15190b(0x10d)]===-0x52c+-0x29f+0x7cb)throw new Error(_0x15190b(0xf1)+_0x15190b(0x106)+'ted\x20from\x20s'+'ticker');const _0x43de67=await webpToMp4(_0x93b5b6);if(!_0x43de67||_0x43de67[_0x15190b(0x10d)]===0x3*-0xb2f+-0x2bf+0x244c)throw new Error(_0x15190b(0x14e)+_0x15190b(0x9e)+'icker\x20to\x20v'+_0x15190b(0xf6));await botInstance['sendMessag'+'e'](_0x2bbcd2,{'video':_0x43de67,'caption':_0x15190b(0xfa)},{'quoted':_0x2aac80['ms']});}catch(_0x5adc68){error(_0x5adc68,'[sticker]\x20'+'Sticker\x20to'+_0x15190b(0x148)+_0x15190b(0x147)+_0x15190b(0x13e));try{await botInstance['sendMessag'+'e'](_0x2bbcd2,{'text':_0x15190b(0x10a)+_0x15190b(0xf0)+_0x15190b(0x14a)+_0x15190b(0xda)+(_0x5adc68?.[_0x15190b(0xb0)]||_0x5adc68)},{'quoted':_0x2aac80['ms']});}catch(_0x3d5215){error(_0x3d5215,_0x15190b(0xfd)+_0x15190b(0xbd)+'send\x20failu'+_0x15190b(0x9c));}}}